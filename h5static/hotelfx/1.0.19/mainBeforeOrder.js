webpackJsonp([2],[function(e,t,i){var a,n;a=[i(30),i(31),i(48),i(51),i(52),i(67),i(60),i(61),i(65),i(66),i(47)],n=function(e,t){e.init()}.apply(t,a),!(void 0!==n&&(e.exports=n))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var a,n;a=[i(4)],n=function(e){return e}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a;!function(){var n,s=navigator.userAgent.toLowerCase(),o="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,r=screen.width/document.body.clientWidth!==1&&screen.height/document.body.clientHeight!==1,l=r?screen.width/o:screen.width,c=r?screen.height/o:screen.height,d=l>=600&&c>=600,p=/ ew(\w+)\/([\d.-_]*)/.test(s);n=p?1:location.host.match(/^m[\w\.]*\.elong\.com/)?2:4;var h=99;s.match(/android/)?h=d?8:3:s.match(/iphone/)?h=1:s.match(/ipad/)?h=2:s.match(/macintosh/)?h=7:s.match(/windows/)&&(h=s.indexOf("Touch")!==-1?d?9:5:7);var u=500,f=(new Date).getTime(),m=function(){var e="https:"===location.protocol?"msecure.elong.com":"tj.elongstatic.com",t="//"+e+"/t.gif?",i={g:Math.floor(99999*Math.random()),rf:"",bs:screen?screen.width+"*"+screen.height:""},a=[];for(var n in i)a.push(n+"="+i[n]);return t+=a.join("&")}(),g={fetchStart:"p88",domainLookupStart:"p89",domainLookupEnd:"p90",connectStart:"p91",connectEnd:"p92",requestStart:"p93",responseStart:"p94",responseEnd:"p95",domLoading:"p96",domContentLoadedEventEnd:"p97",loadEventEnd:"p99"},v=function(e,t){var i={},a={};if(e&&e.timing){for(var n in e.timing)"number"==typeof e.timing[n]&&t<e.timing[n]&&(t=e.timing[n]);for(var n in g)i[n]=e.timing[n]||t;for(var s in i){var o=g[s];o&&(a[o]=i[s])}}return a},y=function(e,t){var i={};i.timing={};for(var a in g)i.timing[a]=e;return i.timing.domContentLoadedEventEnd=t,i.timing.loadEventEnd=t,i};document.addEventListener("onrender",function(e){if("string"==typeof e.data1&&e.data1.indexOf(",")!==-1){var t=e.data1.split(","),i=y(t[1],t[0]);b.pt=e.detail,b.p98=t[0],b.__sendObj(i)}});var w=function(){this.vt=n,this.appt=h,document.cookie.match(/SessionGuid=([\w-]*)/)&&(this.sid=document.cookie.match(/SessionGuid=([\w-]*)/)[1]),document.cookie.match(/CookieGuid=([\w-]*)/)&&(this.cid=document.cookie.match(/CookieGuid=([\w-]*)/)[1]),navigator.connection&&(this.nt=navigator.connection.type),this.ch="webapp",this.pt="tjonly",this.p1="",this.p98=f},T=function(e,t){var i=v(e,f+u);for(var a in t)t[a]&&"function"!=typeof t[a]&&(i[a]=t[a]);var n="";for(var s in i)n=n+"&"+s+"="+i[s];(new Image).src=m+n};w.prototype.__sendObj=function(e){var t=this,i=(new Date).getTime();i-f>=u||e&&e.timing&&e.timing.loadEventEnd?T(e,t):setTimeout(function(){T(e,t)},u-i+f)},w.prototype.setChannel=function(e,t,i,a){e&&(this.ch=e),t&&(this.pt=t),"https"===location.protocol&&(this.pt+="s"),i&&(this.p1=i),a&&(this.cardno=a),this.__sendObj(window.performance)};var b=new w;!function(){var e={23:"http://www.elongstatic.com/hc/status.html",88:"//m.elongstatic.com/hc/status.html",1:"//pavo.elongstatic.com/hc/status.html"},t=parseInt(100*Math.random());try{if(e[t]){var i=(new Date).getTime(),a=new w;window.req=new XMLHttpRequest,req.timeout=3e3,req.onreadystatechange=function(){if(4===req.readyState){var n=(new Date).getTime(),s=y(i,n);a.ch="monitor",a.pt=req.status>0&&req.status<500?"cdnmonitor":"cdnerror",n-i>2e3&&(a.pt="cdnerror"),a.p98=n,a.p81=req.status,a.p82=e[t].match(/([^\/]*)\.elongstatic/)[1],a.p83=f,a.p85=req.getResponseHeader("chinacacheip")||"",a.__sendObj(s)}},req.open("HEAD",e[t],!0),req.send(null)}}catch(n){}}(),window.onerror=function(e,t,i,a,n){T(null,{ch:"webapp",pt:"jserror",p75:e,p76:t,p77:f,p78:b.ch+"_"+b.pt,p79:n?n.stack:e})},a=function(){"use strict";return b}.call(t,i,t,e),!(void 0!==a&&(e.exports=a)),window.tjClient=b}()},,function(e,t,i){var a;!function(){function n(e,t){return(/string|function/.test(typeof t)?p:d)(e,t)}function s(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?s(e.call(e)):""),e}function o(e){return m[e]}function r(e){return s(e).replace(/&(?![\w#]+;)|[<>"']/g,o)}function l(e,t){if(g(e))for(var i=0,a=e.length;a>i;i++)t.call(e,e[i],i,e);else for(i in e)t.call(e,e[i],i)}function c(e,t){var i=/(\/)[^\/]+\1\.\.\1/,a=("./"+e).replace(/[^\/]+$/,""),n=a+t;for(n=n.replace(/\/\.\//g,"/");n.match(i);)n=n.replace(i,"/");return n}function d(e,t){var i=n.get(e)||h({filename:e,name:"Render Error",message:"Template not found"});return t?i(t):i}function p(e,t){if("string"==typeof t){var i=t;t=function(){return new f(i)}}var a=u[e]=function(i){try{return new t(i,e)+""}catch(a){return h(a)()}};return a.prototype=t.prototype=v,a.toString=function(){return t+""},a}function h(e){var t="{Template Error}",i=e.stack||"";if(i)i=i.split("\n").slice(0,2).join("\n");else for(var a in e)i+="<"+a+">\n"+e[a]+"\n\n";return function(){return"object"==typeof console&&console.error(t+"\n\n"+i),t}}var u=n.cache={},f=this.String,m={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},g=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},v=n.utils={$helpers:{},$include:function(e,t,i){return e=c(i,e),d(e,t)},$string:s,$escape:r,$each:l},y=n.helpers=v.$helpers;n.get=function(e){return u[e.replace(/^\.\//,"")]},n.helper=function(e,t){y[e]=t},a=function(){return n}.call(t,i,t,e),!(void 0!==a&&(e.exports=a)),n("HistoryList",function(e){"use strict";var t=this,i=(t.$helpers,t.$each),a=e.HistoryInfo,n=(e.room,e.index,t.$string),s="";return i(a,function(e){s+=" <dd>",s+=n(e.HotelName),s+='<span>￥<i class="num">',s+=n(e.HotelPrice),s+='</i><i class="up">起</i></span></dd> '}),new f(s)}),n("addClause",'<h1>1．艺龙旅行网服务条款的确认</h1> <p>艺龙旅行网的所有权与运作权归北京艺龙信息技术有限公司（以下简称"艺龙"）所有。本服务条款具有法律约束力。一旦您点选"注册"并通过注册程序，即表示您自愿接受本协议之所有条款，并已成为艺龙旅行网的注册会员。 用户在享用艺龙网络会员服务的同时，同意接受艺龙网络会员服务提供的各类信息服务。</p> <h1>2．服务内容</h1> <p>2.1 艺龙旅行网服务的具体内容由艺龙根据实际情况提供，艺龙对其所提供之服务拥有最终解释权。</p> <p>2.2 艺龙在艺龙旅行网上向其会员提供相关网络服务，与相关网络服务有关的设备（如个人电脑、手机、及其他与接入互联网或移动网有关的装置）及所需的费用（如为接入互联网而支付的电话费及上网费、为使用移动网而支付的手机费）均由会员自行负担。</p> <p>2.3 授权艺龙向注册所使用号码发送确认订单说明短信、优惠促销活动通知类短信、周边服务类短信（其中优惠促销活动通知信息每周不超过2条），用户有权在个人中心进行权限修改。</p> <h1>3．会员帐号及密码</h1> <p>3.1 用户可通过在艺龙旅行网网站系统或移动客户端系统完成注册程序并通过身份认证成为会员。如会员的账号信息（包括但不限于用户名、头像、简介、个性签名等）含有不雅、不当、非法、令人反感的词汇或图像或存在以下情形的，艺龙可不予注册，并保留对已注册会员进行注销的权利：</p> <p>1. 冒用党和国家领导人、社会名人、国家机构或其他社会机构的真实姓名、名称、字号、艺名、笔名注册的；</p> <p>2. 包含不文明、不健康内容，或包含歧视、侮辱、猥亵类词语的；</p> <p>3. 注册易产生歧义、引起他人误解或其他不符合法律规定的账号的。</p> <p>3.2 您注册会员成功后，将得到一个帐号和密码。您应妥善保管该帐号及密码，并对以该帐号进行的所有活动及事件负法律责任。因黑客行为或会员保管疏忽致使帐号、密码被他人非法使用的，艺龙不承担任何责任。如您发现任何非法使用会员帐号或安全漏洞的情况，请立即与艺龙联系。</p> <h1>4．会员权责</h1> <p>4.1 会员有权按照艺龙规定的程序和要求使用艺龙向会员提供的各项网络服务，如果会员对该服务有异议，可以与艺龙联系以便得到及时解决。</p> <p>4.2 用户在申请使用艺龙旅行网网络服务时，必须向艺龙旅行网提供准确的个人资料，如个人资料有任何变动，必须及时更新。</p> <p>4.3 会员须同意接受艺龙旅行网通过电子邮件或其他方式向会员发送促销或其他相关商业信息。</p> <p>4.4 会员在艺龙旅行网的网页上发布信息或者利用艺龙旅行网的服务时必须符合国家的法律法规以及国际法的有关规定。</p> <p>4.5 对于会员通过艺龙旅行网网上消息平台（包括但不限于论坛、BBS、评论）上传到艺龙旅行网网站上可公开获取区域的任何内容，会员同意授予艺龙在全世界范围内享有完全的、免费的、永久性的、不可撤销的、非独家的权利，以及再许可第三方的权利，以使用、复制、修改、改编、出版、翻译、据以创作衍生作品、传播、表演和展示此等内容（整体或部分），和/或将此等内容编入当前已知的或以后开发的其他任何形式的作品、媒体或技术中。</p> <p>4.6 会员承诺不会在艺龙旅行网的消息平台（包括但不限于论坛、BBS、评论）发布或在其账号注册信息（包括但不限于用户名、头像、简介、个性签名等）包含如下信息：</p> <p>1. 反对宪法所确定的基本原则或违反宪法或法律法规规定的；</p> <p>2. 危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一的；</p> <p>3. 损害国家荣誉和利益的，损害公共利益的；</p> <p>4. 煽动民族仇恨、民族歧视，破坏民族团结的；</p> <p>5. 破坏国家宗教政策，宣扬邪教和封建迷信的；</p> <p>6. 散布谣言，扰乱社会秩序，破坏社会稳定的；</p> <p>7. 散布淫秽、色情、赌博、暴力、凶杀、恐怖或者教唆犯罪的；</p> <p>8. 侮辱或者诽谤他人，侵害他人合法权益的；</p> <p>9. 含有法律、行政法规禁止的其他内容的。</p> <p>4.7 会员单独为其发布在艺龙旅行网上信息承担责任。会员若在艺龙旅行网散布和传播违法信息，网络会员服务的系统记录有可能作为会员违法之证据。</p> <p>4.8 会员不得利用本站的服务从事以下活动：</p> <p>1. 未经允许，进入计算机信息网络或者使用计算机信息网络资源；</p> <p>2. 未经允许，对计算机信息网络功能进行删除、修改或者增加；</p> <p>3. 未经允许，对进入计算机信息网络中存储、处理或者传输的数据和应用程序进行删除、修改或者增加；</p> <p>4. 故意制作、传播计算机病毒等破坏性程序；</p> <p>5. 其他危害计算机信息网络安全的行为。</p> <p>4.9 会员不得以任何方式干扰本站的服务。</p> <p>4.10 会员承诺遵守本站的所有其他规定和程序。</p> <p>4.11 如果会员违反上述规定，艺龙有权要求其改正或直接采取一切必要措施（包括但不限于更改或删除会员发布的信息、中断或终止会员使用网络的权利、暂时冻结账户或注销其登记等），以减轻会员不当行为所造成的影响。</p> <p>4.12 会员应承诺遵守法律法规、拥挤社会主义制度、不损害国家利益、公民合法权益和公共秩序、社会道德风尚，并确保其信息的真实性。</p> <h1>5．服务条款的修改</h1> <p>艺龙有权在必要时修改本服务条款而无需事先通知用户。艺龙行使该修改权，无需对用户或第三方承担任何责任。 会员如不同意修改，可以主动选择取消会员资格；如果会员继续使用艺龙旅行网服务，将被视为接受修改后的服务条款。</p> <h1>6．服务内容的修改或中断</h1> <p>鉴于网络服务的特殊性，艺龙保留随时修改或中断其部分或全部网络服务的权利，并无需通知会员或为此对会员及任何第三方负责。</p> <h1>7．会员隐私保护</h1> <p>艺龙尊重会员的隐私权，不会公开、编辑或泄露任何有关会员的个人资料以及会员在使用网络服务时存储在艺龙旅行网的非公开内容，但以下情况除外：</p> <p>1. 事先获得会员的明确授权；</p> <p>2. 遵守法律规定或艺龙旅行网合法服务程序；</p> <p>3. 按照相关政府主管部门的合理要求；</p> <p>4. 维护社会公众利益；</p> <p>5. 维护艺龙的合法权益；</p> <p>6. 符合其他合法要求。</p> <h1>8．中断或终止服务</h1> <p>如发生下列任何一种情形，艺龙有权随时中断或终止向会员提供本协议项下的网络服务，而无需对会员或任何第三方承担任何责任。</p> <p>1. 会员向艺龙提供的个人资料不真实。</p> <p>2. 会员违反本协议的规则或不履行其所承担的义务。</p> <p>除此之外，会员可随时根据需要通知艺龙终止向该会员提供服务，会员服务终止后，会员使用服务的权利同时终止。自会员服务终止之时起，艺龙旅行网不再对该会员承担任何责任。</p> <h1>9. 知识产权及其他权益</h1> <p>9.1 艺龙旅行网专属权利</p> <p>9.1.1除明显归属于合作伙伴、第三方所有的信息资料外，艺龙旅行网拥有网络服务内所有内容，包括但不限于文字、图片、图形、表格、动画、程序、软件、音频和视频资料等单独或组合的版权。任何被授权的浏览、复制、打印和传播属于本网站内的内容必须符合以下条件：</p> <p>1) 所有的资料和图像均以获得信息为目的；</p> <p>2) 所有的资料和图像均不得用于商业目的；</p> <p>3) 所有的资料和图像及其任何部分都必须包括此版权声明。</p> <p>未经艺龙旅行网许可，任何人不得擅自以非法的方式复制、传播、展示、镜像、上载、下载进行使用；否则，艺龙旅行网将依法追究法律责任。</p> <p>9.1.2艺龙为提供网络服务而自行开发的软件，包括不限于无线客户端应用等，拥有完整的知识产权。艺龙在此授予您个人非独家、不可转让、可撤销的，并通过在一部拥有所有权或使用权的手机或计算机上使用该软件的权利，且仅限于个人非商业性使用之合法目的，您应当保证合法使用该等软件，任何用户不得对该等软件进行如下违法行为：</p> <p>1) 开展反向工程、反向编译或反汇编，或以其他方式发现其原始编码，以及实施任何涉嫌侵害著作权等其他知识产权的行为；</p> <p>2) 以出租、租赁、销售、转授权、分配或其他任何方式向第三方转让该等软件或利用该等软件为任何第三方提供相似服务；</p> <p>3) 任何复制该等软件的行为；</p> <p>4) 以移除、规避、破坏、损害或其他任何方式干扰该等软件的安全功能；</p> <p>5) 以不正当手段取消该等软件上权利声明或权利通知的；</p> <p>6) 其他违反法律规定的行为。</p> <p>艺龙有权对该等软件进行定期或不定期的修订、扩展、升级等更新措施，而无需提前通知用户，但您有权选择是否使用更新后的软件。</p> <p>9.1.3以下文字、图形及艺龙旅行网服务LOGO等，均为艺龙旅行网及其关联公司的注册商标以及受法律保护的商号；未经授权的任何形式使用，均为侵权，将被依法追究其责任：</p> <p>“eLong.com”，“艺龙”，“艺龙旅行网”，“e龍”，“e龙”，“XICI”，“西祠”，“西祠胡同”等。</p> <p>9.2知识产权权属</p> <p>9.2.1您应对通过艺龙旅行网或艺龙移动客户端上传的可公开浏览区域中任何内容的真实性、合法性负责，保证对该等内容拥有完整的、无瑕疵的所有权和知识产权，或拥有完整的授权，并不存在任何侵犯第三方合法权益（包括但不限于著作权、肖像权、商标权、专利权、企业名称权、商号权、商业秘密、个人隐私、合同权利等权利）的情形。因您上传或发布该等内容而给艺龙或任何第三方造成的损害和相关后果，均由您全部承担，艺龙旅行网对此不承担任何责任；且艺龙旅行网有义务配合第三方、司法机关或行政机关完成相关的取证，并根据法律、主管部门或司法部门的要求将用户注册信息给予披露。</p> <p>9.2.2对于您通过互联网或移动终端等设备访问艺龙旅行网及其关联公司网站时发表的任何形式的文字、图片等信息及内容：</p> <p>1) 您在此同意将您在任何时间段在本站发表的任何形式的信息的著作财产权，包括但不限于：复制权、发行权、出租权、展览权、表演权、放映权、广播权、信息网络传播权、摄制权、改编权、翻译权、汇编权、据以创作衍生作品权以及其他除必须由著作权人享有的权利以外的可转让权利，无偿独家转让给艺龙及其关联公司所有。</p> <p>2) 您在此同意并授予艺龙及其关联公司独家的、全球通用的、永久的、免费的许可使用权利 (并有权在多个层面对该权利进行再授权)。</p> <p>3) 您在此同意并授予艺龙及其关联公司有权(全部或部份地)使用、复制、修订、改写、发布、翻译、分发、执行和展示您的全部资料数据（包括但不限于注册资料、交易行为数据及全部展示于艺龙旅行平台的各类信息）或制作其派生作品，并以现在已知或日后开发的任何形式、媒体或技术，将上述信息纳入艺龙旅行作品内。</p> <p>4) 您同意并许可艺龙就任何主体侵权而单独提起诉讼，并获得全部赔偿。</p> <p>5) 您保证不将已发表于本站的信息资料，以任何形式发布或授权其它网站（及媒体）使用；同时，您承诺配合艺龙为保证您发表的信息资料的独家性而进行的任何合法的维权行为。</p> <p>6）本协议已经构成《著作权法》第二十五条所规定的书面协议，其效力及于用户在艺龙旅行网发布的任何受著作权法保护的作品内容，无论该内容形成于本协议签订前还是本协议签订后。</p> <p>9.2.3艺龙为提供网络服务而使用的任何软件（包括但不限于软件中的任何文字、图形、音频、视频资料及其辅助资料）的一切权利属于该软件的著作权人，未经该著作权人同意，任何人不得对该软件进行反向工程、反向编译或反汇编。。</p> <p>9.2.4若您浏览、复制、打印和传播艺龙旅行网其他用户上传到艺龙旅行网站的内容，应保证仅用于个人欣赏之目的，不得用于商业目的，不得侵犯权利人的合法权益以及艺龙旅行网的合法权益和商业利益。</p> <p>9.3若您认为您的知识产权或其他合法权益被侵犯，请向艺龙提供以下资料：</p> <p>1) 对涉嫌侵权内容拥有知识产权或其他合法权益的权属证明；</p> <p>2) 权利人具体的主体资质和联络信息，包括个人的姓名、身份证或护照复印件、单位的营业执照复印件或者其他资质证明复印件、通信地址及电话号码等；</p> <p>3) 涉嫌侵权内容在本网站上的位置；</p> <p>4) 对侵权情况的详细描述；</p> <p>5) 请在权利通知中加入如下关于通知内容真实性的声明：“我保证，本通知中所述信息是充分、真实、准确的，如果本权利通知内容不完全属实，本人将承担由此产生的一切法律责任。”</p> <p>6) 在签字或加盖公章后，请将上述资料发往以下地址：北京市朝阳区酒仙桥路10号星科大厦C座三层艺龙法务部（邮编100015），也可发往以下邮箱：legal@corp.elong.com。</p> <p>9.4艺龙及其关联公司是艺龙旅行网的制作者，拥有此网站内容及资源的全部著作权；未经艺龙的明确书面许可，任何第三方不得为任何非私人或商业目的获取或使用本网站的任何部分或通过本网站可直接或间接获得的任何内容、服务或资料。任何第三方违反本协议的规定以任何方式，和/或以任何文字对本网站的任何部分进行发表、复制、转载、更改、引用、链接、下载或以其他方式进行使用，或向任何其它第三方提供获取本网站任何内容的渠道，则对本网站的使用权将立即终止，且任何第三方必须按照艺龙的要求，归还或销毁使用本网站任何部分的内容所创建的资料的任何副本。同时，艺龙保留进一步追究其法律责任的权利。</p> <h1>10．免责声明</h1> <p>10.1 艺龙对任何因会员不正当或非法使用服务、在网上进行交易、在账户信息中散播非法或不良信息、或会员传送信息变动而产生的直接、间接、偶然、特殊及后续的损害不承担责任。</p> <p>10.2 艺龙对任何他人的威胁性的、诽谤性的、淫秽的、令人反感的或非法的内容或行为或对他人权利的侵犯（包括知识产权）不承担责任；并对任何第三方通过服务发送或在服务中包含的任何内容不承担责任。</p> <p>10.3 会员明确同意承担因其提供个人信息不真实、不准确而对艺龙或艺龙网络服务造成的一切不利后果。 会员明确同意其使用艺龙旅行网服务所存在的风险以及使用艺龙网络服务产生的一切后果由其自己承担。</p> <p>10.4 对于因不可抗力或艺龙旅行网不能控制的原因造成的网络服务中断或其它缺陷，艺龙旅行网不承担任何责任，但将尽力减少因此而给用户造成的损失和影响。</p> <p>10.5 艺龙不对所提供之网络服务做任何类型之担保，包括但不限于：</p> <p>1. 网络服务一定能满足会员要求；</p> <p>2. 网络服务不会中断；</p> <p>3. 网络服务的及时性、安全性、准确性。</p> <p>但是艺龙对不违反规定的特定目的担保不作限制。</p> <h1>11．赔偿</h1> <p>因会员对本服务之使用而导致艺龙遭受任何来自第三方之纠纷、诉讼及索赔要求，会员同意向艺龙及其关联企业、职员赔偿相应损失（包括合理的律师费），并尽力使之免受损害。</p> <h1>12．通告</h1> <p>所有发给会员的通告都可以通过重要页面的公告、电子邮件以及常规信件的形式传送。</p> <h1>13．法律</h1> <p>艺龙服务条款之效力、解释、执行均适用中华人民共和国法律。如发生争议，应提交至有管辖权之人民法院。</p> <h1>14．其他规定</h1> <p>本服务条款中的标题仅为方便而设，在解释本服务条款时应被忽略。</p>'),n("addGuide","<h1>1.返现是什么？</h1> <p>“返现”是艺龙回馈客户的一种优惠促销方式。您在艺龙预订酒店或机票，成功消费后艺龙会将当次消费款中一定比例的金额返还到您的艺龙账户。</p> <h1>2.返现有什么用？</h1> <p>提现到自己的银行卡。</p> <p>使用艺龙时返现金额直接购买预付酒店。</p> <h1>3.红包返现是什么？</h1> <p>当您拥有艺龙酒店红包且此产品可以使用红包返现时，需要您手动选择页面下方的“红包返现”，离店后30天内到“个人中心”的“酒店订单”去领取返现，系统会将对应的红包金额打入您的账户中。</p> <h1>4.什么时候把返现给我？</h1> <p>预订带有“返现xx”或“红包返现xx”的酒店订单，离店后30天内到“个人中心”的“酒店订单”去领取返现！您领取返现（从入住日开始之后30天内可领取返现）且离店结账3个工作日后您的艺龙账户中冻结的返现金额可使用。</p> <h1>5.如何查询返现是否到达我的艺龙账户？</h1> <p>返现到账后，您会收到短信提醒，或者用电脑或手机登录艺龙官网，进入”我的账户或个人中心“页面，在您的艺龙“现金账户”中查询您的返现详情。</p> <h1>6.提现说明</h1> <p>1) 普通会员单笔提现金额&lt;200元时收取5元/次的手续费(≥200元免手续费)；</p> <p>2) 贵宾会员单笔提现金额&lt;100元时收取5元/次的手续费(≥100元免手续费)；</p> <p>3) 龙萃会员和钻石龙萃会员可特享1元以上随意提，免手续费。建议您可以累积到免手续费额度以上再提现，就没有手续费了哦~</p> <h1>7.预付立减</h1> <p>预付立减时艺龙回馈会员的一种促销方式。当您预订预付产品时，如有立减，系统会自动将相应的立减金额从您订单总价中减去。</p> <h1>8.红包立减</h1> <p>当您拥有艺龙酒店红包且此预付产品可以使用红包时，需要您手动选择页面下方的“红包立减”，系统就会自动将相应的立减金额从您订单总价中减去。</p> <h1>9.特别提醒</h1> <p>只有登录的用户才能获得返现或者享受立减。</p>"),n("addKickback",'<h1 style="color: #353535;font-size: .8125rem">返现领取说明</h1> <p>1、用户需在入住日至离店日16点期间，在酒店附近（约半径5km内）进入微信钱包艺龙订单详情页，点击“领取返现”按钮可获得返现，过期不领视为自动放弃；返现金额将在用户离店结账后3个工作日内返至用户在微信钱包艺龙账户“我的钱包”中的“现金账户”中。</p> <p>2、本活动仅限新会员方可预定，每个账户参与活动只能享受一间夜的返现，参与活动的酒店不同，返现金额不同，具体以预定时微信钱包艺龙酒店展示为准。</p> <p>3、同一会员账号／手机号／银行卡／支付账号／入住人，最多只能下一张活动订单，每张订单需大于等于一间夜，其中仅限一间夜活动产品。</p> <p>4、入住期间延住的间夜，不可享受活动折扣的返现。</p> <p>5、若出现作弊行为，艺龙有权取消已成的活动订单；即使订单已被确认，艺龙有权随时拒绝履行该订单，且艺龙有权取消该用户后续参与艺龙其他活动的资格。艺龙同时保留进一步追究作弊行为人／作弊酒店法律责任的合法权利。</p> <p>6、在法律允许范围内，根据活动的进展情况艺龙旅行网可能对活动规则／条款作出适当修改／调整。</p>'),n("comment",function(e){"use strict";var t=this,i=(t.$helpers,e.totalCommentNumber),a=e.comments,n=t.$escape,s=e.goodCommentNumber,o=t.$string,r="";return 0==i?r+=' <div class="write"> <ul> <li>这么好的酒店竟然没人点评，快来抢沙发点评吧！</li> </ul> </div> ':i>=5&&0==a.length?(r+=' <div class="write"> <ul> <li>酒店老板哭晕，快来为这家酒店平反吧！</li> </ul> </div> <p class="more_p info-comments">查看',r+=n(i),r+="条住客评价<i></i></p> "):5>i&&(0==a.length||0==s)?r+=' <div class="write"> <ul> <li>酒店老板哭晕，快来为这家酒店平反吧！</li> </ul> </div> <p class="more_p info-comments">查看全部住客评价<i></i></p> ':0!=i&&""==a[0].content?(r+=' <div class="right_c"> <p>酒店不错，来预订吧！</p> </div> <p class="more_p info-comments">查看',r+=n(i),r+="条住客评价<i></i></p> "):i>=5?(r+=' <div class="right_c"> <h1>',r+=n(a[0].userName),r+='<span class="ping">',r+=o(a[0].userRank),r+="</span></h1> <p>",r+=n(a[0].content),r+='</p> </div> <p class="more_p info-comments">查看',r+=n(i),r+="条住客评价<i></i></p> "):5>i&&(r+=' <div class="right_c"> <h1>',r+=n(a[0].userName),r+='<span class="ping">',r+=o(a[0].userRank),r+="</span></h1> <p>",r+=n(a[0].content),r+='</p> </div> <p class="more_p info-comments">查看全部住客评价<i></i></p> '),new f(r)}),n("guidetext","<h1>1.返现是什么？</h1> <p>“返现”是艺龙回馈客户的一种优惠促销方式。您在艺龙预订酒店或机票，成功消费后艺龙会将当次消费款中一定比例的金额返还到您的艺龙账户。</p> <h1>2. 如何获取返现？</h1> <p>您需要在预订酒店时，勾选“可领取返现XX”选项才可获取返现；不勾选将无法获取返现。</p> <h1>3.返现有什么用？</h1> <p>提现到自己的银行卡。</p> <p>使用艺龙app用返现金额直接购买预付酒店。</p> <h1>4.红包返现是什么？</h1> <p>当您拥有艺龙酒店红包且此产品可以使用红包返现时，需要您手动勾选页面下方的“红包返现”，系统会在您离店结账后将对应的红包金额打入您的账户。</p> <h1>5.什么时候把返现给我？</h1> <p>预订带有“返现xx”的酒店订单，离店后30天内到“个人中心”的“酒店订单”去领取返现！您领取返现（从入住日开始之后30天内可领取返现）且离店结账3个工作日后您的艺龙账户中冻结的返现金额可使用。</p> <h1>6.如何查询返现是否到达我的艺龙账户？</h1> <p>返现到账后，您会收到短信提醒，或者用电脑或手机登录艺龙官网，进入”我的账户或个人中心“页面，在您的艺龙“现金账户”中查询您的返现详情。</p> <h1>7.预付立减</h1> <p>预付立减时艺龙回馈会员的一种促销方式。当您预订预付产品时，如有立减，系统会自动将相应的立减金额从您订单总价中减去。</p> <h1>8.红包立减</h1> <p>当您拥有艺龙酒店红包且此预付产品可以使用红包时，需要您手动勾选页面下方的“红包立减”，系统就会自动将相应的立减金额从您订单总价中减去。</p> <h1>9.特别提醒</h1> <p>只有登录的用户才能获得返现或者享受立减。</p>"),n("history",function(e){"use strict";var t=this,i=(t.$helpers,t.$each),a=e.historyInfo,n=(e.history,e.index,t.$escape),s=e.subPath,o=t.$string,r="";return i(a,function(e){r+=' <dd> <a href="',r+=n(s),r+=o(e.HotelId),r+='/"> ',r+=o(e.HotelName),r+=' </a><span>￥<i class="num">',r+=o(e.HotelPrice),r+='</i><i class="up">起</i></span></dd> '}),new f(r)}),n("hotelInfoDetail",function(e){"use strict";var t=this,i=(t.$helpers,t.$escape),a=e.hotelName,n=e.hotelAddress,s=e.has_faclity,o=e.generalAmenities,r=t.$each,l=e.facilityList,c=(e.facility,e.$index,e.hotelPolicies),d=(e.policy,e.i,e.value,e.index,e.openDate),p=e.decorateDate,h=e.featureInfo,u=e.hotelPayCard,m=(e.info,e.traffics),g=(e.traffic,e.position,"");return g+='<div class="hotel_info_facbox"> <header class="bar bar-nav"> <a class="icon pull-left icon-back"></a> <h1 class="title">酒店详情</h1> </header> <div class="page-content"> <section class="info-pop-box"> <div class="na clearfix"> <div class="na_lf"> <div class="name">',g+=i(a),g+='</div> <div class="addr"><i></i>',g+=i(n),g+='</div> </div> <div class="na_rt"> <i class="ip_icons"></i> </div> </div> ',(s||o.length)&&(g+=' <div class="facilities_con"> <dl class="facilities"> <dt>酒店设施</dt> ',s&&(g+=" ",r(l,function(e){g+=' <dd class="',g+=i(e.hasSupport?"":"no"),g+='"> <i class="i',g+=i(e.icon),g+='"></i> <p> ',e.hasFree?(g+=" 免费",g+=i(e.name),g+=" "):(g+=" ",g+=i(e.name),g+=" "),g+=" </p> </dd> "}),g+=" "),g+=" </dl> ",s||(g+="  "),g+=' <div class="fac_txt"> <div class="fac_txtc"> <div class="fac_txtc_h"> <p>',g+=i(o),g+='</p> </div> </div> <div class="fac_more">查看更多</div> </div> </div> '),g+=" ",c.length&&(g+=' <div class="other"> <dl> <dt>温馨提示</dt> ',r(c,function(e){g+=' <dd class="clearfix"> <span class="dct_tit">',g+=i(e.name),g+='：</span> <span class="dct_txt"> ',r(e.value,function(t,a){g+=" ",g+=i(t),g+=" ",a!=e.value.length-1&&(g+=" <br/> "),g+=" "}),g+=" </span> </dd> "}),g+=" </dl> </div> "),g+=' <div class="intro"> <div class="tit">酒店简介</div> <div class="intro_con"> ',(d.length||p.length)&&(g+=' <div class="ht_txt clearfix"> ',d.length&&(g+=' <div class="dct_con"> <span class="dct_tit">开业时间：</span> <span class="dct_txt">',g+=i(d),g+="</span> </div> "),g+=" ",p.length&&(g+=' <div class="dct_con"> <span class="dct_tit">装修时间：</span> <span class="dct_txt">',g+=i(p),g+="</span> </div> "),g+=" </div> "),g+=" ",(h.length||u.length)&&(g+=' <div class="text_con_h"> ',h.length&&(g+=' <div class="text"> ',r(h,function(e,t){g+=" ",g+=i(e),g+=" ",t!=h.length-1&&(g+=" <br/> "),g+=" "}),g+=" </div> "),g+=" ",u.length&&(g+=' <div class="ht_dct clearfix"> <span class="dct_tit">支持卡种：</span> <span class="dct_txt">',g+=i(u),g+="</span> </div> "),g+=" </div> "),g+='  </div> <div class="fac_more">查看更多</div> </div> ',m.length&&(g+=' <div class="periphery"> <div class="tit">酒店周边</div> <div class="preiphety_con"> ',r(m,function(e){g+=' <div class="distance_lst clearfix"> <div class="prpy_icon"> ',"4"==e.type?g+=' <i class="dt_icons"></i> ':"1"==e.type?g+=' <i class="jc_icons"></i> ':"2"==e.type?g+=' <i class="hcz_icons"></i> ':"3"==e.type?g+=' <i class="qcz_icons"></i> ':"6"==e.type?g+=' <i class="xx_icons"></i> ':"7"==e.type?g+=' <i class="yy_icons"></i> ':"5"==e.type&&(g+=' <i class="jd_icons"></i> '),g+=' </div> <div class="prpy_distance"> ',r(e.positions,function(e){g+=' <p class="clearfix"> <span class="ads_txt">',g+=i(e.positionName),g+='</span> <span class="dtc_txt">直线距离',g+=i(e.distance),g+="</span> </p> "}),g+=" </div> </div> "}),g+=" </div> </div> "),g+=' <div class="btn_con"> <a href="#" class="btn">返回并继续预订</a> </div> </section> </div> </div> ',new f(g)}),n("insurance",'<div class="insuranceInfoShow" > <div class="intro"> <div class="clause"> <span>保险名称：</span> 艺龙国内预付酒店取消险； </div> <div class="clause"> <span>保险公司：</span> 太平财产保险股份有限公司； </div> <div class="clause"> <span>保险经纪公司：</span> 深圳众诚泰保险经纪有限公司； </div> <div class="clause"> <span>产品备案号：</span> （太平财产）（备-普通家财险）[2016]（主）009号或者（国寿财险）（备-其他）[2016]（主）016号 </div> <div class="clause"> <span>销售区域：</span> 全国 </div> <div class="clause"> <span>份数限额：</span> 每订单只能投保一份，不得重复投保； </div> <div class="clause clause1"> <span>保险金额：</span> 预先支付未使用且无法退回的房费总额的90%（保险订单）； </div> <div class="clause clause1"> <span>保险费：</span> 订单预付总房费的5%（四舍五入取整到分，保险金额不包含使用优惠券抵扣的金额，以实际支付的金额计算）； </div> <div class="clause"> <span>投保范围：</span> 身体健康，在持有营业执照的宾馆、饭店、招待所、旅社登记住宿的旅客均可作为被保险人参加本保险； </div> <div class="clause"> <span>投保人义务：</span> 恶意投保、恶意理赔将依法追究责任； </div> <div class="clause"> <span>发票：</span> 如需保险发票，请联系保险公司索取 </div> <div class="clause"> <span>电子保单：</span> 数据电文是合法的合同表现形式，电子保单与纸质保单具有同等法律效力，电子保单下载地址： <p>太平财险：http://ebiz.tpi.cntaiping.com/TPEBizWeb/pages/B2C/show/dentistryShow.do</p> <p>中国人寿：http://claim.chinalife-p.com.cn/claimCarFlow/index.jsp</p> </div> <div class="clause"> <span>保险责任：</span> 在本合同的保险期间内，被保险人提前预订本合同约定的酒店客房，在预订及支付预付房费或信用卡担保完成后，因发生下列情形致使指定入住的客人无法按期使用酒店服务而取消所预订的客房所造成被保险人无法退回的预付房费金额损失或信用卡担保金额损失，保险人在保险金额内按本合同约定比例承担赔偿责任： <ul> <li> <i>1.</i>指定入住的客人、客人之配偶、父母或子女遭遇意外伤害事故或罹患突发性重病导致必须住院治疗或身故； </li> <li> <i>2.</i>指定入住的客人因被疑似或确诊感染传染性疾病而依法被隔离无法继续原定行程； </li> <li> <i>3.</i>指定入住的客人或其配偶初次被诊断出怀孕； </li> <li> <i>4.</i>指定入住的客人被劫持、绑架； </li> <li> <i>5.</i>酒店入住首日之前 7 天内，指定入住的客人在中国境内的日常住所因火灾、爆炸、自然灾害等原因遭受严重损毁； </li> <li> <i>6.</i>指定入住的客人因获得新的工作或职业培训或出差安排，导致客人无法按期抵达酒店； </li> <li> <i>7.</i>指定入住的客人在预订酒店之前报名参加的原定于酒店入住首日及之后三天内于酒店所在地进行的国家级考试延期举行。 </li> <li> <i>8.</i>指定入住的客人的签证拒签，导致该客人无法继续原定行程； </li> <li> <i>9.</i>指定入住的客人提前预订的酒店，在预计入住日首日，前往酒店所在地机场的航班延误或取消，导致该客人无法按期抵达酒店所在地；（航空公司对外公布的班期时刻表上列明的该航班到达时间须至少早于已预订酒店客房的最迟入住时间 4小时以上） </li> <li> <i>10.</i>在酒店入住首日前2天内，指定入住的客人自驾前往酒店所在地途中，车辆意外抛锚须救援公司救援; </li> <li> <i>11.</i>酒店入住首日前7日，指定入住的客人有效证件丢失，无法办理入住手续； </li> <li> <i>12.</i>酒店入住首日前７日内因指定入住的客人计划乘坐的公共交通工具突发承运人雇员罢工、暴动致使被保险人取消酒店预订； </li> <li> <i>13.</i>酒店入住首日之前 7 天内，酒店所在地发生洪水、泥石流、崖崩、火山爆发、5级及以上地震、海啸自然灾害、民间骚乱、突发性传染病爆发； </li> <li> <i>14.</i>酒店入住首日之前 2 天内，酒店所在地气象部门发布台风、飓风预警信号； </li> <li> <i>15.</i>酒店入住首日前15日内因酒店所在地发生不可预测的暴动、民间骚乱或流行疫病； </li> <li> <i>16.</i>酒店预计入住首日之前7日内，指定入住的客人出发地官方已发布了针对该旅行目的地的相关警告； </li> <li> <i>17.</i>被保险人购买本保险后，酒店所在地发生恐怖袭击活动且满足下列条件: <ul class="detail-19"> <li> <i>a)</i>恐怖袭击活动发生地距离指定入住的客人酒店所在地在方圆150公里以内； </li> <li> <i>b)</i>恐怖袭击活动发生在指定入住的客人出发之日前30天内； </li> <li> <i>c)</i>当地政府已经对此类恐怖袭击活动发布过警告的。 </li> </ul> </li> </ul> </div> <div class="clause"> <span>责任免除：</span> </div> <div class="clause"> <span></span> 因下列情形之一，直接或间接导致被保险人无法按期使用酒店服务而取消所预订的客房所造成的被保险人预付房费金额或信用卡担保金额损失的，保险人不承担给付保险金责任： </div> <ul class="unresponsibility"> <li> <i>1.</i>预订酒店之前发生的保险责任列明的情形； </li> <li> <i>2.</i>被保险人或指定入住的客人的故意行为； </li> <li> <i>3.</i>由于旅行社、酒店原因导致的酒店客房预订失败或误订； </li> <li> <i>4.</i>指定入住的客人因保险责任列明的情形之外的原因未准时办理酒店客房入住手续； </li> <li> <i>5.</i>指定入住的客人或其配偶、父母、子女因投保前存在的健康问题导致的急性发作或死亡； </li> <li> <i>6.</i>指定入住的客人未准时搭乘前往酒店所在地的既定公共交通工具； </li> <li> <i>7.</i>指定入住的客人非以缴费乘客身份搭乘民航航班； </li> <li> <i>8.</i>指定入住的客人搭乘航班所属的航空公司破产或倒闭； </li> <li> <i>9.</i>指定入住的客人主动放弃搭乘航空公司安排的在原定起飞时间之时起 4 小时内出发的同一机场内其它航班； </li> <li> <i>10.</i>由于保险责任以外的原因导致的机场关闭； </li> <li> <i>11.</i>被保险人或指定入住的客人投保前存在的财务或合同义务问题； </li> <li> <i>12.</i>指定入住的客人或随行人员的违法犯罪行为； </li> <li> <i>13.</i>战争（不论宣战与否）、内战、军事行动、恐怖活动、暴乱、绑架或其他类似的武装叛乱； </li> <li> <i>14.</i>流行疫病或大规模流行疫病爆发； </li> <li> <i>15.</i>地震、海啸，但本合同另有规定的除外； </li> <li> <i>16.</i>政府的禁令或管制； </li> <li> <i>17.</i>本合同生效前，指定入住的客人身体状况不适合出行或发生任何可能直接或间接导致客人无法按期入住酒店的情况； </li> <li> <i>18.</i>任何生物、化学、原子能武器，原子能或核能装置所造成的爆炸、灼伤、污染或辐射； </li> <li> <i>19.</i>恐怖袭击。 </li> <li> <i>20.</i>被保险人因退改所预订的酒店房间所引起的间接费用、可从酒店获得退回的房款，以及其他不属于保险责任范围内的损失，保险人不负责赔偿。 </li> </ul> </div> <div class="tip"> 具体内容请以保险公司条款为准，请点击页面查看各保险公司的保障责任： <p> 《太平财产保险有限公司酒店预订取消险B款条款》 <a href="#" class=\'checkhere\'>点击查看</a> </p> <p> 《中国人寿财产保险股份有限公司个人酒店预订取消保险条款》 <a href="#" class="clicklook">点击查看</a> </p> </div> <ul class="other-explain"> <h3>其他重要说明:</h3> <li> <i>1.</i>如对以上条款有任何疑问，请联系太平保险客服95589，或者中国人寿客服95519进行垂询； </li> <li> <i>2.</i>保单出保即生效，生效后无特殊情况不可退单，具体退保事项请联系艺龙客服； </li> <li> <i>3.</i>被保人在理赔时，需要提供损失原因的证明材料； </li> <li> <i>4.</i>投保人默认为被保险人，即受益人，为保障您的权益，请勿使用他人账户付款； </li> <li> <i>5.</i>数据电文是合法的合同表现形式，电子保单与纸质保单具有同等法律效力，请妥善保存。 </li> </ul> </div>'),n("list",function(e){"use strict";var t=this,i=(t.$helpers,t.$each),a=e.listInfo,n=(e.list,e.index,t.$string),s=t.$escape,o=(e.tagInfo,e.$index,"");return i(a,function(e){o+=' <li class="hotel-item',e.touched&&(o+=" hotel_item_history"),o+='" data-url="',o+=n(e.HotelUrl),o+='"> <div class="pic"> <img srcset="',o+=n(e.HotelImg),o+='"> ',e.activityTags[0]&&(o+=' <span class="pic_tags">',o+=s(e.activityTags[0].tagName),o+="</span> "),o+=' </div> <div class="info"> <p class="name">',o+=n(e.HotelName),o+='</p> <p class="comt"> ',e.commentScore&&e.totalCommentCount&&(o+=' <span class="comt_no"><b>',o+=s(e.commentScore),o+="</b>分</span> "),o+=" ",e.totalCommentCount?(o+=' <span class="comt_nmb">',o+=s(e.totalCommentCount),o+="条点评</span> "):o+=' <span class="comt_nmb">暂无数据</span> ',o+=' </p> <p class="fac"> <span>',o+=n(e.HotelType),o+='</span> </p> <p class="district"> ',""!=e.HotelAddress&&(o+=' <span class="d1">',o+=n(e.HotelAddress),o+="</span> "),o+=" ",""!=e.businessAreaName&&""!=e.HotelAddress&&e.HotelAddress!=e.businessAreaName?(o+=' <span class="d3">',o+=n(e.businessAreaName),o+="</span> "):""==e.HotelAddress&&""!=e.businessAreaName&&e.HotelAddress!=e.businessAreaName&&(o+=' <span class="d3 d4">',o+=n(e.businessAreaName),o+="</span> "),o+=" ","0.0"!=e.HotelDistance&&(o+=" ",o+=""==e.HotelAddress&&""==e.businessAreaName?'<span class="d2 d4">':'<span class="d2">',""!=e.HotelAround&&(o+="<span>距</span>"),o+="<b>",o+=n(e.HotelAround),o+="</b>",1==e.calDistanceType?(o+="<i ",e.HotelDistance>0&&e.HotelDistance<1e3&&(o+='class="highlight"'),o+=">",o+=n(e.HotelDistance),o+="米</i> "):2==e.calDistanceType&&(o+="<i ",e.HotelDistance>0&&e.HotelDistance<=1&&(o+='class="highlight"'),o+=">",o+=n(e.HotelDistance),o+="公里</i>"),o+="</span> "),o+=" </p> ",a.listMvtResult&&""!=e.recentOrderTime&&(o+=' <p class="reserve_time"><span>',o+=n(e.recentOrderTime),o+="</span></p> "),o+=' </div> <div class="right-wrap"> <div class="r-tab"> ',"0"==e.TruePrice&&(o+=' <p class="full">已满房</p> '),o+=" ","0"!=e.TruePrice&&(o+=' <p class="pri"> <b> ',"0"!=e.OriginalPrice&&(o+=" ",o+=n(e.OriginalPrice),o+=" "),o+=" </b> <span><i>￥</i>",o+=n(e.TruePrice),o+="</span> </p> "),o+=' <p class="tags"> ',i(e.tagInfos,function(e){o+=" ",e.available&&(o+=" <span ",e.color&&(o+='style="color:',o+=n(e.color),o+=";border:1px solid ",o+=n(e.color),o+='"'),o+=">",o+=n(e.name),o+="</span> "),o+=" "}),o+=" ",""!=a.listTags&&(o+=' <span class="sale">',o+=n(a.listTags),o+="</span> "),o+=" </p> </div> </div> </li> "}),o+=" ",new f(o)}),n("nearList",function(e){"use strict";var t=this,i=(t.$helpers,t.$each),a=e.list,n=(e.hotel,e.index,t.$escape),s="";return i(a,function(e){s+=' <dd data-hotelurl="',s+=n(e.detailPageUrl),s+='"> <p class="hotel-name">',s+=n(e.hotelName),s+='</p> <p class="dis">距离约',s+=n(e.distance),s+=1==e.calDistanceType?"米":(2==e.calDistanceType,"公里"),s+='</p> <span>￥<i class="num">',s+=n(e.lowestPrice),s+='</i><i class="up">起</i></span></dd> '}),s+=" ",new f(s)}),n("orderList",function(e){"use strict";var t=this,i=(t.$helpers,t.$each),a=e.orderList,n=(e.order,e.index,t.$escape),s=(e.button,"");return i(a,function(e){s+=' <div class="pay"> <div class="pay_zt"><span class="',s+=n(e.stateColor),s+='">',s+=n(e.stateText),s+="</span>",""!=e.tip&&(s+="<i></i>",s+=n(e.tip)),s+='</div> <div class="pay_content" data-method="orderDetail" data-url="',s+=n(e.orderDetailURL),s+='"> <p class="list_bigsize">',s+=n(e.hotelName),s+='</p> <p class="list_midsize">',s+=n(e.roomTypeName),e.hourRoomOrder&&(s+="<i>钟点房</i>"),s+='<span class="fr">',s+=n(e.payTypeText),s+="&nbsp;",s+=n(e.currency),s+=n(e.orderPrice),s+='</span></p> <p class="list_smalsize">',s+=n(e.arriveDate),s+="-",s+=n(e.leaveDate),s+='<span class="">',0!=e.duration&&(s+=n(e.duration),s+="晚"),s+=n(e.roomCount),s+='间</span></p> </div> <div class="submit_all"> ',i(e.stateList,function(t){s+=" ",t.btnColor&&t.btnMethod&&(s+=' <p class="',s+=n(t.btnColor),s+='" data-method="',s+=n(t.btnMethod),s+='" data-url="',s+=n(t.linkURL),s+='" data-orderno="',s+=n(e.orderNo),s+='" data-discount="',s+=n(e.isDiscountOrder.toString()),s+='">',s+=n(t.btnText),s+="</p> "),s+=" "}),s+=" </div> </div> "}),new f(s)}),n("resaleOrderList",function(e){"use strict";var t=this,i=(t.$helpers,t.$each),a=e.resaleData,n=(e.resaleList,e.$index,t.$escape),s=(e.actBtn,"");return i(a,function(e){s+=' <div class="pay"> <div class="pay_zt"><span class="lisi_y">国内酒店</span><span class="ztas">',s+=n(e.resaleStatusDesc),s+='</span></div> <div class="pay_content"> <p class="list_bigsize">',s+=n(e.hotelName),s+='</p> <p class="list_midsize">',s+=n(e.roomTypeName),s+='</p> <p class="list_smalsize"> <span>入住',s+=n(e.arriveDate),s+="<em>（",s+=n(e.arriveDay),s+="）</em></span> <span>离店",s+=n(e.leaveDate),s+="<em>（",s+=n(e.leaveDay),s+="）</em></span> <span>",s+=n(e.nightNum),s+="晚 ",s+=n(e.roomNum),s+='间</span> </p> </div> <div class="pay_content"> <p class="list_bigsize">转让价：￥',s+=n(e.resaleAmount),s+='</p> <p class="list_bigsize">佣金：-￥',s+=n(e.commision),s+='</p> <p class="list_bigsize las">转让收入：<em>￥',s+=n(e.income),s+='</em></p> <p class="unuse">',s+=n(e.closeResaleDateTip),s+='</p> </div> <div class="submit_all"> ',i(e.actions,function(t){s+=" ",16!=t.actionId&&(s+=' <p class="lisi_h" data-action=',s+=n(t.actionId),s+=" ",15==t.actionId&&(s+='data-method="actionCancelResale"'),17==t.actionId&&(s+='data-method="actionModifyPrice" data-resale-amount="',s+=n(e.resaleAmount),s+='"'),s+=' data-orderno="',s+=n(e.orderId),s+='">',s+=n(t.actionName),s+="</p> "),s+=" "}),s+=" </div> </div> "}),s+=" ",new f(s)}),n("roomList",function(e){"use strict";var t=this,i=(t.$helpers,t.$each),a=e.roomInfoDisplay,n=(e.room,e.index,t.$escape),s=(e.productsTag,e.$index,t.$string),o=(e.value,e.tag,e.promotionSummaryShow,"");return i(a,function(e){o+=' <li class="rooms ',e.availableClass&&(o+=n(e.availableClass)),0!=e.h5fx_hotel_detail.mvtResult&&0==e.roomType&&(o+="on"),o+='">  <div class="wrap ',0==e.h5fx_hotel_detail.mvtResult&&0!=e.roomType&&(o+="rp"),o+='"> ',0==e.h5fx_hotel_detail.mvtResult?(o+=' <div class="left ',0==e.roomType&&(o+="rpDetail"),o+=' tjclick" data-tj=\'{"cspot":"roomdetail"}\'> ',0!=e.roomType?(o+=' <div class="room">',o+=n(e.roomInfoName),o+="</div> "):(o+=' <div class="pic"> ',e.coverImageUrl&&(o+=' <img src="',o+=n(e.coverImageUrl),o+='"> '),o+=" ",e.allFull&&e.activityTags&&e.activityTags[0]&&(o+=' <span class="pic_tags_full">',o+=n(e.activityTags[0].tagName),o+="</span> "),o+=" ",!e.allFull&&e.activityTags&&e.activityTags[0]&&(o+=' <span class="pic_tags">',o+=n(e.activityTags[0].tagName),o+="</span> "),o+=' </div> <div class="picroom-info"> <div class="room">',o+=n(e.roomInfoName),o+='</div> <div class="room-info"><span>',o+=n(e.area),o+="</span><span>",o+=n(e.bed),o+='</span></div> <div class="icon icon-hs"> ',e.productsTagInfos&&(o+=" ",i(e.productsTagInfos,function(e){o+=" ",e.available&&(o+=' <span class="clock_hb" style="color:',o+=s(e.color),o+=";border: 1px ",o+=s(e.color),o+=' solid;">',o+=s(e.name),o+="</span> "),o+=" "}),o+=" "),o+=" </div> </div> "),o+=" </div> "):(o+=' <div class="left"> <div class="room clearfix"> ',e.activityTags[0]?(o+=' <span class="room_tit">',o+=n(e.roomInfoName),o+="</span> ",e.allFull&&e.activityTags[0]&&(o+=' <span class="pic_tags_full">',o+=n(e.activityTags[0].tagName),o+="</span> "),o+=" ",!e.allFull&&e.activityTags[0]&&(o+=' <span class="pic_tags">',o+=n(e.activityTags[0].tagName),o+="</span> "),o+=" "):(o+=" ",o+=n(e.roomInfoName),o+=" "),o+=" </div> ",0==e.roomType&&(o+=' <div class="room-info"><span>',o+=n(e.area),o+="</span><span>",o+=n(e.bed),o+="</span></div> "),o+=" </div> "),o+=' <div class="right"> <div class="price"><span>￥</span><span class="num">',o+=n(e.minAveragePriceSubTotal),o+="</span>起</div> ",""!=a.customDetailReturn&&e.minCouponVal>0&&(o+=' <div class="icon icon-hs"> ',o+=n(a.customDetailReturn),o+=' <span class="c999">￥',o+=s(e.minCouponVal),o+="</span> 起 </div> "),o+=' </div> <div class="de-btn"> <i></i> </div> ',0==e.h5fx_hotel_detail.mvtResult&&(o+=' <div class="rigit_activebg tjclick" data-tj=\'{"cspot":"rateplanlist1"}\'></div> '),o+=' </div> <div class="info-list"> <ul> ',i(e.rpList,function(e){o+=" ",0==e.roomType&&(o+='  <li class="tjclick roomdetail ',o+=n(e.availableClass),o+=" ",o+=n(0==e.available?"full_no":""),o+='" data-tj=\'{"cspot":"rateplandetail"}\'> <div class="left"> <div class="bra clearfix"> ',e.activityTags[0]?(o+=' <span class="bra_tit">',
o+=n(e.productName),o+="</span> ",e.activityTags[0]&&(o+=' <span class="pic_tags">',o+=n(e.activityTags[0].tagName),o+="</span> "),o+=" "):(o+=" ",o+=n(e.productName),o+=" "),o+=" </div> ",a.rpNameMvt&&e.productSubName&&(o+=' <div class="sale_txt"> <span>',o+=n(e.productSubName),o+="</span> </div> "),o+=' <div class="xstm"> <span class="suppliername">',o+=n(e.supplierName),o+="</span> <span ",o+=0==e.cancelType?' class="f_c49f" ':' class="suppliername" ',o+="> ",o+=n(e.cancelTag),o+=" </span> ",1==e.resaleProduct&&e.minStocks>0&&0!=e.available?(o+=' <span class="roomslv">只可预订',o+=n(e.minStocks),o+="间</span> "):e.minStocks<=5&&0<e.minStocks&&0!=e.available&&(o+=' <span class="roomslv">仅剩',o+=n(e.minStocks),o+="间</span> "),o+=' </div> <div class="act"> ',e.channelTags&&(o+=" ",i(e.channelTags,function(e){o+=" ",e.available&&(o+=' <span class="tag" style="color:',o+=s(e.color),o+=";border: 1px solid ",o+=s(e.color),o+=';">',o+=s(e.name),o+="</span> "),o+=" "}),o+=" "),o+=" ",e.showTags&&(o+=" ",i(e.showTags,function(e){o+=" ",e.available&&(o+=' <span class="tag" style="color:',o+=s(e.color),o+=";border: 1px solid ",o+=s(e.color),o+=';">',o+=s(e.name),o+="</span> "),o+=" "}),o+=" "),o+=' </div> </div> <div class="value">  ',e.couponVal>0&&a.customDetailReturn?(o+=' <div class="price">￥<span>',o+=s(e.averagePrice),o+="</span></div> "):2==e.showAvourableType&&(4==e.productType||5==e.productType)&&e.originalPriceRmb>e.averagePrice?(o+=' <div class="price">￥<span>',o+=s(e.averagePrice),o+="</span></div> "):(o+=' <div class="price">￥<span>',o+=n(e.averagePriceSubTotal),o+="</span></div> "),o+=" ",e.promotionSummaryShow&&(o+=" ",i(e.promotionSummaryShow,function(e){o+=" ",e.description&&(o+=' <div class="return"><span>',o+=s(e.description),o+="</span></div> "),o+=" "}),o+=" "),o+=' </div> <div class="book"> ',o+=s(e.showPayBtnType),o+=" </div> </li> "),o+=" ",1==e.roomType&&(o+='  <li class="roomdetail tjclick ',o+=n(e.availableClass),o+='" data-tj=\'{"cspot":"rateplandetail"}\'> <div class="left"> <div class="bra">',o+=n(e.productName),o+='</div> <div class="xstm"><span>',o+=n(e.additionInfoList[0].content),o+="</span><span>",o+=n(e.additionInfoList[1].content),o+="</span></div> ",""!=e.officeHours&&(o+=' <div class="xstm"><span>',o+=n(e.officeHours),o+="</span></div> "),o+=" ",e.cancelTag&&(o+=' <div class="xstm"> <span ',o+=0==e.cancelType?' class="f_c49f" ':' class="suppliername" ',o+="> ",o+=n(e.cancelTag),o+=" </span> </div> "),o+=' <div class="act"> ',e.channelTags&&(o+=" ",i(e.channelTags,function(e){o+=" ",e.available&&(o+=' <span class="tag" style="color:',o+=s(e.color),o+=";border: 1px solid ",o+=s(e.color),o+=';">',o+=s(e.name),o+="</span> "),o+=" "}),o+=" "),o+=" ",e.showTags&&(o+=" ",i(e.showTags,function(e){o+=" ",e.available&&(o+=' <span class="tag" style="color:',o+=s(e.color),o+=";border: 1px solid ",o+=s(e.color),o+=';">',o+=s(e.name),o+="</span> "),o+=" "}),o+=" "),o+=' </div> </div> <div class="value">  ',e.couponVal>0&&a.customDetailReturn?(o+=' <div class="price">￥<span>',o+=s(e.averagePrice),o+="</span></div> "):2==e.showAvourableType&&(4==e.productType||5==e.productType)&&e.originalPriceRmb>e.averagePrice?(o+=' <div class="price">￥<span>',o+=s(e.averagePrice),o+="</span></div> "):(o+=' <div class="price">￥<span>',o+=n(e.averagePriceSubTotal),o+="</span></div> "),o+=" ",e.promotionSummaryShow&&(o+=" ",i(e.promotionSummaryShow,function(e){o+=" ",e.description&&(o+=' <div class="return"><span>',o+=s(e.description),o+="</span></div> "),o+=" "}),o+=" "),o+=' </div> <div class="book"> ',o+=s(e.showPayBtnType),o+=" </div> </li> "),o+=" ",2==e.roomType&&(o+='  <li class="roomdetail tjclick ',o+=n(e.availableClass),o+='" data-tj=\'{"cspot":"rateplandetail"}\'> <div class="left"> <div class="bra">',o+=n(e.productName),o+='</div> <div class="xstm"><span>',o+=n(e.additionInfoList[0].content),o+="</span><span>",o+=n(e.additionInfoList[1].content),o+='</span></div> <div class="xstm"> ',e.nRoom>0&&(o+=' <span class="roomslv">',o+=n(e.nRoom),o+="间起订</span> "),o+=" ",1==e.resaleProduct&&e.minStocks>0&&0!=e.available?(o+=' <span class="roomslv">(只可预订',o+=n(e.minStocks),o+="间)</span> "):e.minStocks<=5&&0<e.minStocks&&0!=e.available&&(o+=' <span class="roomslv">(仅剩',o+=n(e.minStocks),o+="间)</span> "),o+=" ",e.cancelTag&&(o+=" <span ",o+=0==e.cancelType?' class="f_c49f" ':' class="suppliername" ',o+="> ",o+=n(e.cancelTag),o+=" </span> "),o+=' </div> <div class="act"> ',e.channelTags&&(o+=" ",i(e.channelTags,function(e){o+=" ",e.available&&(o+=' <span class="tag" style="color:',o+=s(e.color),o+=";border: 1px solid ",o+=s(e.color),o+=';">',o+=s(e.name),o+="</span> "),o+=" "}),o+=" "),o+=" ",e.showTags&&(o+=" ",i(e.showTags,function(e){o+=" ",e.available&&(o+=' <span class="tag" style="color:',o+=s(e.color),o+=";border: 1px solid ",o+=s(e.color),o+=';">',o+=s(e.name),o+="</span> "),o+=" "}),o+=" "),o+=' </div> </div> <div class="value">  ',e.couponVal>0&&a.customDetailReturn?(o+=' <div class="price">￥<span>',o+=s(e.averagePrice),o+="</span></div> "):2==e.showAvourableType&&(4==e.productType||5==e.productType)&&e.originalPriceRmb>e.averagePrice?(o+=' <div class="price">￥<span>',o+=s(e.averagePrice),o+="</span></div> "):(o+=' <div class="price">￥<span>',o+=n(e.averagePriceSubTotal),o+="</span></div> "),o+=" ",e.promotionSummaryShow&&(o+=" ",i(e.promotionSummaryShow,function(e){o+=" ",e.description&&(o+=' <div class="return"><span>',o+=s(e.description),o+="</span></div> "),o+=" "}),o+=" "),o+=' </div> <div class="book tjclick" data-tj=\'{"cspot":"booking"}\'> ',o+=s(e.showPayBtnType),o+=" </div> </li> "),o+=" "}),o+=" </ul> </div> </li> "}),o+=" ",new f(o)}),n("search",'<li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685260725511.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/0101/nlist/"> <h2>北京</h2> <p>共有<span>500</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685267475728.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/0201/nlist/"> <h2>上海</h2> <p>共有<span>677</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685274278266.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/2001/nlist"> <h2>广州</h2> <p>共有<span>370</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685280281808.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/2003/nlist/"> <h2>深圳</h2> <p>共有<span>429</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685290238983.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/1801/nlist/"> <h2>武汉</h2> <p>共有<span>750</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685298240681.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/1901/nlist/"> <h2>长沙</h2> <p>共有<span>684</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685267475728.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/0201/nlist/"> <h2>上海</h2> <p>共有<span>677</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685274278266.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/2001/nlist"> <h2>广州</h2> <p>共有<span>370</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685280281808.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/2003/nlist/"> <h2>深圳</h2> <p>共有<span>429</span>家钟点房</p> <i class="icon-left"></i> </a> </li> <li class="city1" style="background:url(http://promotion.elong.com/wireless/uploadImages/images/143685290238983.png) no-repeat center;background-size: cover;"> <a href="http://m.elong.com/clockhotel/1801/nlist/"> <h2>武汉</h2> <p>共有<span>750</span>家钟点房</p> <i class="icon-left"></i> </a> </li>'),n("tpybxInfo",'<div class="tpybx"> <div class="title"> <p>太平财产保险有限公司</p> <p>酒店预定取消保险B款条款</p> </div> <div class="text"> <h3>总则</h3> <div class="clause"><span>第一条</span>本保险合同由保险条款、投保单、保险单或其他保险凭证、批单等组成。凡涉及本保险合同的约定，均应采用书面形式。</div> <div class="clause"><span>第二条</span>凡在预订本合同约定的酒店客房时，实际支付预付房费或用信用卡担保的一方均可作为被保险人。</div> <div class="clause"><span>第三条</span>具有完全民事行为能力的被保险人本人、对被保险人有保险利益的其他人可作为投保人。</div> <div class="clause"><span>第四条</span>除另有约定外，本保险合同保险金的受益人为被保险人本人。</div> <div class="clause"><span>第五条</span>保险标的为被保险人在提前预订本合同约定的酒店客房时所支付的预付房费或信用卡担保金额。</div> <h3>保险责任</h3> <div class="clause"><span>第六条</span>身体健康，在持有营业执照的宾馆、饭店、招待所、旅社登记住宿的旅客均可作为被保险人参加本保险； <ul class="detail-6"> <li><i>（一）</i>指定入住的客人遭遇意外伤害事故或罹患突发性重病导致必须住院治疗或身故； </li> <li><i>（二）</i>指定入住的客人之配偶、父母或子女遭遇意外伤害事故或罹患突发性重病导致必须住院治疗或身故；</li> <li><i>（三）</i>指定入住的客人或其配偶初次被诊断出怀孕；</li> <li><i>（四）</i>酒店入住首日之前 7 天内，指定入住的客人在中国境内的日常住所因火灾、爆炸、自然灾害等原因遭受严重损毁； </li> <li><i>（五）</i>酒店入住首日之前 7 天内，酒店所在地发生 5 级以上地震；</li> <li><i>（六）</i>酒店入住首日之前 2 天内，酒店所在地气象部门发布台风、飓风预警信号； </li> <li><i>（七）</i>指定入住的客人提前预订的前往酒店所在地机场的航班（航空公司对外公布的班期时刻表上列明的该航班到达时间须至少早于已预订酒店客房的最迟入住时间 4小时以上）延误或取消，导致该客人无法按期抵达酒店所在地； </li> <li><i>（八）</i>指定入住的客人在预订酒店之前报名参加的原定于酒店入住首日及之后三天内于酒店所在地进行的国家级考试延期举行。 </li> <li><i>（九）</i>酒店入住首日前15日内因指定入住的客人计划乘坐的公共交通工具突发承运人雇员罢工、暴动致使被保险人取消酒店预订：</li> <li><i>（十）</i>酒店入住首日前15日内因酒店所在地发生不可预测的暴动、民间骚乱或流行疫病；</li> <li><i>（十一）</i>购买本保险后，指定入住的客人出发地官方已发布了针对该旅行目的地的相关警告；</li> <li><i>（十二）</i>指定入住的客人的签证拒签，导致该客人无法继续原定行程;</li> <li><i>（十三）</i>在酒店入住首日前2天内，指定入住的客人自驾前往酒店所在地途中，车辆意外抛锚须救援公司救援;</li> <li><i>（十四）</i>指定入住的客人因获得新的工作或职业培训或出差安排，导致客人无法按期抵达酒店;</li> <li><i>（十五）</i>酒店入住首日前30天内，指定入住的客人作为全职雇员因与雇主间的雇佣关系意外终止，导致客人无法按期抵达酒店。</li> <li><i>（十六）</i>酒店入住首日前7日，指定入住的客人有效证件丢失，无法办理入住手续；</li> <li><i>（十七）</i>指定入住的客人因被疑似或确诊感染传染性疾病而依法被隔离无法继续原定行程；</li> <li><i>（十八）</i>指定入住的客人被劫持、绑架；</li> <li><i>（十九）</i>被保险人购买本保险后，酒店所在地发生恐怖袭击活动且满足下列条件: <ul class="detail-19"> <li><i>1.</i>恐怖袭击活动发生地距离指定入住的客人酒店所在地在方圆150公里以内；</li> <li><i>2.</i>恐怖袭击活动发生在指定入住的客人出发之日前30天内；</li> <li><i>3.</i>当地政府已经对此类恐怖袭击活动发布过警告的。</li> </ul> </li> <div class="explain-1">在此条款生效前，指定入住的客人的身体状况必须适合出行且没有发生任何可能直接或间接的导致该客人无法按期入住酒店的状况。</div> </ul> </div> <h3>责任免除</h3> <div class="clause"><span>第七条</span>因下列情形之一，直接或间接导致被保险人无法按期使用酒店服务而取消所预订的客房所造成的被保险人预付房费金额或信用卡担保金额损失的，保险人不承担给付保险金责任： <ul class="detail-7"> <li><i>（一）</i>预订酒店之前发生的保险责任列明的情形；</li> <li><i>（二）</i>被保险人或指定入住的客人的故意行为；</li> <li><i>（三）</i>由于旅行社、酒店原因导致的酒店客房预订失败或误订；</li> <li><i>（四）</i>指定入住的客人因保险责任列明的情形之外的原因未准时办理酒店客房入住手续；</li> <li><i>（五）</i>指定入住的客人或其配偶、父母、子女因投保前存在的健康问题导致的急性发作或死亡；</li> <li><i>（六）</i>指定入住的客人未准时搭乘前往酒店所在地的既定公共交通工具；</li> <li><i>（七）</i>指定入住的客人非以缴费乘客身份搭乘民航航班；</li> <li><i>（八）</i>指定入住的客人搭乘航班所属的航空公司破产或倒闭；</li> <li><i>（九）</i>指定入住的客人主动放弃搭乘航空公司安排的在原定起飞时间之时起 4 小时内出发的同一机场内其它航班；</li> <li><i>（十）</i>由于保险责任以外的原因导致的机场关闭；</li> <li><i>（十一）</i>被保险人或指定入住的客人投保前存在的财务或合同义务问题；</li> <li><i>（十二）</i>指定入住的客人或随行人员的违法犯罪行为；</li> <li><i>（十三）</i>战争（不论宣战与否）、内战、军事行动、恐怖活动、暴乱、绑架或其他类似的武装叛乱；</li> <li><i>（十四）</i>流行疫病或大规模流行疫病爆发；</li> <li><i>（十五）</i>地震、海啸，但本合同另有规定的除外；</li> <li><i>（十六）</i>政府的禁令或管制；</li> <li><i>（十七）</i>本合同生效前，指定入住的客人身体状况不适合出行或发生任何可能直接或间接导致客人无法按期入住酒店的情况；</li> <li><i>（十八）</i>任何生物、化学、原子能武器，原子能或核能装置所造成的爆炸、灼伤、污染或辐射；</li> <li><i>（十九）</i>恐怖袭击。</li> </ul> </div> <div class="clause"><span第八条>被保险人因退改所预订的酒店房间所引起的间接费用、可从酒店获得退回的房款，以及其他不属于保险责任范围内的损失，保险人不负责赔偿。</span第八条></div> <h3>保险金额和免赔额（率）</h3> <div class="clause"><span>第九条</span>保险金额是保险人承担给付保险金责任的最高限额。保险金额由投保人、保险人双方约定，并在保险单中载明。</div> <div class="clause"><span>第十条</span>每次事故免赔额（率）由投保人与保险人在订立保险合同时协商确定，并在保 险合同中载明。</div> <h3>保险期间</h3> <div class="clause"><span>第十一条</span>除另有约定外，本合同保险责任的开始时间以下列情况中最迟发生的时间为准: <ul> <li><i>（一）</i>被保险人提前预订本合同约定的酒店客房、并交纳相关酒店预付房费（或信用卡担保完成）和足额交付保险费时；</li> <li><i>（二）</i>酒店既定入住首日前第 60 天零时。</li> </ul> <p>本合同的终止时间为本合同约定的酒店既定入住首日 24 时。</p> </div> <h3>保险人义务</h3> <div class="clause"><span>第十二条</span>订立保险合同时，采用保险人提供的格式条款的，保险人向投保人提供的投保单应当附格式条款，保险人应当向投保人说明保险合同的内容。对保险合同中免除保险 人责任的条款，保险人在订立合同时应当在投保单、保险单或者其他保险凭证上作出足以引起投保人注意的提示，并对该条款的内容以书面或者口头形式向投保人作 出明确说明；未作提示或者明确说明的，该条款不产生效力。</div> <div class="clause"><span>第十三条</span>本保险合同成立后，保险人应当及时向投保人签发保险单或其他保险凭证。</div> <div class="clause"><span>第十四条</span>保险人依据第十九所取得的保险合同解除权，自保险人知道有解除事由之日起，超过三十日不行使而消灭。自保险合同成立之日起超过二年的，保险人不得解除合同；发生保险事故的，保险人承担给付保险金责任。 <p>保险人在合同订立时已经知道投保人未如实告知的情况的，保险人不得解除合同；发生保险事故的，保险人应当承担给付保险金责任。</p></div> <div class="clause"><span>第十五条</span>保险人按照第二十四条的约定，认为投保人、被保险人或者受益人提供的有关索赔的证明和资料不完整的，应当及时一次性通知投保人、被保险人或者受益人补充提供。</div> <div class="clause"><span>第十六条</span>保险人收到被保险人或者受益人的给付保险金的请求后，应当及时作出是否属于保险责任的核定；情形复杂的，应当在三十日内作出核定。但保险责任的核定必须依 赖于特定证明、鉴定、判决、裁定或其他证据材料的，保险人应在被保险人或者受益人提供或自行取得上述证据材料起三十日内作出核定。本合同另有约定的除外。<br> 保险人应当将核定结果通知被保险人或者受益人；对属于保险责任的，在与被保险人或者受益人达成给付保险金的协议后十日内，履行赔偿保险金义务。保险合同对 给付保险金的期限有约定的，保险人应当按照约定履行给付保险金的义务。保险人依照前款约定作出核定后，对不属于保险责任的，应当自作出核定之日起三日内向 被保险人或者受益人发出拒绝给付保险金通知书，并说明理由。</div> <div class="clause"><span>第十七条</span>保险人自收到给付保险金的请求和有关证明、资料之日起六十日内，对其赔偿保险金的数额不能确定的，应当根据已有证明和资料可以确定的数额先予支付；保险人最终确定给付的数额后，应当支付相应的差额。</div> <h3>投保人、被保险人义务</h3> <div class="clause"><span>第十八条</span>除另有约定外，投保人应当在保险合同成立时交清保险费。保险费未按约定及时足额交付前发生的保险事故，保险人不承担赔偿责任。</div> <div class="clause"><span>第十九条</span>订立保险合同，保险人就被保险人的有关情况提出询问的，投保人应当如实告知。 投保人故意或者因重大过失未履行前款规定的义务，足以影响保险人决定是否同意承保或者提高保险费率的，保险人有权解除本合同。 投保人故意不履行如实告知义务的，保险人对于合同解除前发生的保险事故，不承担给付保险金责任，并不退还保险费。 投保人因重大过失未履行如实告知义务，对保险事故的发生有严重影响的，保险人对于合同解除前发生的保险事故，不承担给付保险金责任，但应当退还保险费。 </div> <div class="clause"><span>第二十条</span>投保人住所或通讯地址变更时，应及时以书面形式通知保险人。投保人未通知的，保险人按本保险合同所载的最后住所或通讯地址发送的有关通知，均视为已发送给投保人。</div> <div class="clause"><span>第二十一条</span>发送给投保人。第二十一条 投保人、被保险人或者指定入住的客人知道保险事故发生后，应当在24小时内或经保险人书面同意延长的期限内通知保险人。故意或者因重大过失未及时通知，致使保险事故的性质、原因、损失程度等难以确定的，保险人对无法确定的部分，不承担给付保险金责任，但保险人通过其他途径已经及时知道或者应当及时知道保险事故发生的除外。<br> 上述约定，不包括因不可抗力而导致的迟延。 </div> <h3>保险金申请与给付</h3> <div class="clause"><span>第二十二条</span>保险事故发生时，被保险人对保险标的不具有保险利益的，不得向保险人请求赔偿保险金。</div> <div class="clause"><span>第二十三条</span>保险标的发生保险责任范围内的损失，保险人以支付保险金的方式赔偿，并将保险金直接支付到被保险人提供的银行账户。</div> <div class="clause"><span>第二十四条</span>保险金申请人请求赔偿时，应向保险人提供以下证明和资料。保险金申请人因特殊原因不能提供以下材料的，应提供其他合法有效的材料。保险金申请人未能提供有关材料，导致保险人无法核实的，保险人对无法核实部分不承担给付保险金的责任： <ul> <li><i>（一）</i>保险金申请人填具的索赔申请书；</li> <li><i>（二）</i>保险单或其他保险凭证正本；</li> <li><i>（三）</i>被保险人及指定入住的客人的身份证明；</li> <li><i>（四）</i>被保险人所预订的酒店客房订单原件或旅行社出具的预订证明；</li> <li><i>（五）</i>被保险人向酒店所支付的预付房费或信用卡担保扣款凭证，银行卡消费明细、信用卡账单等；</li> <li><i>（六）</i>被保险人的银行账户信息，包括户名、开户行、账号（用于保险人向被保险人支付赔款）；</li> <li><i>（七）</i>保险事故发生证明资料： <ul class="detail-24"> <li><span>1.</span>如指定入住的客人或其配偶、父母、子女遭遇意外伤害事故或罹患突发性重病导致必须住院治疗或身故，被保险人需提供由法律法规授权的有关部门出具的该客 人或其配偶、父母、子女的意外伤害事故证明和医疗机构出具的医疗诊断证明书（包括但不限于诊断全称、病历和治疗过程）、医疗纪录、住院证明正本；</li> <li><span>2.</span>如指定入住的客人或其配偶初次被诊断出怀孕，被保险人需提供医疗机构出具含末次月经日期的医疗诊断证明书（包括但不限于诊断全称、病历）；</li> <li><span>3.</span>如指定入住的客人的住所因火灾、爆炸、自然灾害等原因遭受严重损毁，被保险人需提供消防部门等有关部门出具的事故证明；</li> <li><span>4.</span>如酒店所在地爆发保险责任约定的地震、台风预警，保险人以政府或有关机构公开资料为准进行理赔；</li> <li><span>5.</span>如指定入住的客人所搭乘的航班发生保险责任约定的延误或取消，被保险人需提供该客人的航班飞机票和航空公司出具的保险事故证明文件正本，包括航班延误原因、航班延误时间及航空公司在同一机场安排的最早可供被保险人搭乘的其他航班的编号及时间；</li> <li><span>6.</span>如指定入住的客人参加的考试被延期，被保险人需提供该客人的准考证和延期证明。</li> </ul> </li> <li><i>（八）</i>保险金申请人所能提供的与确认保险事故的性质、原因、损失程度等有关的其他证明和资料。</li> </ul> </div> <div class="clause"><span>第二十五条</span>保险金申请人向保险人请求给付保险金的诉讼时效期间为二年，自其知道或者应当知道保险事故发生之日起计算。</div> <h3>争议处理和法律适用</h3> <div class="clause"><span>第二十六</span>因履行本保险合同发生的争议，由当事人协商解决。协商不成的，提交保险单载明的仲裁机构仲裁；保险单未载明仲裁机构或者争议发生后未达成仲裁协议的，依法向人民法院起诉。</div> <div class="clause"><span>第二十七条</span>与本保险合同有关的以及履行本保险合同产生的一切争议处理适用中华人民共和国法律（不包括港澳台地区法律）。</div> <h3></h3> <div class="clause"><span>第二十八条</span>除本合同另有约定外，经投保人和保险人协商同意后，可变更本合同的有关内容。变更本合同时，投保人应填写变更合同申请书，经保险人审核同意，并在本合同的保险单或其它保险凭证上加以批注，或由投保人和保险人订立变更的书面协议后生效。</div> <div class="clause"><span>第二十九条</span>在本保险合同成立后，投保人在保险期间开始前可提出解除保险合同的申请，保险期间开始后不得解除本保险合同。 <p>投保人解除本保险合同时，应提供下列证明文件和资料：</p> <ul> <li><i>（一）</i>保险合同解除申请书；</li> <li><i>（二）</i>保险单原件；</li> <li><i>（三）</i>保险费交付凭证；</li> <li><i>（四）</i>投保人身份证明；</li> <li><i>（五）</i>保险人需要的其它有关文件和资料。</li> </ul> <p>在保险期间开始前保险合同解除的，自保险人接到保险合同解除申请书之时起，本保险合同的效力终止。保险人收到上述证明文件和资料之日起30日内向投保人无息退还保险费；保险期间开始后不得解除本保险合同。</p> </div> <div class="clause"><span>第三十条</span>本保险合同涉及的外币与人民币的汇率，以结算当日中国人民银行公布的外汇汇率为准。</div> </div> <div class="other"> <h3>释义</h3> <p><i>保险人：</i>指与投保人签订本保险合同的太平财产保险有限公司及分支机构。意外伤害：指以外来的、突发的、非本意的和非疾病的客观事件为直接且单独的原因致使身体受到的伤害。</p> <p><i>保险事故：</i>指本合同约定的保险责任范围内的事故。</p> <p><i>指定入住的客人：</i>指被保险人在预订酒店客房时，在酒店预订系统中针对每一独立房间登记全名，并会实际入住该酒店房间的人。</p> <p><i>突发性重病：</i>指首次罹患的突发性疾病或出现的症状，并经医院医生诊断及证实患者罹患的疾病危及本人生命，但不包括本条款生效前罹患的任何疾病或出现的任何症状及任何慢性疾病。</p> <p><i>中国境内</i>指中华人民共和国大陆地区，不含香港特别行政区、澳门特别行政区及台湾省。</p> <p><i>自然灾害：</i>是指雷击、飓风、台风、龙卷风、风暴、暴雨、洪水、冻灾、冰雹、地崩、山崩、雪崩、火山爆发、地面突然下沉下陷以及其他人力不可抗拒的破坏力强大的自然现象。</p> <p><i>台风、飓风：</i>台风指中心附近最大平均风力 12 级或以上，即风速在 32.6 米/秒以上的热带气旋；飓风是一种与台风性质相同、但出现的位置区域不同的热带气旋，台风出现在西北太平 洋海域，而飓风出现在印度洋、大西洋海域。</p> <p><i>航班：</i>是指飞机按规定的航线、日期、时刻的定期飞行。</p> <p><i>延误：</i>指航空公司未能按其对外公布的班期时刻表上列明的到达时间将旅客运达目的地。</p> <p><i>延误时间：</i>指航班延误、取消、或因超额订位致使旅客被拒绝乘坐后，由航空公司安排的最快改搭班机到达目的地时间和原定到达时间之间时间差。</p> <p><i>流行疫病：</i>是指在某国家、地区或区域突然爆发并快速传播的传染性疾病。</p> <p><i>大规模流行疫病：</i>是指在整个洲际大陆或整个人类中流行的传染性疾病。</p> <p><i>手续费：</i>25%</p> <p><i>不可抗力：</i>指不能预见、不能避免并不能克服的客观情况。</p> </div> </div>'),n("zgrsbxInfo",'<div class="tpybx"> <div class="title"> <p>中国人寿财产保险股份有限公司</p> <p>个人酒店预定取消保险条款</p> </div> <div class="text"> <h3>总则</h3> <div class="clause"><span>第一条</span>本保险合同由保险条款、投保单、保险单、保险凭证以及批单等组成。凡涉及本保险合同的约定，均应采用书面形式。</div> <div class="clause"><span>第二条</span>本保险合同的投保人应为具有完全民事行为能力的被保险人本人（不包括个人合伙、农村承包经营户、个体工商户）。</div> <div class="clause"><span>第三条</span>本保险合同的被保险人为提前预订酒店客房，实际支付客房预定费用或提供信用卡担保的旅客。</div> <div class="clause"><span>第四条</span>投保人必须在完成客房预定费用支付后次日24点前完成投保。</div> <h3>保险责任</h3> <div class="clause"><span>第五条</span>在保险期间内，因下列原因导致指定入住人在约定时间内未能按时入住酒店，也未能及时履行与酒店约定的取消预定通知义务的，对于被保险人预付但实际未使用的且无法被退还的客房预定费用支出，保险人将按保险单上约定的赔付比例负责赔偿： <ul class="detail-6"> <li><i>（一）</i>指定入住人或其近亲属、随行旅伴身故，或发生意外伤害事故或突发严重急性病且经医生诊断需要接受住院治疗；</li> <li><i>（二）</i>指定入住人因对疑似或确诊感染传染性疾病而被依法隔离；</li> <li><i>（三）</i>指定入住人或其配偶于酒店预订后初次诊断出怀孕；</li> <li><i>（四）</i>指定入住人或其配偶于酒店预订后诊断出妊娠并发症；</li> <li><i>（五）</i>指定入住人被劫持、绑架；</li> <li><i>（六）</i>酒店预计入住首日之前7日内，指定入住人因日常居住地的家庭财产遭受火灾、爆炸、自然灾害、室内管道破裂或被盗窃抢劫导致严重损失；</li> <li><i>（七）</i>指定入住人公务行程变更；</li> <li><i>（八）</i>指定入住人学校课程或考试安排变更，或者在预定酒店之前报名参加的原定于酒店入住首日及之后三天内于酒店所在地进行的国家级考试延期举行；</li> <li><i>（九）</i>指定入住人签证被拒签；</li> <li><i>（十）</i>在酒店预计入住首日，指定入住人因所乘坐的前往酒店所在地的既定航班延误或取消，且无法在预计入住首日最晚退房时间前的6小时办理退房手续；</li> <li><i>（十一）</i>指定入住人因自驾前往酒店所在地途中，车辆意外抛锚须救援公司救援；</li> <li><i>（十二）</i>酒店预计入住首日前7日内，指定入住人的有效身份证件丢失；</li> <li><i>（十三）</i>酒店预计入住首日前7天内，指定入住人的出发地或酒店所在地发生洪水、泥石流、崖崩、火山爆发、5级及以上地震、海啸自然灾害、暴动、突发性传染病爆发或被保险人预定交通工具的承运人的全职雇员罢工、暴动；</li> <li><i>（十四）</i>酒店预计入住首日之前7日内，指定入住人出发地国家旅游局、外交部已发布了针对该酒店所在地的相关警告；</li> <li><i>（十五）</i>酒店预计入住首日前7日内，指定入住人出发地或酒店所在地气象部门发布自然灾害预警信号；</li> <li><i>（十六）</i>酒店所在地发生恐怖袭击活动且满足下列条件： <ul class="detail-19"> <li><i>1.</i>恐怖袭击活动发生地距离酒店所在地在方圆150公里以内；</li> <li><i>2.</i>恐怖袭击活动发生在指定入住人出发之日前30天内；</li> <li><i>3.</i>当地政府已经对此类恐怖袭击活动发布过警告的。</li> </ul> </li> </ul> </div> <h3>责任免除</h3> <div class="clause"><span>第六条</span>下列损失或费用，保险人不承担赔偿保险金的责任： <ul class="detail_1"> <li><i>（一）</i>被保险人、指定入住人或其近亲属、随行旅伴故意行为、违法犯罪行为所导致的损失或费用；</li><li> </li><li><i>（二）</i>任何可以从政府、旅行社、其它旅行服务机构或其它保险应当能得到退还或赔偿的费用；</li><li> </li><li><i>（三）</i>任何不属于酒店客房费用的其他费用，以及其他实际入住后才发生的费用，包括但不限于：酒店固定电话费、洗衣费、酒店内娱乐餐饮消费、会议费；</li><li> </li><li><i>（四）</i>被保险人未能及时履行与酒店约定的取消预定通知义务，造成预定酒店原本可以退还的酒店费用部分。</li><li> </li></ul> </div> <div class="clause"><span>第七条</span>下列情形，保险人不承担赔偿保险金的责任： <ul class="detail_1"> <li><i>（一）</i>被保险人若以信用卡签账方式全额支付预定酒店费用后，已按信用卡发卡机构的相关规定，提交声明书请求发卡银行暂停付款或将其缴付款项扣回时；</li><li> </li><li><i>（二）</i>投保人未在完成客房预定费用支付或者提供信用卡担保后次日24点前完成投保的；</li><li> </li><li><i>（三）</i>被保险人在预定酒店时已知道到或应当知道任何将可能导致酒店预定取消的情况或条件，包括但不限于指定入住人身体状态不适宜出行、已宣布或已发生的任何罢工或工人抗议活动、出发地官方已发布的针对该旅行目的地的相关警告；</li><li> </li><li><i>（四）</i>指定入住人主动放弃搭乘航空公司安排的可在入住首日最晚退房时间前的6小时到达的替代公共交通工具；</li><li> </li><li><i>（五）</i>被保险人未能提供酒店、旅行社出具的证实客房预定费用不可退还的证明原件；</li><li> </li><li><i>（六）</i>被保险人未能提供客房预定费用的发票原件。保险金额、免赔额（率）和保险费</li><li> </li></ul> </div> <div class="clause"><span>第八条</span>保险金额、免赔额（率）由投保人和保险人在订立保险合同时协商确定，并在保险单中载明。保险期间内保险人累计赔偿金额总和最高不超过保险单中载明的保险金额。保险单中同时载明了免赔额和免赔率的,免赔金额以免赔额和按照免赔率计算的免赔额中的高者为准。投保人应该按照保险合同的约定向保险人交纳保险费。</div> <h3>保险期间</h3> <div class="clause"><span>第九条</span>本保险合同的保险期间自投保人完成投保之日起，至被保险人酒店预定订单的起始日止，具体起讫日期在保险单中载明。</div> <h3>双方义务</h3> <div class="clause"><span>第十条</span>本保险合同成立后，保险人应当及时向投保人签发保险单或其他保险凭证。</div> <div class="clause"><span>第十一条</span>投保人、被保险人知道保险事故发生后，应当及时通知保险人。故意或者因重大过失未及时通知，致使保险事故的性质、原因、损失程度等难以确定的，保险人对无法确定的部分，不承担给付保险金责任，但保险人通过其他途径已经及时知道或者应当及时知道保险事故发生的除外。</div> <h3>赔偿处理</h3> <div class="clause"><span>第十二条</span>被保险人向保险人请求赔偿时，应提交以下材料： <ul class="detail_1"> <li><i>（一）</i>索赔申请书；</li> <li><i>（二）</i>保险单或相关保险凭证；</li> <li><i>（三）</i>旅行合同或第三方旅行服务机构或酒店出具的被保险人支付客房预定费用的证明以及缴费发票或收据；</li> <li><i>（四）</i>酒店或第三方旅行服务机构出具的被保险人取消预订酒店的证明（应包括取消预订酒店的时间），以及不可退回的客房预定费用金额的证明；</li> <li><i>（五）</i>若发生本保险条款第五条第（一）至（四）项情形的，被保险人需提供公安机关或其认可的医院出具的身故证明或释义中规定的医院出具的病历、诊断证明等医疗证明以及相关亲属或随行旅伴的关系证明；</li> <li><i>（六）</i>若发生本保险条款第五条第（五）项情形的，被保险人需提供公安机关证明材料；</li> <li><i>（七）</i>若发生本保险条款第五条第（六）至（十六）项情形的，被保险人需提供能证明事件发生的材料；</li> <li><i>（八）</i>被保险人所能提供的与确认保险事故的性质、原因、损失程度等有关的其他证明和资料；</li> <li><i>（九）</i>若被保险人委托他人申请的，还应提供授权委托书原件、委托人和受托人的身份证明等相关证明文件。</li> </ul> <p>被保险人未能提供有关材料，导致保险人无法核实该申请的真实性的，保险人对无法核实部分不承担赔偿保险金的责任。</p> </div> <div class="clause"><span>第十三条</span>被保险人向保险人请求赔偿保险金的诉讼时效期间为二年，自其知道或者应当知道保险事故发生之日起计算。争议解决与法律适用</div> <div class="clause"><span>第十四条</span>因履行本保险合同发生的争议，由当事人协商解决。协商不成的，提交保险单载明的仲裁机构仲裁；保险单未载明仲裁机构或者争议发生后未达成仲裁协议的，依法向人民法院起诉。 </div> <div class="clause"><span>第十五条</span>与本保险合同有关的以及履行本保险合同产生的一切争议处理适用中华人民共和国法律（不包括港澳台地区法律）。</div> <h3>其他事项</h3> <div class="clause"><span>第十六条</span>在本保险合同成立后，投保人可以书面形式通知保险人解除合同，但保险人已根据本保险合同约定赔偿保险金的除外。投保人解除本保险合同时，应提供下列证明文件和资料： <ul class="detail_1"> <li><i>（一）</i>保险合同解除申请书；</li> <li><i>（二）</i>保险单原件；</li> <li><i>（三）</i>保险费交付凭证；</li> <li><i>（四）</i>投保人身份证明。</li> </ul> <p>投保人要求解除本保险合同，自保险人接到保险合同解除申请书之时起，本保险合同的效力终止。保险人收到上述证明文件和资料之日起30日内退还保险单的未满期净保费。</p> </div> </div> <div class="other"> <h3>释义</h3> <p><i>【第三方旅行服务机构】</i>指合法为旅行提供服务的酒店、旅行社或者网络第三方酒店预定销售平台机构。</p> <p><i>【客房预定费用】</i>指酒店收取的预定客房的费用，包括酒店服务费、各种形式的担保金或押金等，但不包括酒店其他费用、税费及其他客人额外要求的费用。</p> <p><i>【指定入住人】</i>指被保险人在预定酒店客房时，在酒店预定系统中针对每一独立房间登记全名，并将实际入驻该酒店房间的客人。</p> <p><i>【意外伤害】</i>指以外来的、突发的、非本意的和非疾病的客观事件为直接且单独的原因致使身体受到的伤害。</p> <p><i>【近亲属】</i>指被保险人的配偶、子女、父母（包括被保险人父母、被保险人配偶的父母）。</p> <p><i>【随行旅伴】</i>投保人签订本保险合同前，已经安排的75%以上的行程中与其同行的人员，该旅伴应该为指定入住人的同事、朋友或亲属。</p> <p><i>【突发严重急性病】</i>指被保险人在保险期间突然发生的、在突发前未曾接受治疗或诊断的、必须立即接受治疗方能避免身体或生命伤害的疾病，不包括既往疾病、慢性病、精神病、精神分裂、艾滋病、性传播疾病、遗传性疾病、先天性疾病或缺陷、先天性畸形、牙齿治疗、预防性手术、非必须紧急治疗的手术或器官移植。其中，既往疾病是指在保险期间开始之前的两年之内，被保险人的身体上已经出现或存在、可能或已经引致一正常而审慎的人寻求诊断、医疗护理或医药治疗的任何疾病、症状和体征。</p> <p><i>【抛锚】</i>指车辆因发生故障而无法继续前行的情况，包括但不限于刹车失灵、轮胎陷入泥坑、高速行驶过程突然爆胎、燃油用尽、油底壳撞坏造成漏机油。</p> <p><i>【全职雇员】</i>指与国家机关、事业单位、法人实体或者其他组织等签订了全日制劳动合同的雇员。</p> <p><i>【暴动】</i>指多人非法集合进行或威胁进行暴力行动，其目的是破坏社会安宁。</p> <p><i>【洪水】</i>指山洪暴发、江河泛滥、潮水上岸及倒灌，不包括规律性的涨潮、自动灭火设施漏水以及在常年水位以下或地下渗水、水管爆裂。</p> <p><i>【泥石流】</i>山地大量泥沙、石块突然爆发的洪流，随大暴雨或大量冰水流出。</p> <p><i>【崖崩】</i>石崖、土崖受自然风化、雨蚀、崖崩下塌或山上岩石滚下或大雨使山上砂土透湿而崩塌。</p> <p><i>【传染病】</i>指《中华人民共和国传染病防治法》中规定的传染病。</p> <p><i>【医院】</i>指保险人与投保人约定的定点医院，未约定定点医院的，则指经中华人民共和国卫生部门评审确定的二级或二级以上的公立医院，但不包括主要作为诊所、康复、护理、休养、静养、戒酒、戒毒等或类似的医疗机构。该医院必须具有符合国家有关医院管理规则设置标准的医疗设备，且全天二十四小时有合格医师及护士驻院提供医疗及护理服务。</p> <p><i>【旅行目的地的相关警告】</i>国家旅游局、外交部针对国家或地区发布的相关劝告和警告。</p> <p><i>【未满期净保费】</i>未满期净保费=保险费×[1-(保险单已经过天数/保险期间天数)]×（1-35%）。经过天数不足一天的按一天计算。</p> </div> </div>')}()},function(e,t,i){var a;a=function(){var e={setItem:localStorage.setItem,getItem:localStorage.getItem,removeItem:localStorage.removeItem},t={replaceStorage:function(t){t?(localStorage.setItem=function(e,t){sessionStorage.setItem(e,t)},localStorage.getItem=function(e){return sessionStorage.getItem(e)},localStorage.removeItem=function(e){return sessionStorage.removeItem(e)}):(localStorage.setItem=e.setItem,localStorage.getItem=e.getItem,localStorage.removeItem=e.removeItem)}};return t}.call(t,i,t,e),!(void 0!==a&&(e.exports=a))},function(e,t,i){var a,n;a=[i(4)],n=function(e){var t="//m.elongstatic.com/static/webapp/hotel/2015/08/v7/";ProcessDriver={ratio:"undefined"!=typeof devicePixelRatio?devicePixelRatio:1,weixinColor:"#ff5555",opt:{},init:function(e,t,i){$.isEmptyObject(e)||(ProcessDriver.opt={isWeixin:t,dom:$("canvas.rate"),callback:ProcessDriver.drawProcess,rateNum:0,speed:1,data:e},i&&(ProcessDriver.opt.dom=$("canvas.rate1"),ProcessDriver.opt.callback=ProcessDriver.drawProcessNoGoodText),this.drawFromZero(ProcessDriver.opt))},drawFromZero:function(e){e.dom.text(e.rateNum+"%"),e.callback(),e.rateNum<30?e.rateNum+=1:e.rateNum+=2,e.rateNum>e.data.goodCommentRate&&e.rateNum>=30&&e.rateNum--,e.rateNum<=e.data.goodCommentRate&&setTimeout(function(){ProcessDriver.drawFromZero(e)},10)},drawProcessBase:function(e,t,i,a,n,s,o,r){var l=$(e),c=l.width()/2,d=e.getContext("2d"),p=ProcessDriver.ratio;c<=0||(e.width=l.width()*p,e.height=l.height()*p,c*=p,d.clearRect(0,0,2*c,2*c),d.beginPath(),d.moveTo(c,c),d.arc(c,c,c,0,2*Math.PI,!1),d.closePath(),d.fillStyle=t,d.fill(),d.beginPath(),d.moveTo(c,c),100==n?d.arc(c,c,c,0,2*Math.PI*n/100,!1):d.arc(c,c,c,Math.PI/2*3,2*Math.PI*n/100+Math.PI/2*3,!1),d.closePath(),d.fillStyle=i,d.fill(),d.beginPath(),d.moveTo(c,c),d.arc(c,c,c-2*p,0,2*Math.PI,!0),d.closePath(),d.fillStyle="rgba(255,255,255,1)",d.fill(),s&&(d.font=s*p+"px Arial",d.fillStyle=o,d.textAlign="center",r?d.textBaseline="alphabetic":d.textBaseline="middle"),d.moveTo(c,c),d.fillText(a,c,c),r&&(d.fillStyle=ProcessDriver.opt.isWeixin?ProcessDriver.opt.weixinColor:"#E65749",d.font=(ProcessDriver.opt.isWeixin?16:12)*p+"px Arial",d.textAlign="center",d.textBaseline="middle",d.fillText(r,c,2*c-16*p)))},drawProcess:function(e){$("canvas.rate").each(function(){var t=$(this).text(),i=void 0!==e?e:t.substring(0,t.length-1);ProcessDriver.drawProcessBase(this,"#ddd",ProcessDriver.opt.isWeixin?ProcessDriver.weixinColor:"#E65749",t,i,ProcessDriver.opt.isWeixin?22:20,ProcessDriver.opt.isWeixin?ProcessDriver.weixinColor:"#E65749","好评")})},drawProcessNoGoodText:function(){$("canvas.rate1").each(function(){var e=$(this).text(),t=e.substring(0,e.length-1);ProcessDriver.drawProcessBase(this,"#ddd",ProcessDriver.opt.isWeixin?ProcessDriver.weixinColor:"#E65749",e,t,ProcessDriver.opt.isWeixin?14:12,ProcessDriver.opt.isWeixin?ProcessDriver.weixinColor:"#E65749")})},drawProcess2:function(){$("canvas.rate2").each(function(){var e=$(".rate-num1").text(),t=e.substring(0,e.length-1);ProcessDriver.drawProcessBase(this,"#ddd","#5796DB",e,t)})},drawProcess3:function(){$("canvas.rate3").each(function(){var e=$(".rate-num2").text(),t=e.substring(0,e.length-1);ProcessDriver.drawProcessBase(this,"#ddd","#70C482",e,t)})},drawProcess4:function(){$("canvas.rate4").each(function(){var e=$(".rate-num3").text(),t=e.substring(0,e.length-1);ProcessDriver.drawProcessBase(this,"#ddd","#F5725A",e,t)})}};var i={template:'<div class="downloadBar" style="display:block;"><div class="dlb-icon"><div class="dlb-close"></div></div><a target="_self" href="$downloadUrl" class="link"><img src="//m.elongstatic.com/static/webapp/hotel/2015/07/v5/img/dlbbg.png"></a></div>',target:null,init:function(e){if(!($(".downloadBar").length>0)){var t,a=e.hasPproDownload,n=e.proDownloadUrl;if("true"===a&&"1"!==sessionStorage.getItem("PproDownloadShowed")&&""===e.hotelWeiXinPro.channel){t=$(".pages");var s=i.template.replace("$downloadUrl",n);t.append(s),i.target=$(".downloadBar"),i.target.on("click",".dlb-icon",i.close)}}},close:function(e){i.target.hide(),sessionStorage.setItem("PproDownloadShowed",1),e.preventDefault()}},a={template:'<div class="wxPromotionBar" style="display:block;"><div class="dlb-icon"><div class="dlb-close"></div></div><a target="_self" href="$WXPromotionUrl" class="link"><img src="$WXPromotionImg"></a></div>',target:null,init:function(e){if(!($(".wxPromotionBar").length>0)){var i,n,s,o,r;i=e.hotelWeiXinPro,s={weixin_lbs:t+"img/elongtraval_chip2.png",ewhtml5:t+"img/elongtraval_chip1.png"},""!==i.channel&&"1"!==sessionStorage.getItem("WXPromotionShowed")&&(n=i.weiXinProUrl,o=$(".pages"),r=a.template.replace("$WXPromotionUrl",n),r=r.replace("$WXPromotionImg",s[i.channel]),o.append(r),a.target=$(".wxPromotionBar"),a.target.on("click",".dlb-icon",a.close))}},close:function(e){a.target.hide(),sessionStorage.setItem("WXPromotionShowed",1),e.preventDefault()}},n={aTags:{},init:function(e){this.aTags=e;var t,i,a,n,s,o=Date.now();for(t in this.aTags)if(this.aTags[t]){i=$(this.aTags[t]);for(var n=i.length-1;n>=0;n--)a=$(i[n]),s=a.attr("href"),!s||s.indexOf("http://")===-1&&s.indexOf("https://")===-1||(s=s.indexOf("?")===-1?s+"?t="+o:s+"&t="+o,a.attr("href",s)),s=a.attr("data-href"),!s||s.indexOf("http://")===-1&&s.indexOf("https://")===-1||(s=s.indexOf("?")===-1?s+"?t="+o:s+"&t="+o,s=a.attr("data-href",s))}}},s={processDriver:ProcessDriver,promotionDownload:i,wxPromotion:a,urlTimestamp:n};return s}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(4),i(37)],n=function(e,t){var i=($('<div class="dialog"></div>'),$("html")),a=function(){},n=function(){};n.prototype={init:function(){this.page=$('<div class="dialog"></div>')},config:{content:"请选择相应的操作",btnArr:[{}],mask:!0,clickMask:function(){}},isShow:!1,option:{showType:"transition",transitionClass:"dialog-active",showTransition:!0},beforeShow:function(e,t){i.hasClass("android")&&i.css("overflow","hidden"),t?this.showRadio(e):this.showDialog(e)},handleRepeatShow:function(){this.isShow?t.showPluginNum--:(this.isShow=!0,t.showAdvancedLoad())},showDialog:function(t){for(var i=$.extend(this.config,t),a="",n=this,s=0;s<i.btnArr.length;s++)a+=t.btnArr.length>1?'<div class="item-btn item-btn'+t.btnArr.length+'">'+i.btnArr[s].text+"</div>":'<div class="item-btn">'+i.btnArr[s].text+"</div>";this.handleRepeatShow(),$(e.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){i.clickMask()}),this.page.html('<div class="content">'+i.content+"</div>"+a),this.page.find(".item-btn").each(function(e){""!==i.btnArr[e].color&&$(this).css("background",i.btnArr[e].color),""!==i.btnArr[e].tinct&&$(this).css("color",i.btnArr[e].tinct),"button"==i.btnArr[e].type&&$(this).on("click",function(){var t=i.btnArr[e].click();t!==!1&&n.hide()})})},showRadio:function(i){var a=$.extend({title:"请选择一项",defaultSelected:1,defaultIdSelected:"",radioArr:[{}],success:function(){},cancel:function(){},maskClosed:!1,mask:!0,clickMask:function(){}},i),n="",s="",o="",r="",l=this,c=this.page;if(a.radioArr.length>0)for(var d=0;d<a.radioArr.length;d++)n+='<li class="radio-item"><label class="label-radio clearfix"><div class="radio-icon"><span class="radio"></span></div><div class="radio-text" data-rid="'+a.radioArr[d].id+'">'+a.radioArr[d].text+"</div></label></li>";if(t.showAdvancedLoad(),$(e.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){a.clickMask()}),a.maskClosed&&$(e.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){l.hide()}),i.success&&(s='<div class="item-btn radio-success" data-selected="">确定</div>'),i.cancel&&(o='<div class="item-btn radio-cancel">取消</div>'),c.html('<div class="radio-title">'+a.title+"</div><ul>"+n+"</ul>"+s+o),c.find("ul li").each(function(e){a.radioArr[e].click&&$(this).on("click",function(){var t=$(this);a.radioArr[e].click(t),l.hide()})}),""!==a.defaultIdSelected)c.find('[data-rid="'+a.defaultIdSelected+'"]').parents("li").find(".radio").addClass("selected");else if(a.defaultSelected>0){var p=c.find("li").eq(a.defaultSelected-1);p.find(".radio").addClass("selected"),c.find(".radio-success").data("selected",p.find(".radio-text").data("rid"))}a.radioArr.length>0&&c.find(".label-radio").on("click",function(){$(this).parent().siblings().find(".radio").removeClass("selected"),
$(this).find(".radio").addClass("selected"),r=$(this).find(".radio-text").data("rid"),c.find(".radio-success").data("selected",r)}),i.success&&c.find(".radio-success").on("click",function(){var e=$(this);a.success(e),l.hide()}),i.cancel&&c.find(".radio-cancel").on("click",function(){a.cancel(),l.hide()})},afterHide:function(){$(e.getActiveLayer()).off("click",".advanced-mask-layer"),i.hasClass("android")&&i.css("overflow",""),this.isShow=!1,t.removeAdvancedLoad()}};var s={currentPageDialog:null,init:function(i){this.currentPageDialog=t.getItem("dialog"),this.currentPageDialog?this.currentPageDialog.page.parentElement||this.currentPageDialog.restore(e.getActiveId()):(this.currentPageDialog=new n,t.add("dialog",this.currentPageDialog)),i&&setTimeout(i,10)},show:function(e){var t=this;this.init(function(){t.currentPageDialog.show(e)})},radioShow:function(e){var t=this;this.init(function(){t.currentPageDialog.show(e,!0)})},alert:function(e,t){"object"==typeof e&&(opt=e,e=opt.content,t=opt.click);var i={content:e,btnArr:[{text:"确 定",color:"#E65749",type:"button",click:t||a}]};s.show(i)},newAlert:function(e){var t=$.extend({msg:"请选择相应的操作",btnText:"确 定",callback:function(){}},e),i={content:t.msg,btnArr:[{text:t.btnText,color:"#E65749",type:"button",click:t.callback}]};s.show(i)},confirm:function(e){e.success||(e.success=function(){}),e.cancel||(e.cancel=function(){});var t={content:e.content,text:e.text?e.text:["确定","取消"],btnArr:[{text:e.text&&e.text[0]?e.text[0]:"确定",color:"#fff",tinct:"#e65749",type:"button",click:e.success},{text:e.text&&e.text[1]?e.text[1]:"取消",color:"#e65749",type:"button",click:e.cancel}]};s.show(t)},moreconfirm:function(e){e.first||(e.first=function(){}),e.second||(e.second=function(){}),e.third||(e.third=function(){});var t={content:e.content,text:e.text,btnArr:[{text:e.text[0],color:"#fff",tinct:"#e65749",type:"button",click:e.first},{text:e.text[1],color:"#fff",tinct:"#e65749",type:"button",click:e.second},{text:e.text[2],color:"#fff",tinct:"#e65749",type:"button",click:e.third}]};s.show(t)},superconfirm:function(e){e.cancel||(e.cancel=function(){});var t={content:e.content,btnArr:[{text:"取 消",color:"#757575",type:"button",click:e.cancel}]};if(e&&e.btnArr)for(var i=e.btnArr.length-1;i>=0;i--){var a=e.btnArr[i];t.btnArr.unshift({text:a.name,color:"#E65749",type:"button",click:a.event})}s.show(t)},radiocomfirm:function(e){s.radioShow(e)}};return s}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(38)],n=function(e){return e}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(4)],n=function(e){function t(i,a){for(var n in a)i[n]?"object"==typeof i[n]&&"object"==typeof a[n]&&t(i[n],a[n]):"object"==typeof a[n]?i[n]=e.clone(a[n]):i[n]=a[n]}!function(){if(location.href.indexOf("&!_PLU_")>0){var t=e.getActiveId();History.replaceState(t,document.title,location.href.split("&!_PLU_")[0]+location.hash)}}(),PluginManager={plugins:{},isHashChangeByPlugin:!1,lastUrl:location.href,maskNum:0,advancedMaskNum:0,showPluginNum:0,base:{id:null,option:{showLoad:!1,showTransition:!1,showType:"animation",transitionClass:""},init:function(){},Beforeinit:function(){e.isPad&&"animation"==this.option.showType?this.option.showLoad=!0:this.page&&this.page.hasClass("page-plugin")&&(e.isPad&&(this.option.showLoad=!0),this.option.showTransition=!0)},page:null,beforeShow:function(){return!1},lastShowArguments:null,show:function(){if(!this.beforeShow.apply(this,arguments)){var t=$("html"),i=this.page;if($("html").hasClass("android")?t.css("overflow","hidden"):(e.getActiveLayer().find(".page-content").css("overflow","hidden!important"),PluginManager._removeOverflow(i.find(".page-content"))),e.getActiveLayer().addClass("fixed"),PluginManager.showPluginNum++,"animation"==this.option.showType)i.addClass("plugin-show"),e.moveWidget(i,"right","center");else{var a=this;e.transitionEnd&&this.option.showTransition?(i.addClass("page-transitioning"),i.off(e.transitionEnd).on(e.transitionEnd,function(){i.removeClass("page-transitioning"),i.addClass("plugin-show"),i.off(e.transitionEnd)})):i.addClass("plugin-show"),setTimeout(function(){i.addClass(a.option.transitionClass)},0)}if(this.option.showLoad&&PluginManager.showLoad(),this.afterShow.apply(this,arguments),this.lastShowArguments=arguments,location.href.indexOf("&!_PLU_"+this.id)<0){var n=e.getActiveId(),s=location.pathname+(""===location.search?"?_=1":location.search)+"&!_PLU_"+this.id+location.hash;PluginManager.isHashChangeByPlugin=!0,History.pushState(n,document.title,s)}}},afterShow:function(){},beforeHide:function(){},hide:function(){if(!this.beforeHide()){var t=this.page;if("animation"==this.option.showType&&t.hasClass("page-on-center"))e.moveWidget(t,"center","right",function(){t.removeClass("plugin-show")});else{e.transitionEnd&&this.option.showTransition?(t.addClass("page-transitioning"),t.removeClass("plugin-show"),t.off(e.transitionEnd).on(e.transitionEnd,function(){t.removeClass("page-transitioning"),t.off(e.transitionEnd)})):t.removeClass("plugin-show"),t.removeClass(this.option.transitionClass)}PluginManager.showPluginNum>0&&PluginManager.showPluginNum--,0===PluginManager.showPluginNum&&e.getActiveLayer().removeClass("fixed"),this.option.showLoad&&PluginManager.removeLoad();var i=$("html");i.hasClass("android")?i.css("overflow",""):PluginManager._removeOverflow(e.getActiveLayer().find(".page-content")),this.afterHide(),location.href.indexOf("&!_PLU_"+this.id)>0&&(PluginManager.isHashChangeByPlugin=!0,History.back())}},afterHide:function(){},destroy:function(){this.page&&this.page.detach(),e.getActiveLayer().removeClass("fixed")},restore:function(t){var i=e.get(t);this.page&&this.page.appendTo(i.main)}},add:function(i,a){var n=this.getCurrentPagePlugins();n||(n={},this.setCurrentPagePlugins(n));t(a,this.base),a.id=i,a.Beforeinit(),a.init(),a.destroy(),a.restore(e.getActiveId()),a.page&&a.page.addClass("plugin-inited"),"animation"==a.option.showType&&a.page.addClass("page-plugin"),n[i]=a},getCurrentPagePlugins:function(){return this.plugins[e.getActiveId()]},setCurrentPagePlugins:function(t){this.plugins[e.getActiveId()]=t},getItem:function(e){var t=this.getCurrentPagePlugins();return t?t[e]:null},remove:function(e){var t=this.getCurrentPagePlugins();t[e].destroy(),delete t[e]},removePluginBeforePageHide:function(e){var t=this.plugins[e];if(t)for(var i in t)t[i].destroy()},restorePluginBeforePageShow:function(e){var t=this.plugins[e];if(t)for(var i in t)t[i].restore(e)},showLoad:function(){e.getActiveLayer().children(".mask-layer").length?e.getActiveLayer().children(".mask-layer").show():$("<div class='mask-layer'></div>").appendTo(e.getActiveLayer()),this.maskNum++},removeLoad:function(){this.maskNum>0&&this.maskNum--,0===this.maskNum&&$(".mask-layer",e.getActiveLayer()).hide()},showAdvancedLoad:function(){e.getActiveLayer().children(".advanced-mask-layer").length?e.getActiveLayer().children(".advanced-mask-layer").show():$("<div class='advanced-mask-layer'></div>").appendTo(e.getActiveLayer())},removeAdvancedLoad:function(){$(".advanced-mask-layer",e.getActiveLayer()).hide()},_removeOverflow:function(e){e.each(function(){var e=$(this),t=e.attr("style");if("string"!=typeof t)return!0;for(var i=t.split(";"),a=0;a<i.length;a++){var n=i[a];if(n.indexOf("overflow")>=0){e.attr("style",t.replace(n+";",""));break}}})}};var i=function(e){PluginManager.restorePluginBeforePageShow(e.detail)},a=function(e){PluginManager.removePluginBeforePageHide(e.detail)};return $(document).on("beforehide",a),$(document).on("onshow",i),History.Adapter.bind(window,"statechange",function(e){var t=location.href,i=PluginManager.lastUrl;if(PluginManager.lastUrl=location.href,PluginManager.isHashChangeByPlugin)return void(PluginManager.isHashChangeByPlugin=!1);var a=null,n=null;if(t.length>i.length){a=t.split("&!_PLU_");var s=a[a.length-1];if(s=s.substring(0,s.indexOf("#")),n=PluginManager.getItem(s),!n)return;n.lastShowArguments?n.show.apply(n,n.lastShowArguments):n.show()}else a=i.split("&!_PLU_"),n=PluginManager.getItem(a[a.length-1].split("#")[0]),n?n.hide():null}),PluginManager}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(4)],n=function(e){function t(e){this.historyContenter=null,this.hotContainer=null,this.cityContainer=null,this.letterList=null,this.callback=null,this.getCurrentLocation=null,this.innerMask=null,this.pageSelect=null,this.pageSearch=null,this.hotList=[],this.cityList=[],this.historyList=[],this.foreignHistoryList=[],this.isWaitingToSearch=!1,this.subPath=e?e:"/hotel/",this.URL={SUGGESTION:this.subPath+"api/gethotelsugcitys?orientation=0",CITY:this.subPath+"api/gethotelcitysbyletter",FOREIGN_SUGGESTION:this.subPath+"api/gethotelsugcitys?orientation=1"}}return t.prototype={TEMPLATE:{ITEM:'<li city-id="${id}" area-type="${area-type}" area-id="${area-id}" sug-origin="${sug-origin}"><span>${name}</span></li>',SUGGESTIONITEM:'<li city-id="${id}" type="${type}" city-name="${city-name}" keyword="${keyword}" area-type="${area-type}" area-id="${area-id}" sug-origin="${sug-origin}">${city}<span>${region}</span></li>',BODY:'<div class="advance-city"><header class="bar bar-nav flight-order-head"><a class="icon pull-left icon-back"></a><div class="search-input"><i class="icon-search"></i><input type="input" value="" placeholder="请输入城市名、行政区或景区"></div></header><div class="page-content page-select"><div class="current-city"><div class="page-title"></div><div class="get-city"><i class="icon-position"></i>点击获取当前城市</div></div><div class="search-history"><div class="page-title">搜索历史</div><div class="city-list"><ul></ul></div></div><div class="hot-city"><div class="page-title">热门城市</div><div class="city-list"><ul></ul></div></div><div class="all-city"><div class="page-title">全部城市</div><div class="letter-list"><ul><li>A</li><li>B</li><li>C</li><li>D</li><li>E</li><li class="mr0">F</li><li>G</li><li>H</li><li>J</li><li>K</li><li>L</li><li class="mr0">M</li><li>N</li><li>P</li><li>Q</li><li>R</li><li>S</li><li class="mr0">T</li><li>W</li><li>X</li><li>Y</li><li>Z</li></ul></div><div class="city-list"><ul class="city-list-ul"></ul></div></div></div><div class="page-content page-search"><ul></ul></div><div class="inner-mask"></div></div>',NOSUGGESTION:'<li class="no">抱歉，没有帮您找到符合条件的结果</li>'},regionType:{0:"城市",1:"行政区",2:"地点",3:"商圈"},init:function(){this.page=$(this.TEMPLATE.BODY),this.historyContenter=this.page.find(".search-history .city-list ul"),this.hotContainer=this.page.find(".hot-city .city-list ul"),this.cityContainer=this.page.find(".all-city .city-list ul"),this.innerMask=this.page.find(".inner-mask"),this.pageSearch=this.page.find(".page-search"),this.pageSelect=this.page.find(".page-select"),this.letterList=this.page.find(".letter-list ul li"),this.cityTab=this.page.find(".city-tab ul li"),this._initHistory(),this._renderCity("hot"),this._bindEvent(),0==this.historyContenter.children().length&&this.page.find(".search-history").hide(),this.initId&&this._addSelectedClass({cityId:this.initId,areaId:this._isNull(this.initAreaId)})},beforeShow:function(){this.letterList.filter(".on").length>0&&this._renderCityByLetter(this.letterList.filter(".on"),this),this.historyContenter.children().length>0&&this.page.find(".search-history").show()},beforeHide:function(){this.page.find(".search-input input").blur()},afterHide:function(){this.pageSearch.hide(),this.pageSelect.show(),this.innerMask.hide()},config:function(e){e&&(this.callback=e.callback,this.getCurrentLocation=e.getCurrentLocation,this.initId=e.initId,this.initAreaId=e.initAreaId,this.hotList=e.hotCityData?e.hotCityData:[])},_wordFilter:function(e){return e.length>10?e.substring(0,9)+"…":e},_renderCityByLetter:function(e,t){var i=e.text().trim(),a=localStorage.getItem("localCity");if(t.letterList.removeClass("on"),e.addClass("on"),a=a?JSON.parse(a):{},a[i])t.cityList=a[i],t._renderCity("city"),t._goToCityList();else{var n=t.URL.CITY;t._getRemoteData(n,{letter:i},!0,function(e){t.cityList=e,a[i]=e,localStorage.setItem("localCity",JSON.stringify(a)),t._renderCity("city"),t._goToCityList()})}},_goToCityList:function(){var t=this;setTimeout(function(){var i=t.cityContainer.parent().parent(),a=e.getElementTop(i[0]),n=i.height()>t.pageSelect.height()-44?a-50:a+i.height()+20-(t.pageSelect.height()-44);t.pageSelect.scrollTop(n)},100)},_bindEvent:function(){var e=this,t=this.page.find(".search-input input");this.page.find(".icon-back").click(function(){return e.hide(),!1}),this.pageSelect.on("click","li[city-id]",function(){var t=$(this),i=e._isForeign(e),a={cityId:t.attr("city-id"),cityName:t.find("span").text(),areaId:t.attr("area-id"),areaType:t.attr("area-type"),sugOrigin:t.attr("sug-origin"),isForeign:i};e._doReturn(a)}),this.letterList.click(function(){e._isForeign(e);e._renderCityByLetter($(this),e)}),this.pageSearch.on("click","ul li",function(){var t=$(this),i=e._isForeign(e),a={cityId:t.attr("city-id"),cityName:t.attr("city-name"),keyword:t.attr("keyword"),regionType:t.attr("type"),areaId:t.attr("area-id"),areaType:t.attr("area-type"),sugOrigin:t.attr("sug-origin"),isForeign:i};e._doReturn(a)});var t=this.page.find(".search-input input");searchInputContainer=this.page.find(".search-input"),t.on("touchend focus",function(){"block"!=e.pageSearch.css("display")&&""==this.value.trim()}),t.blur(function(){setTimeout(function(){e.innerMask.hide()},200)}),e.innerMask.on("click",function(){return e.innerMask.hide(),!1}),t.bind("input propertychange touchend",function(){var t=this;t.value.trim()?(e.page.find(".icon-clear").show(),e.innerMask.hide()):(e.page.find(".icon-clear").hide(),e.innerMask.show()),e.isWaitingToSearch||(e.isWaitingToSearch=!0,setTimeout(function(){e.isWaitingToSearch=!1;var i=t.value;if(""!=i.trim()){var a=e.URL.SUGGESTION,n=e._isForeign(e);n&&(a=e.URL.FOREIGN_SUGGESTION),e._getRemoteData(a,{searchkey:i},!1,function(t){if(t&&t.length>0){for(var i="",a=0;a<t.length;a++){var n=t[a];i+=e.TEMPLATE.SUGGESTIONITEM.replace("${id}",n.cityId).replace("${type}",n.regionType).replace("${region}",e.regionType[n.regionType]).replace("${city-name}",n.cityName).replace("${keyword}",n.keyWord).replace("${area-id}",n.areaId).replace("${area-type}",n.areaType).replace("${sug-origin}",n.sugOrigin).replace("${city}",n.composedName)}e.pageSearch.find("ul").html(i)}else e.pageSearch.find("ul").html(e.TEMPLATE.NOSUGGESTION);e.pageSelect.hide(),e.pageSearch.show(),e.innerMask.hide()})}else e.pageSelect.show(),e.pageSearch.hide(),e.innerMask.show()},400))})},_isNull:function(e){return e?e:""},_isForeign:function(e){var t=!1;return e.cityTab&&e.cityTab.find(".foreign-city").hasClass("active")&&(t=!0),t},_addSelectedClass:function(e){this.page.find("li[city-id]").removeClass("on"),this.page.find('li[city-id="'+e.cityId+'"][area-id="'+e.areaId+'"]').addClass("on")},_renderCity:function(e){var t="",i=null,a=null;switch(e){case"hot":i=this.hotList,a=this.hotContainer;break;case"history":i=this.historyList,a=this.historyContenter;break;case"city":i=this.cityList,a=this.cityContainer}if(null!=a){for(var n=0;n<i.length;n++){var s=i[n];t+=this.TEMPLATE.ITEM.replace("${name}",this._wordFilter(s.cityName)).replace("${id}",s.cityId).replace("${area-id}",this._isNull(s.areaId)).replace("${area-type}",this._isNull(s.areaType)).replace("${sug-origin}",this._isNull(s.sugOrigin))}a.html(t)}},_initHistory:function(){var e=localStorage.getItem("advanceCityHistory");e&&(this.historyList=JSON.parse(e),this._renderCity("history"))},_updateHistoryCity:function(e){for(var t=this.historyList,i=0;i<t.length;i++)if(t[i].cityId==e.cityId&&t[i].areaId==e.areaId&&t[i].areaType==e.areaType){t.splice(i,1);break}t.splice(0,0,e),t.length>6&&t.splice(6,t.length-6),e.isForeign?localStorage.setItem("foreignHistoryList",JSON.stringify(t)):localStorage.setItem("advanceCityHistory",JSON.stringify(t))},_doReturn:function(e){this._updateHistoryCity(e),this._renderCity("history"),this._addSelectedClass(e),this.callback&&this.callback(e),0==this.historyContenter.children().length&&this.page.find(".search-history").hide(),this.hide()},_getRemoteData:function(t,i,a,n,s){a&&e.get(e.getActiveId()).startLoading(),$.ajax({timeout:1e4,url:t,data:i,type:"GET",success:function(t){a&&e.get(e.getActiveId()).stopLoading(),n?n(t):null},error:function(){a&&e.get(e.getActiveId()).stopLoading(),s?s():null}})}},t}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(4),i(37)],n=function(e,t){function i(){s=e.getActiveLayer(),e.getActiveLayer().children(".page-content").find("img[srcset]").each(function(){var t=this;if(null==this.offsetParent)if(this.visibleParent)t=this.visibleParent;else{for(var i=this.parentElement;i&&!i.offsetParent;)i=i.parentElement;if(!i)return a(this),!0;t=i,this.visibleParent=i}e.getElementVisibleTop(t)<s.height()+50&&a(this)})}function a(e){var t=$(e),i=t.attr("srcset");i&&(t.attr("src",i),t.removeAttr("srcset"))}var n=$("html"),s=null,o=null;return e.onrender(function(){s=e.getActiveLayer(),o=s.children(".page-content"),n.hasClass("android")?$(document).off("scroll",i).on("scroll",i):o.off("scroll",i).on("scroll",i),i()}),{handleLazy:i}}.apply(t,a),!(void 0!==n&&(e.exports=n))},,function(e,t,i){var a,n;a=[i(4)],n=function(e){var t=function(){};return t.prototype={TEMPLATE:{BODY:'<div class="list-pop-city list-pop-search"><header class="bar bar-nav flight-order-head"><a class="icon pull-left icon-back"></a><div class="search-input"><i></i><input type="input" value="" placeholder="输入酒店名、地址等"></div><div class="search-btn">搜索</div></header><div class="page-select page-content"><div class="current-city"><div class="page-title"></div><div class="get-city"><i class="icon-nearby"></i>查看我附近的酒店<b></b></div></div><div class="search-history"><div class="page-title">搜索历史<span class="sea-clear">清除历史</span></div><div class="keyword-list"><ul></ul></div></div>${group-list}</div><div class="page-content page-search"><ul>${suggestion-list}</ul></div><div class="inner-mask"></div></div>',KEYWORDGROUP:'<div class="keyword-group"><div class="page-title">${title}</div><div class="keyword-list"><ul>${list}</ul></div></div>',KEYWORDITEM:'<li keyword-id="${id}" city-id="${city-id}" iskeyword="${iskeyword}" name-cn="${name-cn}" lat="${lat}" lng="${lng}" hotelname="${hotelname}" placename="${placename}" type-id="${type-id}" hotel-brand-id="${hotel-brand-id}" brandname="${brandname}" class="${class}"><span>${keyword}</span></li>',SUGGESTIONITEM:'<li keyword-id="${id}" city-id="${city-id}" keyword="${name}" lat="${lat}" lng="${lng}" hotelname="${hotelname}" placename="${placename}" type-id="${type-id}" hotel-brand-id="${hotel-brand-id}" brandname="${brandname}">${name}<span>${type-name}</span></li>',NOSUGGESTION:'<li class="no">抱歉，没有帮您找到符合条件的结果</li>',SHOWMORE:'<li class="icon-bottom"></li>',HIDEMORE:'<li class="icon-top hide"></li>'},historyContainer:null,innerMask:null,pageSearch:null,pageSelect:null,callback:function(){},selectData:null,callbefore:null,cityId:"0101",displayNum:3,subPath:"/hotel/",isWEIXIN:!1,searchText:null,searchList:[],getNearbyHotel:null,searchInput:null,isWaitingToSearch:!1,historyList:[],returnParam:{keywords:"",areatype:"",areaid:"",startlat:"",startlng:"",hotelname:"",placename:"",isnear:"",startlat:"",startlng:"",city:"",areaid:"",areatype:"",highprice:"",lowprice:"",hotelbrandids:"",sortdirection:"",sortmethod:"",facilityids:"",personofroom:""},keywordType:{0:"酒店名称",3:"品牌",4:"行政区",5:"商圈",6:"地标"},cityWhiteList:{8724:"3301",3518:"3401",178263:"3201"},setNearbyHotelMethod:function(e){this.getNearbyHotel=e},init:function(){this.page=$(this.TEMPLATE.BODY.replace("${group-list}",this._renderKeywordGroup())),this.historyContainer=this.page.find(".search-history .keyword-list ul"),this.pageSearch=this.page.find(".page-search"),this.pageSelect=this.page.find(".page-select"),this.innerMask=this.page.find(".inner-mask"),this.searchInput=this.page.find(".search-input input"),this._renderHistory(),this._bindEvent(),this.initKeyword&&this._addSelectedClass(this.initKeyword)},newinit:function(e){this.page.find(".keyword-group").remove();for(var t=e,i="",a=0;a<t.length;a++)if(t[a]){var n=t[a],s=this.TEMPLATE.KEYWORDGROUP.replace("${title}",n.nameCn);0!=n.subFilterInfoEntities.length&&(i+=s.replace("${list}",this._renderKeyword(n.subFilterInfoEntities)))}this._renderHistory(),this.page.find(".search-history").after(i)},beforeShow:function(e){$("body, .page-list").addClass("weixin-overflowhidden"),this.searchInput.val("").blur()},afterShow:function(){var e=this;setTimeout(function(){e.searchText.find("input").blur(),$("input").blur()},400)},beforeHide:function(){$("body, .page-list").removeClass("weixin-overflowhidden"),this.searchInput.blur()},afterHide:function(){this.pageSearch.hide(),this.pageSelect.show(),this.innerMask.hide(),this.searchInput.val("")},config:function(e){if(e){for(var t in e)this[t]=e[t];this.target||(this.target=this.searchText)}this.target||(this.target=this.searchText)},_bindEvent:function(){var e=this;this.target.on("click",function(t){e.callbefore()}),$(".list-pop-city .icon-back",this.page).on("click",function(){e.hide(),e.isWEIXIN&&(e.afterShow(),$(".page-content.page-list").css("overflow","inherit!important"),$("body, .page-list").removeClass("weixin-overflowhidden"))}),this.page.find(".get-city").on("click",function(){"function"==typeof e.getNearbyHotel&&e.getNearbyHotel()}),this.page.on("click",".keyword-list .icon-bottom",function(){var e=$(this);return e.hide(),e.parent().find(".hide").removeClass("hide").addClass("to-hide"),!1}),this.page.on("click",".keyword-list .icon-top",function(){var e=$(this);return e.prev().show(),e.parent().find(".to-hide").removeClass("to-hide").addClass("hide"),!1}),this.pageSelect.on("click",".keyword-list ul li[keyword-id]",function(){var t=$(this),i={nameCn:t.attr("name-cn"),sn:t.attr("keyword-id"),cityId:t.attr("city-id"),lat:t.attr("lat"),lng:t.attr("lng"),hotelname:t.attr("hotelname"),placename:t.attr("placename"),typeId:t.attr("type-id"),hotelBrandId:t.attr("hotel-brand-id"),brandname:t.attr("brandname"),isKeyword:"true"==t.attr("iskeyword")};e._doReturn(i)}),this.pageSearch.on("click","ul li",function(){var t=$(this),i={nameCn:t.attr("keyword"),sn:t.attr("keyword-id"),cityId:t.attr("city-id"),lat:t.attr("lat"),lng:t.attr("lng"),hotelname:t.attr("hotelname"),placename:t.attr("placename"),hotelBrandId:t.attr("hotel-brand-id"),brandname:t.attr("brandname"),typeId:t.attr("type-id")};e._doReturn(i)}),this.pageSelect.find(".search-history .sea-clear").on("click",function(){var t=e._getLocalHistory();delete t[e.cityId],localStorage.setItem("keywordSearchHistory",JSON.stringify(t)),e.historyList=[],e._renderHistory()});var t=this.searchInput;this.page.find(".search-btn").on("click",function(){var i=t.val().trim(),a={nameCn:i,sn:"",cityId:"",lat:"",lng:"",hotelname:"",placename:"",hotelBrandId:"",brandname:"",isKeyword:!0};e._doReturn(a)}),t.on("touchend focus",function(){"block"!=e.pageSearch.css("display")&&""==this.value.trim()}),t.blur(function(){e.innerMask.hide()}),e.innerMask.on("click",function(){e.innerMask.hide()}),t.bind("input propertychange touchend",function(){var t=this;e.isWaitingToSearch||(e.isWaitingToSearch=!0,setTimeout(function(){e.isWaitingToSearch=!1;var i=t.value;""!=i.trim()?(e.innerMask.hide(),e._getSuggestion(i)):(e.innerMask.show(),e.pageSelect.show(),e.pageSearch.hide())},500))})},_getLocalHistory:function(){var e=localStorage.getItem("keywordSearchHistory");return e=e?JSON.parse(e):{},e=$.isArray(e)?{}:e},_getSuggestion:function(e){var t=this,i=this.subPath+"api/gethotelsugkeywords?r="+Math.random(),a={word:e,cityid:this.cityId},n=localStorage.getItem("_historyDatas")&&JSON.parse(localStorage.getItem("_historyDatas"))||{};n&&n.isForeign&&(i="/ihotel/hotelData/Sug?sugType=hotel",a={regionId:this.cityId,keyWord:e},n.sugOrigin&&0===+n.sugOrigin&&(i=this.subPath+"api/gethotelsugkeywords?r="+Math.random(),a={word:e,cityid:this.cityId}),this.cityWhiteList[this.cityId]&&(i=this.subPath+"api/gethotelsugkeywords?r="+Math.random(),a={word:e,cityid:this.cityWhiteList[this.cityId]})),$.ajax({timeout:1e4,url:i,data:a,type:"GET",success:function(e){if("string"==typeof e&&(e=JSON.parse(e)),e&&e.length>0){for(var i="",a=0;a<e.length;a++){var n=e[a];i+=t.TEMPLATE.SUGGESTIONITEM.replace("${id}",n.id).replace("${city-id}",t.cityId).replace("${type-id}",n.type).replace("${type-name}",t.keywordType[n.type]).replace(/\${name}/g,n.name||n.hotelname).replace("${lat}",n.lat).replace("${lng}",n.lng).replace("${hotelname}",n.hotelname).replace("${placename}",n.placename).replace("${hotel-brand-id}",n.hotelBrandId).replace("${brandname}",n.name)}t.pageSearch.find("ul").html(i)}else t.pageSearch.find("ul").html(t.TEMPLATE.NOSUGGESTION);t.pageSelect.hide(),t.pageSearch.show(),t.innerMask.hide()},error:function(){}})},_addSelectedClass:function(e){if(this.pageSelect.find(".keyword-list ul li").removeClass("on"),""!=e.sn)this.page.find('li[keyword-id="'+e.sn+'"]').addClass("on");else if(""!=e.hotelBrandId)this.page.find('li[hotel-brand-id="'+e.hotelBrandId+'"]').addClass("on");else if(this.historyList[0]){var t=this.historyList[0];t.nameCn==e.nameCn&&t.hotelname==e.hotelname&&t.placename===e.placename&&this.historyContainer.children().first().addClass("on")}},_updateHistory:function(e){for(var t=this.historyList,i=this._getLocalHistory(),a=0;a<t.length;a++)if(e.isKeyword){if(t[a].isKeyword&&t[a].nameCn==e.nameCn){t.splice(a,1);break}}else if(t[a].sn==e.sn&&(""!==e.sn||""!=e.hotelBrandId&&t[a].hotelBrandId==e.hotelBrandId||t[a].nameCn===e.nameCn&&t[a].hotelname===e.hotelname&&t[a].placename===e.placename&&t[a].typeId===e.typeId)){t.splice(a,1);break}t.splice(0,0,e),t.length>5*this.displayNum-1&&t.splice(5*this.displayNum-1,t.length-(5*this.displayNum-1)),i[this.cityId]=t,localStorage.setItem("keywordSearchHistory",JSON.stringify(i))},_wordFilter:function(e){return e=this._xssFilter(e),e.length>10?e.substring(0,9)+"…":e},_renderHistory:function(){var e=this._getLocalHistory(),t=$(".search-history",this.page);e[this.cityId]?(this.historyList=e[this.cityId],this.historyContainer.html(this._renderKeyword(this.historyList,!0))):(this.historyList=[],this.historyContainer.html("")),0==this.historyContainer.children().length?t.hide():t.show()},_renderKeyword:function(e,t){for(var i="",a=e.length>2*this.displayNum,n=this.cityId,s=0;s<e.length&&s<5*this.displayNum-1;s++){var o=e[s],r=s>2*this.displayNum-2&&a?"hide":"";3==o.typeId&&(o.brandname=o.nameCn,""!=o.sn&&(o.hotelBrandId=o.sn,o.sn="")),t||(o.cityId=n),i+=this.TEMPLATE.KEYWORDITEM.replace("${id}",this._isNull(o.sn)).replace("${city-id}",this._isNull(o.cityId)).replace("${type-id}",this._isNull(o.typeId)).replace("${keyword}",this._wordFilter(o.nameCn)).replace("${name-cn}",this._isNull(o.nameCn)).replace("${lat}",this._isNull(o.lat)).replace("${lng}",this._isNull(o.lng)).replace("${hotelname}",this._isNull(o.hotelname)).replace("${placename}",this._isNull(o.placename)).replace("${iskeyword}",this._isNull(o.isKeyword)).replace("${hotel-brand-id}",this._isNull(o.hotelBrandId)).replace("${brandname}",this._isNull(o.brandname)).replace("${class}",r)}return a&&(i+=this.TEMPLATE.SHOWMORE+this.TEMPLATE.HIDEMORE),i},_isNull:function(e){return e?e:""},_renderKeywordGroup:function(){for(var e=this.searchList,t="",i=0;i<e.length;i++)if(e[i]){var a=e[i],n=this.TEMPLATE.KEYWORDGROUP.replace("${title}",a.nameCn);0!=a.subFilterInfoEntities.length&&(t+=n.replace("${list}",this._renderKeyword(a.subFilterInfoEntities)))}return t},_doReturn:function(t){""==t.nameCn&&t.isKeyword||(this._updateHistory(t),this._renderHistory()),this.searchText.find("input").val(t.nameCn),this._addSelectedClass(t);var i=e.clone(this.returnParam);t.isKeyword?(i.keywords=t.nameCn,i.cityId=""):(i.areatype=t.typeId,i.areaid=t.sn,i.startlat=t.lat,i.startlng=t.lng,i.hotelname=t.hotelname,i.placename=t.placename,i.hotelbrandids=t.hotelBrandId,i.brandname=t.brandname,i.cityId=t.cityId),this.callback(i,t.nameCn),this.hide()},_xssFilter:function(e,t){return e?e.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(e,t){return t?e:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[e]}):""}},t}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(4),i(37),i(44)],n=function(e,t){$.extend($.fn,{calendar:function(t){t=$.extend({mindate:new Date(1970,0,1),maxdate:new Date(2050,12,31),text:"出发",startText:"开始",endText:"结束",isDouble:!1,isDeepNight:!1,tag:{week:["日","一","二","三","四","五","六"]},eventCallBack:function(e){},beforeSelected:function(e){return!0},festivaltag:{"1-1":["元旦"],"2-14":["情人节"],"3-8":["妇女节"],"5-1":["劳动节"],"6-1":["儿童节"],"7-1":["建党"],"8-1":["建军"],"9-10":["教师节"],"10-1":["国庆"],"10-31":["万圣节"],"12-24":["平安夜"],"12-25":["圣诞节"]},cnfestivaltag:{"2016-2-7":["除夕"],"2016-2-8":["春节"],"2016-2-22":["元宵节"],"2016-4-4":["清明"],"2016-5-1":["劳动节"],"2016-6-9":["端午节"],"2016-6-19":["父亲节"],"2016-8-9":["七夕"],"2016-8-17":["中元节"],"2016-9-15":["中秋节"],"2016-10-9":["重阳节"],"2016-10-31":["万圣节"],"2016-11-24":["感恩节"],"2017-1-5":["腊八"],"2017-1-20":["小年"],"2017-1-27":["除夕"],"2017-1-28":["春节"],"2017-2-11":["元宵节"],"2017-4-4":["清明节"],"2017-5-14":["母亲节"],"2017-5-30":["端午节"],"2017-6-18":["父亲节"],"2017-8-28":["七夕"],"2017-9-5":["中元节"],"2017-10-4":["中秋节"],"2017-10-28":["重阳节"],"2017-11-23":["感恩节"],"2018-1-24":["腊八"],"2018-2-8":["小年"],"2018-2-15":["除夕"],"2018-2-16":["春节"],"2018-3-2":["元宵节"]},holidaytag:{"2016-1-1":["休"],"2016-1-2":["休"],"2016-1-3":["休"],"2016-2-6":["班"],"2016-2-7":["休"],"2016-2-8":["休"],"2016-2-9":["休"],"2016-2-10":["休"],"2016-2-11":["休"],"2016-2-12":["休"],"2016-2-13":["休"],"2016-2-14":["班"],"2016-4-2":["休"],"2016-4-3":["休"],"2016-4-4":["休"],"2016-4-30":["休"],"2016-5-1":["休"],"2016-5-2":["休"],"2016-6-9":["休"],"2016-6-10":["休"],"2016-6-11":["休"],"2016-6-12":["班"],"2016-9-15":["休"],"2016-9-16":["休"],"2016-9-17":["休"],"2016-9-18":["班"],"2016-10-1":["休"],"2016-10-2":["休"],"2016-10-3":["休"],"2016-10-4":["休"],"2016-10-5":["休"],"2016-10-6":["休"],"2016-10-7":["休"],"2016-10-8":["班"],"2016-10-9":["班"],"2016-12-31":["休"],"2017-1-1":["休"],"2017-1-2":["休"],"2017-1-22":["班"],"2017-1-27":["休"],"2017-1-28":["休"],"2017-1-29":["休"],"2017-1-30":["休"],"2017-1-31":["休"],"2017-2-1":["休"],"2017-2-2":["休"],"2017-2-4":["班"],"2017-4-1":["班"],"2017-4-2":["休"],"2017-4-3":["休"],"2017-4-4":["休"],"2017-4-29":["休"],"2017-4-30":["休"],"2017-5-1":["休"],"2017-5-27":["班"],"2017-5-28":["休"],"2017-5-29":["休"],"2017-5-30":["休"],"2017-9-30":["班"],"2017-10-1":["休"],"2017-10-2":["休"],"2017-10-3":["休"],"2017-10-4":["休"],"2017-10-5":["休"],"2017-10-6":["休"],"2017-10-7":["休"],"2017-10-8":["休"]}},t);var i,a,n=this,s={el:"",data:""},o={el:"",data:""},r={el:"",data:""},l={el:"",data:""},c=!1,d=!0,p=!0,h=null;a=$("<div>").addClass("cld page-plugin"),e.getActiveLayer()?a.appendTo(e.getActiveLayer()):document.body.appendChild(a[0]);var u=function(){a.html("");var e=t.maxdate.diff(t.mindate,2),n=[],s={header:"",left:"",right:""};s.header=$('<header class="bar bar-nav"><h1 class="title">'+t.text+"日期</h1></header>").appendTo(a),s.left=$('<a class="icon icon-back pull-left hide-cln"></a>').appendTo(s.header),s.right=$("<a></a>").addClass("cld-title-year pull-right icon").appendTo(s.header),i=$('<div class="page-content">').appendTo(a),s.left.bind("click",function(){h.hide()}),m();for(var o=0;o<=e;o++){var r=new Date(t.mindate.format("yyyy-MM")+"-01"),l=r.add(o,2),c=l.getDay(),d=l.daysInMonth(),u=0,g={};g.wrap=$("<section class='cld-item'>"),g.date=$("<h1 class='cld-titleDate'>"+l.format("yyyy年MM月")+"</h1>").appendTo(g.wrap),g.days=$('<ul class="cld-day">').appendTo(g.wrap);for(var v=0;v<42;v++)if(v>=c&&u<d){var y=l.add(u,3);u++;var w=$('<li><span class="date-elem">'+u+"</span></li>").attr("data-day",y.format()).appendTo(g.days);f(w,y,u),p&&w.addClass("disabled")}else{if(v>=28&&v%7===0)break;$("<li>").appendTo(g.days)}n.push(g)}for(o=0;o<n.length;o++)n[o].wrap.appendTo(i);for(var T=$('<ul class="cld-title bar">').appendTo(a),b=0;b<t.tag.week.length;b++){var I=$("<li>").text(t.tag.week[b]);I.appendTo(T)}},f=function(e,i,a,n){var s=new Date,o=t.festivaltag[[i.getMonth()+1,i.getDate()].join("-")],r=t.cnfestivaltag[[i.getFullYear(),i.getMonth()+1,i.getDate()].join("-")],l=t.holidaytag[[i.getFullYear(),i.getMonth()+1,i.getDate()].join("-")];
if(t.isDeepNight&&i.format("yyyy-MM-dd")===s.add(-1,3).format("yyyy-MM-dd")&&e.html('<div><span class="festival">'+a+'</span><span class="festivalText">深夜</span></div>'),i.equal(s,3)&&e.html('<div><span class="festival">'+a+'</span><span class="festivalText">今天</span></div>'),i.equal(t.mindate,3)?p=!1:i.equal(t.maxdate.add(1,3),3)&&(p=!0),o||r){var c;o&&(c=o),r&&(c=r),e.html('<div><span class="festival">'+a+'</span><span class="festivalText">'+c+"</span></div>")}l&&("休"==l?(e.append('<b class="holiday">'+l+"</b>"),e.addClass("holiday")):(e.append('<b class="work">'+l+"</b>"),e.addClass("work"))),"function"==typeof n&&n()},m=function(){"function"==typeof t.eventCallBack&&(t.isDouble?i.on("click",".cld-day li[data-day]",v):i.on("click",".cld-day li[data-day]",g)),$(n).on("click",function(){h.show()})},g=function(){var e=$(this).attr("data-day");return!$(this).hasClass("disabled")&&(!(t.beforeSelected&&"function"==typeof t.beforeSelected&&!t.beforeSelected(e))&&(y($(this),new Date(e).getDate()),s.el=$(this),s.data=e,h.hide(),void t.eventCallBack(e)))},v=function(){if($(this).hasClass("disabled")||!d)return!1;var e=$(this).attr("data-day"),i=!!t.beforeSelected&&"function"==typeof t.beforeSelected;if(o.data==e&&c)return b(),void(c=!1);if(!c||new Date(e)<new Date(o.data)){if(i&&!t.beforeSelected(e,null,c))return!1;b(),w($(this),new Date(e).getDate(),"start"),c=!0,o.el=$(this),o.data=e,$(a).find(".cld-item").removeClass("selected"),$(this).parents("section").addClass("selected")}else{if(i&&!t.beforeSelected(o.data,e,c))return!1;w($(this),new Date(e).getDate(),"end"),r.el=$(this),r.data=e,T(),c=!1,d=!1,setTimeout(function(){h.hide(),t.eventCallBack(o.data,r.data),d=!0},200)}},y=function(e,i){""!==l.el&&(l.el.hide(),l.el.parent().removeClass("active").html(l.data),l.el.remove());var a=$("<div>"),n=e.find("b");$('<span class="active">'+i+"</span>").appendTo(a),$('<span class="activeText">'+t.text+"</span>").appendTo(a),l.data=$(e).html(),l.el=a,e.html(""),e.addClass("active"),e.append(n),a.appendTo(e)},w=function(e,i,n){var s=$("<div>"),o=e.find("b");"start"==n?$('<div class="undo-select"><div class="icon-cross"></div></div>').appendTo(s):$(".undo-select",a).remove(),$('<span class="active">'+i+"</span>").appendTo(s),"start"==n?$('<span class="activeText">'+t.startText+"</span>").appendTo(s):$('<span class="activeText">'+t.endText+"</span>").appendTo(s),e.attr("text",e.html()),e.html(""),e.addClass("active"),e.append(o),s.appendTo(e)},T=function(){var e=o.el.next(),t=r.el.attr("data-day");for(0!=e.length&&e.attr("data-day")||(e=o.el.parent().parent().next().find("li[data-day]").first());e.attr("data-day")!=t;){e.addClass("active-during");var i=e.next();e=0!=i.length&&i.attr("data-day")?i:e.parent().parent().next().find("li[data-day]").first()}},b=function(){var e=$(".cld-day li.active",a);e.each(function(){var e=$(this);e.html(e.attr("text"))}),e.removeClass("active"),$(".cld-day li.active-during",a).removeClass("active-during"),o.el="",o.data="",r.el="",r.data=""},I=function(){e.isLowDevice&&a.siblings(".page-content").show(),C.hasClass("android")&&C.css("overflow",""),c=!1},C=$("html"),x=function(){if("function"==typeof t.selectDate)if(t.isDouble){var n=t.selectDate(),s=n[0],l=n[1];if(new Date(s)>new Date(l))return;var c=i.find("[data-day='"+s+"']"),d=parseInt(e.removeZeroOfDate(s.substr(-2))),p=i.find("[data-day='"+l+"']"),h=parseInt(e.removeZeroOfDate(l.substr(-2)));b(),c.length&&w(c,d,"start"),o.el=c,o.data=s,p.length&&w(p,h,"end"),r.el=p,r.data=l,c.length&&p.length&&T()}else{var u=t.selectDate(),f=i.find("[data-day='"+u+"']"),m=parseInt(e.removeZeroOfDate(u.substr(-2)));f.length&&y(f,m)}C.hasClass("android")&&C.css("overflow","hidden"),e.isLowDevice&&(a.siblings(".page-content").hide(),$("body").scrollTop(0))};return u(),h={page:a,option:{showType:"transition",transitionClass:"cld-active"},setMinDate:function(e){t.mindate=e,u()},beforeShow:x,afterHide:I}}})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a;a=function(){$.extend(Date.prototype,{format:function(e){e=e||"yyyy-MM-dd";var t=this.toArray(),i={"M+":t[1]+1,"d+":t[2],"h+":t[3],"m+":t[4],"s+":t[5],"q+":Math.floor((t[1]+3)/3),S:t[6]};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t[0]+"").substr(4-RegExp.$1.length)));for(var a in i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},isLeapYear:function(){var e=this.getFullYear();return 0===e%4&&(e%100!==0||e%400===0)},daysInMonth:function(){return[31,0,31,30,31,30,31,31,30,31,30,31][this.getMonth()]||(this.isLeapYear()?29:28)},dayOfYear:function(){return Math.ceil((this.getTime()-new Date(this.getFullYear(),0,1).getTime())/Date.MSINDAY)},add:function(e,t){if(1==t||2==t){var i=new Date(this);return 1==t?i.setYear(i.getFullYear()+e):i.setMonth(i.getMonth()+e),i}return new Date(this.getTime()+[1,0,0,Date.MSINDAY,Date.MSINHOUR,Date.MSINMINUTE,Date.MSINSECOND,1][t||7]*e)},date:function(e){for(var t=this.toArray(),i=e||3;i<7;i++)t[i]=2==i?1:0;return new Date(t[0],t[1],t[2],t[3],t[4],t[5],t[6])},toArray:function(){return[this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds()]},equal:function(e,t){if(typeof this!=typeof e)return!1;var i=this.toArray();e=e.toArray();for(var a=0;a<(t||7);a++)if(i[a]!=e[a])return!1;return!0},diff:function(e,t){if(1==t||2==t){var i=this.getFullYear()-e.getFullYear();return 2==t?12*i+this.getMonth()-e.getMonth():i}return t=[1,0,0,Date.MSINDAY,Date.MSINHOUR,Date.MSINMINUTE,Date.MSINSECOND,1][t||7],this.getTime()/t-e.getTime()/t}}),$.extend(Date,{parseDate:function(e,t){switch(typeof e){case"object":case"number":e=new Date(e);break;case"string":e=new Date(isNaN(e)?e.trim().replace(/\-/g,"/"):parseInt(e))}return"Invalid Date"==e?t:e},MSINSECOND:1e3,MSINMINUTE:6e4,MSINHOUR:36e5,MSINDAY:864e5})}.call(t,i,t,e),!(void 0!==a&&(e.exports=a))},function(e,t,i){!function(){"use strict";function e(e){e.fn.swiper=function(i){var a;return e(this).each(function(){var e=new t(this,i);a||(a=e)}),a}}var t=function(e,a){function n(){return"horizontal"===g.params.direction}function s(){g.autoplayTimeoutId=setTimeout(function(){g.params.loop?(g.fixLoop(),g._slideNext()):g.isEnd?a.autoplayStopOnLast?g.stopAutoplay():g._slideTo(0):g._slideNext()},g.params.autoplay)}function o(e,t){var i=v(e.target);if(!i.is(t))if("string"==typeof t)i=i.parents(t);else if(t.nodeType){var a;return i.parents().each(function(e,i){i===t&&(a=t)}),a?t:void 0}if(0!==i.length)return i[0]}function r(e,t){t=t||{};var i=window.MutationObserver||window.WebkitMutationObserver,a=new i(function(e){e.forEach(function(e){g.onResize(!0),g.emit("onObserverUpdate",g,e)})});a.observe(e,{attributes:"undefined"==typeof t.attributes||t.attributes,childList:"undefined"==typeof t.childList||t.childList,characterData:"undefined"==typeof t.characterData||t.characterData}),g.observers.push(a)}function l(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!g.params.allowSwipeToNext&&(n()&&39===t||!n()&&40===t))return!1;if(!g.params.allowSwipeToPrev&&(n()&&37===t||!n()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var i=!1;if(g.container.parents(".swiper-slide").length>0&&0===g.container.parents(".swiper-slide-active").length)return;for(var a={left:window.pageXOffset,top:window.pageYOffset},s=window.innerWidth,o=window.innerHeight,r=g.container.offset(),l=[[r.left,r.top],[r.left+g.width,r.top],[r.left,r.top+g.height],[r.left+g.width,r.top+g.height]],c=0;c<l.length;c++){var d=l[c];d[0]>=a.left&&d[0]<=a.left+s&&d[1]>=a.top&&d[1]<=a.top+o&&(i=!0)}if(!i)return}n()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),39===t&&g.slideNext(),37===t&&g.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&g.slideNext(),38===t&&g.slidePrev())}}function c(e){e.originalEvent&&(e=e.originalEvent);var t=g._wheelEvent,i=0;if(e.detail)i=-e.detail;else if("mousewheel"===t)if(g.params.mousewheelForceToAxis)if(n()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;i=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;i=e.wheelDeltaY}else i=e.wheelDelta;else if("DOMMouseScroll"===t)i=-e.detail;else if("wheel"===t)if(g.params.mousewheelForceToAxis)if(n()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;i=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;i=-e.deltaY}else i=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(g.params.freeMode){var a=g.getWrapperTranslate()+i;if(a>0&&(a=0),a<g.maxTranslate()&&(a=g.maxTranslate()),g.setWrapperTransition(0),g.setWrapperTranslate(a),g.updateProgress(),g.updateActiveIndex(),0===a||a===g.maxTranslate())return}else(new window.Date).getTime()-g._lastWheelScrollTime>60&&(i<0?g.slideNext():g.slidePrev()),g._lastWheelScrollTime=(new window.Date).getTime();return g.params.autoplay&&g.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function d(e,t){e=v(e);var i,a,s;i=e.attr("data-swiper-parallax")||"0",a=e.attr("data-swiper-parallax-x"),s=e.attr("data-swiper-parallax-y"),a||s?(a=a||"0",s=s||"0"):n()?(a=i,s="0"):(s=i,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*t+"%":a*t+"px",s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",e.transform("translate3d("+a+", "+s+",0px)")}function p(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(e,a);var h={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},u=a&&a.virtualTranslate;a=a||{};for(var f in h)if("undefined"==typeof a[f])a[f]=h[f];else if("object"==typeof a[f])for(var m in h[f])"undefined"==typeof a[f][m]&&(a[f][m]=h[f][m]);var g=this;g.version="3.0.7",g.params=a,g.classNames=[];var v;if(v="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i,v&&(g.$=v,g.container=v(e),0!==g.container.length)){if(g.container.length>1)return void g.container.each(function(){new t(this,a)});g.container[0].swiper=g,g.container.data("swiper",g),g.classNames.push("swiper-container-"+g.params.direction),g.params.freeMode&&g.classNames.push("swiper-container-free-mode"),g.support.flexbox||(g.classNames.push("swiper-container-no-flexbox"),g.params.slidesPerColumn=1),(g.params.parallax||g.params.watchSlidesVisibility)&&(g.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(g.params.effect)>=0&&(g.support.transforms3d?(g.params.watchSlidesProgress=!0,g.classNames.push("swiper-container-3d")):g.params.effect="slide"),"slide"!==g.params.effect&&g.classNames.push("swiper-container-"+g.params.effect),"cube"===g.params.effect&&(g.params.resistanceRatio=0,g.params.slidesPerView=1,g.params.slidesPerColumn=1,g.params.slidesPerGroup=1,g.params.centeredSlides=!1,g.params.spaceBetween=0,g.params.virtualTranslate=!0,g.params.setWrapperSize=!1),"fade"===g.params.effect&&(g.params.slidesPerView=1,g.params.slidesPerColumn=1,g.params.slidesPerGroup=1,g.params.watchSlidesProgress=!0,g.params.spaceBetween=0,"undefined"==typeof u&&(g.params.virtualTranslate=!0)),g.params.grabCursor&&g.support.touch&&(g.params.grabCursor=!1),g.wrapper=g.container.children("."+g.params.wrapperClass),g.params.pagination&&(g.paginationContainer=v(g.params.pagination),g.params.paginationClickable&&g.paginationContainer.addClass("swiper-pagination-clickable")),g.rtl=n()&&("rtl"===g.container[0].dir.toLowerCase()||"rtl"===g.container.css("direction")),g.rtl&&g.classNames.push("swiper-container-rtl"),g.rtl&&(g.wrongRTL="-webkit-box"===g.wrapper.css("display")),g.params.slidesPerColumn>1&&g.classNames.push("swiper-container-multirow"),g.device.android&&g.classNames.push("swiper-container-android"),g.container.addClass(g.classNames.join(" ")),g.translate=0,g.progress=0,g.velocity=0,g.lockSwipeToNext=function(){g.params.allowSwipeToNext=!1},g.lockSwipeToPrev=function(){g.params.allowSwipeToPrev=!1},g.lockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!1},g.unlockSwipeToNext=function(){g.params.allowSwipeToNext=!0},g.unlockSwipeToPrev=function(){g.params.allowSwipeToPrev=!0},g.unlockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!0},g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab"),g.imagesToLoad=[],g.imagesLoaded=0,g.loadImage=function(e,t,i,a){function n(){a&&a()}var s;e.complete&&i?n():t?(s=new window.Image,s.onload=n,s.onerror=n,s.src=t):n()},g.preloadImages=function(){function e(){"undefined"!=typeof g&&null!==g&&(void 0!==g.imagesLoaded&&g.imagesLoaded++,g.imagesLoaded===g.imagesToLoad.length&&(g.params.updateOnImagesReady&&g.update(),g.emit("onImagesReady",g)))}g.imagesToLoad=g.container.find("img");for(var t=0;t<g.imagesToLoad.length;t++)g.loadImage(g.imagesToLoad[t],g.imagesToLoad[t].currentSrc||g.imagesToLoad[t].getAttribute("src"),!0,e)},g.autoplayTimeoutId=void 0,g.autoplaying=!1,g.autoplayPaused=!1,g.startAutoplay=function(){return"undefined"==typeof g.autoplayTimeoutId&&(!!g.params.autoplay&&(!g.autoplaying&&(g.autoplaying=!0,g.emit("onAutoplayStart",g),void s())))},g.stopAutoplay=function(e){g.autoplayTimeoutId&&(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplaying=!1,g.autoplayTimeoutId=void 0,g.emit("onAutoplayStop",g))},g.pauseAutoplay=function(e){g.autoplayPaused||(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplayPaused=!0,0===e?(g.autoplayPaused=!1,s()):g.wrapper.transitionEnd(function(){g&&(g.autoplayPaused=!1,g.autoplaying?s():g.stopAutoplay())}))},g.minTranslate=function(){return-g.snapGrid[0]},g.maxTranslate=function(){return-g.snapGrid[g.snapGrid.length-1]},g.updateContainerSize=function(){var e,t;e="undefined"!=typeof g.params.width?g.params.width:g.container[0].clientWidth,t="undefined"!=typeof g.params.height?g.params.height:g.container[0].clientHeight,0===e&&n()||0===t&&!n()||(g.width=e,g.height=t,g.size=n()?g.width:g.height)},g.updateSlidesSize=function(){g.slides=g.wrapper.children("."+g.params.slideClass),g.snapGrid=[],g.slidesGrid=[],g.slidesSizesGrid=[];var e,t=g.params.spaceBetween,i=0,a=0,s=0;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*g.size),g.virtualSize=-t,g.rtl?g.slides.css({marginLeft:"",marginTop:""}):g.slides.css({marginRight:"",marginBottom:""});var o;g.params.slidesPerColumn>1&&(o=Math.floor(g.slides.length/g.params.slidesPerColumn)===g.slides.length/g.params.slidesPerColumn?g.slides.length:Math.ceil(g.slides.length/g.params.slidesPerColumn)*g.params.slidesPerColumn);var r;for(e=0;e<g.slides.length;e++){r=0;var l=g.slides.eq(e);if(g.params.slidesPerColumn>1){var c,d,p,h,u=g.params.slidesPerColumn;"column"===g.params.slidesPerColumnFill?(d=Math.floor(e/u),p=e-d*u,c=d+p*o/u,l.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=o/u,p=Math.floor(e/h),d=e-p*h),l.css({"margin-top":0!==p&&g.params.spaceBetween&&g.params.spaceBetween+"px"}).attr("data-swiper-column",d).attr("data-swiper-row",p)}"none"!==l.css("display")&&("auto"===g.params.slidesPerView?r=n()?l.outerWidth(!0):l.outerHeight(!0):(r=(g.size-(g.params.slidesPerView-1)*t)/g.params.slidesPerView,n()?g.slides[e].style.width=r+"px":g.slides[e].style.height=r+"px"),g.slides[e].swiperSlideSize=r,g.slidesSizesGrid.push(r),g.params.centeredSlides?(i=i+r/2+a/2+t,0===e&&(i=i-g.size/2-t),Math.abs(i)<.001&&(i=0),s%g.params.slidesPerGroup===0&&g.snapGrid.push(i),g.slidesGrid.push(i)):(s%g.params.slidesPerGroup===0&&g.snapGrid.push(i),g.slidesGrid.push(i),i=i+r+t),g.virtualSize+=r+t,a=r,s++)}g.virtualSize=Math.max(g.virtualSize,g.size);var f;if(g.rtl&&g.wrongRTL&&("slide"===g.params.effect||"coverflow"===g.params.effect)&&g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}),g.support.flexbox&&!g.params.setWrapperSize||(n()?g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}):g.wrapper.css({height:g.virtualSize+g.params.spaceBetween+"px"})),g.params.slidesPerColumn>1&&(g.virtualSize=(r+g.params.spaceBetween)*o,g.virtualSize=Math.ceil(g.virtualSize/g.params.slidesPerColumn)-g.params.spaceBetween,g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}),g.params.centeredSlides)){for(f=[],e=0;e<g.snapGrid.length;e++)g.snapGrid[e]<g.virtualSize+g.snapGrid[0]&&f.push(g.snapGrid[e]);g.snapGrid=f}if(!g.params.centeredSlides){for(f=[],e=0;e<g.snapGrid.length;e++)g.snapGrid[e]<=g.virtualSize-g.size&&f.push(g.snapGrid[e]);g.snapGrid=f,Math.floor(g.virtualSize-g.size)>Math.floor(g.snapGrid[g.snapGrid.length-1])&&g.snapGrid.push(g.virtualSize-g.size)}0===g.snapGrid.length&&(g.snapGrid=[0]),0!==g.params.spaceBetween&&(n()?g.rtl?g.slides.css({marginLeft:t+"px"}):g.slides.css({marginRight:t+"px"}):g.slides.css({marginBottom:t+"px"})),g.params.watchSlidesProgress&&g.updateSlidesOffset()},g.updateSlidesOffset=function(){for(var e=0;e<g.slides.length;e++)g.slides[e].swiperSlideOffset=n()?g.slides[e].offsetLeft:g.slides[e].offsetTop},g.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=g.translate||0),0!==g.slides.length){"undefined"==typeof g.slides[0].swiperSlideOffset&&g.updateSlidesOffset();var t=g.params.centeredSlides?-e+g.size/2:-e;g.rtl&&(t=g.params.centeredSlides?e-g.size/2:e);g.container[0].getBoundingClientRect(),n()?"left":"top",n()?"right":"bottom";g.slides.removeClass(g.params.slideVisibleClass);for(var i=0;i<g.slides.length;i++){var a=g.slides[i],s=g.params.centeredSlides===!0?a.swiperSlideSize/2:0,o=(t-a.swiperSlideOffset-s)/(a.swiperSlideSize+g.params.spaceBetween);if(g.params.watchSlidesVisibility){var r=-(t-a.swiperSlideOffset-s),l=r+g.slidesSizesGrid[i],c=r>=0&&r<g.size||l>0&&l<=g.size||r<=0&&l>=g.size;c&&g.slides.eq(i).addClass(g.params.slideVisibleClass)}a.progress=g.rtl?-o:o}}},g.updateProgress=function(e){"undefined"==typeof e&&(e=g.translate||0);var t=g.maxTranslate()-g.minTranslate();0===t?(g.progress=0,g.isBeginning=g.isEnd=!0):(g.progress=(e-g.minTranslate())/t,g.isBeginning=g.progress<=0,g.isEnd=g.progress>=1),g.isBeginning&&g.emit("onReachBeginning",g),g.isEnd&&g.emit("onReachEnd",g),g.params.watchSlidesProgress&&g.updateSlidesProgress(e),g.emit("onProgress",g,g.progress)},g.updateActiveIndex=function(){var e,t,i,a=g.rtl?g.translate:-g.translate;for(t=0;t<g.slidesGrid.length;t++)"undefined"!=typeof g.slidesGrid[t+1]?a>=g.slidesGrid[t]&&a<g.slidesGrid[t+1]-(g.slidesGrid[t+1]-g.slidesGrid[t])/2?e=t:a>=g.slidesGrid[t]&&a<g.slidesGrid[t+1]&&(e=t+1):a>=g.slidesGrid[t]&&(e=t);(e<0||"undefined"==typeof e)&&(e=0),i=Math.floor(e/g.params.slidesPerGroup),i>=g.snapGrid.length&&(i=g.snapGrid.length-1),e!==g.activeIndex&&(g.snapIndex=i,g.previousIndex=g.activeIndex,g.activeIndex=e,g.updateClasses())},g.updateClasses=function(){g.slides.removeClass(g.params.slideActiveClass+" "+g.params.slideNextClass+" "+g.params.slidePrevClass);var e=g.slides.eq(g.activeIndex);if(e.addClass(g.params.slideActiveClass),e.next("."+g.params.slideClass).addClass(g.params.slideNextClass),e.prev("."+g.params.slideClass).addClass(g.params.slidePrevClass),g.bullets&&g.bullets.length>0){g.bullets.removeClass(g.params.bulletActiveClass);var t;g.params.loop?(t=Math.ceil(g.activeIndex-g.loopedSlides)/g.params.slidesPerGroup,t>g.slides.length-1-2*g.loopedSlides&&(t-=g.slides.length-2*g.loopedSlides),t>g.bullets.length-1&&(t-=g.bullets.length)):t="undefined"!=typeof g.snapIndex?g.snapIndex:g.activeIndex||0,g.paginationContainer.length>1?g.bullets.each(function(){v(this).index()===t&&v(this).addClass(g.params.bulletActiveClass)}):g.bullets.eq(t).addClass(g.params.bulletActiveClass)}g.params.loop||(g.params.prevButton&&(g.isBeginning?(v(g.params.prevButton).addClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.disable(v(g.params.prevButton))):(v(g.params.prevButton).removeClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.enable(v(g.params.prevButton)))),g.params.nextButton&&(g.isEnd?(v(g.params.nextButton).addClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.disable(v(g.params.nextButton))):(v(g.params.nextButton).removeClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.enable(v(g.params.nextButton)))))},g.updatePagination=function(){if(g.params.pagination&&g.paginationContainer&&g.paginationContainer.length>0){for(var e="",t=g.params.loop?Math.ceil((g.slides.length-2*g.loopedSlides)/g.params.slidesPerGroup):g.snapGrid.length,i=0;i<t;i++)e+=g.params.paginationBulletRender?g.params.paginationBulletRender(i,g.params.bulletClass):'<span class="'+g.params.bulletClass+'"></span>';g.paginationContainer.html(e),g.bullets=g.paginationContainer.find("."+g.params.bulletClass)}},g.update=function(e){function t(){a=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate()),g.setWrapperTranslate(a),g.updateActiveIndex(),g.updateClasses()}if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),g.updatePagination(),g.updateClasses(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),e){var i,a;g.params.freeMode?t():(i="auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0),i||t())}},g.onResize=function(e){if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),("auto"===g.params.slidesPerView||g.params.freeMode||e)&&g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),g.params.freeMode){var t=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate());g.setWrapperTranslate(t),g.updateActiveIndex(),g.updateClasses()}else g.updateClasses(),"auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0)};var y=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?y=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(y=["MSPointerDown","MSPointerMove","MSPointerUp"]),g.touchEvents={start:g.support.touch||!g.params.simulateTouch?"touchstart":y[0],move:g.support.touch||!g.params.simulateTouch?"touchmove":y[1],end:g.support.touch||!g.params.simulateTouch?"touchend":y[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===g.params.touchEventsTarget?g.container:g.wrapper).addClass("swiper-wp8-"+g.params.direction),g.initEvents=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",n="container"===g.params.touchEventsTarget?g.container[0]:g.wrapper[0],s=g.support.touch?n:document,o=!!g.params.nested;g.browser.ie?(n[i](g.touchEvents.start,g.onTouchStart,!1),s[i](g.touchEvents.move,g.onTouchMove,o),s[i](g.touchEvents.end,g.onTouchEnd,!1)):(g.support.touch&&(n[i](g.touchEvents.start,g.onTouchStart,!1),n[i](g.touchEvents.move,g.onTouchMove,o),n[i](g.touchEvents.end,g.onTouchEnd,!1)),!a.simulateTouch||g.device.ios||g.device.android||(n[i]("mousedown",g.onTouchStart,!1),document[i]("mousemove",g.onTouchMove,o),document[i]("mouseup",g.onTouchEnd,!1))),window[i]("resize",g.onResize),g.params.nextButton&&(v(g.params.nextButton)[t]("click",g.onClickNext),g.params.a11y&&g.a11y&&v(g.params.nextButton)[t]("keydown",g.a11y.onEnterKey)),g.params.prevButton&&(v(g.params.prevButton)[t]("click",g.onClickPrev),g.params.a11y&&g.a11y&&v(g.params.prevButton)[t]("keydown",g.a11y.onEnterKey)),g.params.pagination&&g.params.paginationClickable&&v(g.paginationContainer)[t]("click","."+g.params.bulletClass,g.onClickIndex),(g.params.preventClicks||g.params.preventClicksPropagation)&&n[i]("click",g.preventClicks,!0)},g.attachEvents=function(e){g.initEvents()},g.detachEvents=function(){g.initEvents(!0)},g.allowClick=!0,g.preventClicks=function(e){g.allowClick||(g.params.preventClicks&&e.preventDefault(),g.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},g.onClickNext=function(e){e.preventDefault(),g.slideNext()},g.onClickPrev=function(e){e.preventDefault(),g.slidePrev()},g.onClickIndex=function(e){e.preventDefault();var t=v(this).index()*g.params.slidesPerGroup;g.params.loop&&(t+=g.loopedSlides),g.slideTo(t)},g.updateClickedSlide=function(e){var t=o(e,"."+g.params.slideClass),i=!1;if(t)for(var a=0;a<g.slides.length;a++)g.slides[a]===t&&(i=!0);if(!t||!i)return g.clickedSlide=void 0,void(g.clickedIndex=void 0);if(g.clickedSlide=t,g.clickedIndex=v(t).index(),g.params.slideToClickedSlide&&void 0!==g.clickedIndex&&g.clickedIndex!==g.activeIndex){var n,s=g.clickedIndex;if(g.params.loop)if(n=v(g.clickedSlide).attr("data-swiper-slide-index"),s>g.slides.length-g.params.slidesPerView)g.fixLoop(),s=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+n+'"]').eq(0).index(),setTimeout(function(){g.slideTo(s)},0);else if(s<g.params.slidesPerView-1){g.fixLoop();var r=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+n+'"]');s=r.eq(r.length-1).index(),setTimeout(function(){g.slideTo(s)},0)}else g.slideTo(s);else g.slideTo(s)}};var w,T,b,$,I,C,x,A,_,S="input, select, textarea, button",k=Date.now(),D=[];g.animating=!1,g.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var L,E;if(g.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),L="touchstart"===e.type,L||!("which"in e)||3!==e.which){if(g.params.noSwiping&&o(e,"."+g.params.noSwipingClass))return void(g.allowClick=!0);if(!g.params.swipeHandler||o(e,g.params.swipeHandler)){if(w=!0,T=!1,$=void 0,E=void 0,g.touches.startX=g.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g.touches.startY=g.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,b=Date.now(),g.allowClick=!0,g.updateContainerSize(),g.swipeDirection=void 0,g.params.threshold>0&&(x=!1),"touchstart"!==e.type){var t=!0;v(e.target).is(S)&&(t=!1),document.activeElement&&v(document.activeElement).is(S)&&document.activeElement.blur(),t&&e.preventDefault()}g.emit("onTouchStart",g,e)}}},g.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(L&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(g.params.onlyExternal)return T=!0,void(g.allowClick=!1);if(L&&document.activeElement&&e.target===document.activeElement&&v(e.target).is(S))return T=!0,void(g.allowClick=!1);if(g.emit("onTouchMove",g,e),!(e.targetTouches&&e.targetTouches.length>1)){if(g.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,g.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof $){var t=180*Math.atan2(Math.abs(g.touches.currentY-g.touches.startY),Math.abs(g.touches.currentX-g.touches.startX))/Math.PI;$=n()?t>g.params.touchAngle:90-t>g.params.touchAngle}if($&&g.emit("onTouchMoveOpposite",g,e),"undefined"==typeof E&&g.browser.ieTouch&&(g.touches.currentX===g.touches.startX&&g.touches.currentY===g.touches.startY||(E=!0)),w){if($)return void(w=!1);if(E||!g.browser.ieTouch){g.allowClick=!1,g.emit("onSliderMove",g,e),e.preventDefault(),g.params.touchMoveStopPropagation&&!g.params.nested&&e.stopPropagation(),T||(a.loop&&g.fixLoop(),C=g.getWrapperTranslate(),g.setWrapperTransition(0),g.animating&&g.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),g.params.autoplay&&g.autoplaying&&(g.params.autoplayDisableOnInteraction?g.stopAutoplay():g.pauseAutoplay()),_=!1,g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grabbing",g.container[0].style.cursor="-moz-grabbin",g.container[0].style.cursor="grabbing")),T=!0;var i=g.touches.diff=n()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY;i*=g.params.touchRatio,g.rtl&&(i=-i),g.swipeDirection=i>0?"prev":"next",I=i+C;var s=!0;if(i>0&&I>g.minTranslate()?(s=!1,g.params.resistance&&(I=g.minTranslate()-1+Math.pow(-g.minTranslate()+C+i,g.params.resistanceRatio))):i<0&&I<g.maxTranslate()&&(s=!1,g.params.resistance&&(I=g.maxTranslate()+1-Math.pow(g.maxTranslate()-C-i,g.params.resistanceRatio))),s&&(e.preventedByNestedSwiper=!0),!g.params.allowSwipeToNext&&"next"===g.swipeDirection&&I<C&&(I=C),!g.params.allowSwipeToPrev&&"prev"===g.swipeDirection&&I>C&&(I=C),g.params.followFinger){if(g.params.threshold>0){if(!(Math.abs(i)>g.params.threshold||x))return void(I=C);if(!x)return x=!0,g.touches.startX=g.touches.currentX,g.touches.startY=g.touches.currentY,I=C,void(g.touches.diff=n()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY)}(g.params.freeMode||g.params.watchSlidesProgress)&&g.updateActiveIndex(),g.params.freeMode&&(0===D.length&&D.push({position:g.touches[n()?"startX":"startY"],time:b}),D.push({position:g.touches[n()?"currentX":"currentY"],time:(new window.Date).getTime()})),g.updateProgress(I),g.setWrapperTranslate(I)}}}}}},g.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),g.emit("onTouchEnd",g,e),w){g.params.grabCursor&&T&&w&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab");var t=Date.now(),i=t-b;if(g.allowClick&&(g.updateClickedSlide(e),g.emit("onTap",g,e),i<300&&t-k>300&&(A&&clearTimeout(A),A=setTimeout(function(){g&&(g.params.paginationHide&&g.paginationContainer.length>0&&!v(e.target).hasClass(g.params.bulletClass)&&g.paginationContainer.toggleClass(g.params.paginationHiddenClass),g.emit("onClick",g,e))},300)),i<300&&t-k<300&&(A&&clearTimeout(A),g.emit("onDoubleTap",g,e))),k=Date.now(),setTimeout(function(){g&&g.allowClick&&(g.allowClick=!0)},0),!w||!T||!g.swipeDirection||0===g.touches.diff||I===C)return void(w=T=!1);w=T=!1;var a;if(a=g.params.followFinger?g.rtl?g.translate:-g.translate:-I,g.params.freeMode){if(a<-g.minTranslate())return void g.slideTo(g.activeIndex);if(a>-g.maxTranslate())return void(g.slides.length<g.snapGrid.length?g.slideTo(g.snapGrid.length-1):g.slideTo(g.slides.length-1));
if(g.params.freeModeMomentum){if(D.length>1){var n=D.pop(),s=D.pop(),o=n.position-s.position,r=n.time-s.time;g.velocity=o/r,g.velocity=g.velocity/2,Math.abs(g.velocity)<.02&&(g.velocity=0),(r>150||(new window.Date).getTime()-n.time>300)&&(g.velocity=0)}else g.velocity=0;D.length=0;var l=1e3*g.params.freeModeMomentumRatio,c=g.velocity*l,d=g.translate+c;g.rtl&&(d=-d);var p,h=!1,u=20*Math.abs(g.velocity)*g.params.freeModeMomentumBounceRatio;if(d<g.maxTranslate())g.params.freeModeMomentumBounce?(d+g.maxTranslate()<-u&&(d=g.maxTranslate()-u),p=g.maxTranslate(),h=!0,_=!0):d=g.maxTranslate();else if(d>g.minTranslate())g.params.freeModeMomentumBounce?(d-g.minTranslate()>u&&(d=g.minTranslate()+u),p=g.minTranslate(),h=!0,_=!0):d=g.minTranslate();else if(g.params.freeModeSticky){var f,m=0;for(m=0;m<g.snapGrid.length;m+=1)if(g.snapGrid[m]>-d){f=m;break}d=Math.abs(g.snapGrid[f]-d)<Math.abs(g.snapGrid[f-1]-d)||"next"===g.swipeDirection?g.snapGrid[f]:g.snapGrid[f-1],g.rtl||(d=-d)}if(0!==g.velocity)l=g.rtl?Math.abs((-d-g.translate)/g.velocity):Math.abs((d-g.translate)/g.velocity);else if(g.params.freeModeSticky)return void g.slideReset();g.params.freeModeMomentumBounce&&h?(g.updateProgress(p),g.setWrapperTransition(l),g.setWrapperTranslate(d),g.onTransitionStart(),g.animating=!0,g.wrapper.transitionEnd(function(){g&&_&&(g.emit("onMomentumBounce",g),g.setWrapperTransition(g.params.speed),g.setWrapperTranslate(p),g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd()}))})):g.velocity?(g.updateProgress(d),g.setWrapperTransition(l),g.setWrapperTranslate(d),g.onTransitionStart(),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd()}))):g.updateProgress(d),g.updateActiveIndex()}return void((!g.params.freeModeMomentum||i>=g.params.longSwipesMs)&&(g.updateProgress(),g.updateActiveIndex()))}var y,$=0,x=g.slidesSizesGrid[0];for(y=0;y<g.slidesGrid.length;y+=g.params.slidesPerGroup)"undefined"!=typeof g.slidesGrid[y+g.params.slidesPerGroup]?a>=g.slidesGrid[y]&&a<g.slidesGrid[y+g.params.slidesPerGroup]&&($=y,x=g.slidesGrid[y+g.params.slidesPerGroup]-g.slidesGrid[y]):a>=g.slidesGrid[y]&&($=y,x=g.slidesGrid[g.slidesGrid.length-1]-g.slidesGrid[g.slidesGrid.length-2]);var S=(a-g.slidesGrid[$])/x;if(i>g.params.longSwipesMs){if(!g.params.longSwipes)return void g.slideTo(g.activeIndex);"next"===g.swipeDirection&&(S>=g.params.longSwipesRatio?g.slideTo($+g.params.slidesPerGroup):g.slideTo($)),"prev"===g.swipeDirection&&(S>1-g.params.longSwipesRatio?g.slideTo($+g.params.slidesPerGroup):g.slideTo($))}else{if(!g.params.shortSwipes)return void g.slideTo(g.activeIndex);"next"===g.swipeDirection&&g.slideTo($+g.params.slidesPerGroup),"prev"===g.swipeDirection&&g.slideTo($)}}},g._slideTo=function(e,t){return g.slideTo(e,t,!0,!0)},g.slideTo=function(e,t,i,a){"undefined"==typeof i&&(i=!0),"undefined"==typeof e&&(e=0),e<0&&(e=0),g.snapIndex=Math.floor(e/g.params.slidesPerGroup),g.snapIndex>=g.snapGrid.length&&(g.snapIndex=g.snapGrid.length-1);var s=-g.snapGrid[g.snapIndex];if(!g.params.allowSwipeToNext&&s<g.translate)return!1;if(!g.params.allowSwipeToPrev&&s>g.translate)return!1;g.params.autoplay&&g.autoplaying&&(a||!g.params.autoplayDisableOnInteraction?g.pauseAutoplay(t):g.stopAutoplay()),g.updateProgress(s);for(var o=0;o<g.slidesGrid.length;o++)-s>=g.slidesGrid[o]&&(e=o);if("undefined"==typeof t&&(t=g.params.speed),g.previousIndex=g.activeIndex||0,g.activeIndex=e,s===g.translate)return g.updateClasses(),!1;g.updateClasses(),g.onTransitionStart(i);n()?s:0,n()?0:s;return 0===t?(g.setWrapperTransition(0),g.setWrapperTranslate(s),g.onTransitionEnd(i)):(g.setWrapperTransition(t),g.setWrapperTranslate(s),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd(i)}))),!0},g.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),g.lazy&&g.lazy.onTransitionStart(),e&&(g.emit("onTransitionStart",g),g.activeIndex!==g.previousIndex&&g.emit("onSlideChangeStart",g))},g.onTransitionEnd=function(e){g.animating=!1,g.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),g.lazy&&g.lazy.onTransitionEnd(),e&&(g.emit("onTransitionEnd",g),g.activeIndex!==g.previousIndex&&g.emit("onSlideChangeEnd",g)),g.params.hashnav&&g.hashnav&&g.hashnav.setHash()},g.slideNext=function(e,t,i){if(g.params.loop){if(g.animating)return!1;g.fixLoop();g.container[0].clientLeft;return g.slideTo(g.activeIndex+g.params.slidesPerGroup,t,e,i)}return g.slideTo(g.activeIndex+g.params.slidesPerGroup,t,e,i)},g._slideNext=function(e){return g.slideNext(!0,e,!0)},g.slidePrev=function(e,t,i){if(g.params.loop){if(g.animating)return!1;g.fixLoop();g.container[0].clientLeft;return g.slideTo(g.activeIndex-1,t,e,i)}return g.slideTo(g.activeIndex-1,t,e,i)},g._slidePrev=function(e){return g.slidePrev(!0,e,!0)},g.slideReset=function(e,t,i){return g.slideTo(g.activeIndex,t,e)},g.setWrapperTransition=function(e,t){g.wrapper.transition(e),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTransition(e),g.params.parallax&&g.parallax&&g.parallax.setTransition(e),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTransition(e),g.params.control&&g.controller&&g.controller.setTransition(e,t),g.emit("onSetTransition",g,e)},g.setWrapperTranslate=function(e,t,i){var a=0,s=0,o=0;n()?a=g.rtl?-e:e:s=e,g.params.virtualTranslate||(g.support.transforms3d?g.wrapper.transform("translate3d("+a+"px, "+s+"px, "+o+"px)"):g.wrapper.transform("translate("+a+"px, "+s+"px)")),g.translate=n()?a:s,t&&g.updateActiveIndex(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTranslate(g.translate),g.params.parallax&&g.parallax&&g.parallax.setTranslate(g.translate),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTranslate(g.translate),g.params.control&&g.controller&&g.controller.setTranslate(g.translate,i),g.emit("onSetTranslate",g,g.translate)},g.getTranslate=function(e,t){var i,a,n,s;return"undefined"==typeof t&&(t="x"),g.params.virtualTranslate?g.rtl?-g.translate:g.translate:(n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?s=new window.WebKitCSSMatrix("none"===n.webkitTransform?"":n.webkitTransform):(s=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===t&&(a=window.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(a=window.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),g.rtl&&a&&(a=-a),a||0)},g.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=n()?"x":"y"),g.getTranslate(g.wrapper[0],e)},g.observers=[],g.initObservers=function(){if(g.params.observeParents)for(var e=g.container.parents(),t=0;t<e.length;t++)r(e[t]);r(g.container[0],{childList:!1}),r(g.wrapper[0],{attributes:!1})},g.disconnectObservers=function(){for(var e=0;e<g.observers.length;e++)g.observers[e].disconnect();g.observers=[]},g.createLoop=function(){g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove();var e=g.wrapper.children("."+g.params.slideClass);g.loopedSlides=parseInt(g.params.loopedSlides||g.params.slidesPerView,10),g.loopedSlides=g.loopedSlides+g.params.loopAdditionalSlides,g.loopedSlides>e.length&&(g.loopedSlides=e.length);var t,i=[],a=[];for(e.each(function(t,n){var s=v(this);t<g.loopedSlides&&a.push(n),t<e.length&&t>=e.length-g.loopedSlides&&i.push(n),s.attr("data-swiper-slide-index",t)}),t=0;t<a.length;t++)g.wrapper.append(v(a[t].cloneNode(!0)).addClass(g.params.slideDuplicateClass));for(t=i.length-1;t>=0;t--)g.wrapper.prepend(v(i[t].cloneNode(!0)).addClass(g.params.slideDuplicateClass))},g.destroyLoop=function(){g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove(),g.slides.removeAttr("data-swiper-slide-index")},g.fixLoop=function(){var e;g.activeIndex<g.loopedSlides?(e=g.slides.length-3*g.loopedSlides+g.activeIndex,e+=g.loopedSlides,g.slideTo(e,0,!1,!0)):("auto"===g.params.slidesPerView&&g.activeIndex>=2*g.loopedSlides||g.activeIndex>g.slides.length-2*g.params.slidesPerView)&&(e=-g.slides.length+g.activeIndex+g.loopedSlides,e+=g.loopedSlides,g.slideTo(e,0,!1,!0))},g.appendSlide=function(e){if(g.params.loop&&g.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&g.wrapper.append(e[t]);else g.wrapper.append(e);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0)},g.prependSlide=function(e){g.params.loop&&g.destroyLoop();var t=g.activeIndex+1;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]&&g.wrapper.prepend(e[i]);t=g.activeIndex+e.length}else g.wrapper.prepend(e);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0),g.slideTo(t,0,!1)},g.removeSlide=function(e){g.params.loop&&(g.destroyLoop(),g.slides=g.wrapper.children("."+g.params.slideClass));var t,i=g.activeIndex;if("object"==typeof e&&e.length){for(var a=0;a<e.length;a++)t=e[a],g.slides[t]&&g.slides.eq(t).remove(),t<i&&i--;i=Math.max(i,0)}else t=e,g.slides[t]&&g.slides.eq(t).remove(),t<i&&i--,i=Math.max(i,0);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0),g.params.loop?g.slideTo(i+g.loopedSlides,0,!1):g.slideTo(i,0,!1)},g.removeAllSlides=function(){for(var e=[],t=0;t<g.slides.length;t++)e.push(t);g.removeSlide(e)},g.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<g.slides.length;e++){var t=g.slides.eq(e),i=t[0].swiperSlideOffset,a=-i;g.params.virtualTranslate||(a-=g.translate);var s=0;n()||(s=a,a=0);var o=g.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);o>0&&o<1&&(g.effects.fade.fadeIndex=e),t.css({opacity:o}).transform("translate3d("+a+"px, "+s+"px, 0px)")}},setTransition:function(e){if(g.slides.transition(e),g.params.virtualTranslate&&0!==e){var t=null!==g.effects.fade.fadeIndex?g.effects.fade.fadeIndex:g.activeIndex;g.params.loop||g.params.fade.crossFade||0!==t||(t=g.slides.length-1),g.slides.eq(t).transitionEnd(function(){if(g)for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)g.wrapper.trigger(e[t])})}}},cube:{setTranslate:function(){var e,t=0;g.params.cube.shadow&&(n()?(e=g.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=v('<div class="swiper-cube-shadow"></div>'),g.wrapper.append(e)),e.css({height:g.width+"px"})):(e=g.container.find(".swiper-cube-shadow"),0===e.length&&(e=v('<div class="swiper-cube-shadow"></div>'),g.container.append(e))));for(var i=0;i<g.slides.length;i++){var a=g.slides.eq(i),s=90*i,o=Math.floor(s/360);g.rtl&&(s=-s,o=Math.floor(-s/360));var r=Math.max(Math.min(a[0].progress,1),-1),l=0,c=0,d=0;i%4===0?(l=4*-o*g.size,d=0):(i-1)%4===0?(l=0,d=4*-o*g.size):(i-2)%4===0?(l=g.size+4*o*g.size,d=g.size):(i-3)%4===0&&(l=-g.size,d=3*g.size+4*g.size*o),g.rtl&&(l=-l),n()||(c=l,l=0);var p="rotateX("+(n()?0:-s)+"deg) rotateY("+(n()?s:0)+"deg) translate3d("+l+"px, "+c+"px, "+d+"px)";if(r<=1&&r>-1&&(t=90*i+90*r,g.rtl&&(t=90*-i-90*r)),a.transform(p),g.params.cube.slideShadows){var h=n()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),u=n()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===h.length&&(h=v('<div class="swiper-slide-shadow-'+(n()?"left":"top")+'"></div>'),a.append(h)),0===u.length&&(u=v('<div class="swiper-slide-shadow-'+(n()?"right":"bottom")+'"></div>'),a.append(u));a[0].progress;h.length&&(h[0].style.opacity=-a[0].progress),u.length&&(u[0].style.opacity=a[0].progress)}}if(g.wrapper.css({"-webkit-transform-origin":"50% 50% -"+g.size/2+"px","-moz-transform-origin":"50% 50% -"+g.size/2+"px","-ms-transform-origin":"50% 50% -"+g.size/2+"px","transform-origin":"50% 50% -"+g.size/2+"px"}),g.params.cube.shadow)if(n())e.transform("translate3d(0px, "+(g.width/2+g.params.cube.shadowOffset)+"px, "+-g.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+g.params.cube.shadowScale+")");else{var f=Math.abs(t)-90*Math.floor(Math.abs(t)/90),m=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),y=g.params.cube.shadowScale,w=g.params.cube.shadowScale/m,T=g.params.cube.shadowOffset;e.transform("scale3d("+y+", 1, "+w+") translate3d(0px, "+(g.height/2+T)+"px, "+-g.height/2/w+"px) rotateX(-90deg)")}var b=g.isSafari||g.isUiWebView?-g.size/2:0;g.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(n()?0:t)+"deg) rotateY("+(n()?-t:0)+"deg)")},setTransition:function(e){g.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),g.params.cube.shadow&&!n()&&g.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=g.translate,t=n()?-e+g.width/2:-e+g.height/2,i=n()?g.params.coverflow.rotate:-g.params.coverflow.rotate,a=g.params.coverflow.depth,s=0,o=g.slides.length;s<o;s++){var r=g.slides.eq(s),l=g.slidesSizesGrid[s],c=r[0].swiperSlideOffset,d=(t-c-l/2)/l*g.params.coverflow.modifier,p=n()?i*d:0,h=n()?0:i*d,u=-a*Math.abs(d),f=n()?0:g.params.coverflow.stretch*d,m=n()?g.params.coverflow.stretch*d:0;Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(u)<.001&&(u=0),Math.abs(p)<.001&&(p=0),Math.abs(h)<.001&&(h=0);var y="translate3d("+m+"px,"+f+"px,"+u+"px)  rotateX("+h+"deg) rotateY("+p+"deg)";if(r.transform(y),r[0].style.zIndex=-Math.abs(Math.round(d))+1,g.params.coverflow.slideShadows){var w=n()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),T=n()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===w.length&&(w=v('<div class="swiper-slide-shadow-'+(n()?"left":"top")+'"></div>'),r.append(w)),0===T.length&&(T=v('<div class="swiper-slide-shadow-'+(n()?"right":"bottom")+'"></div>'),r.append(T)),w.length&&(w[0].style.opacity=d>0?d:0),T.length&&(T[0].style.opacity=-d>0?-d:0)}}if(g.browser.ie){var b=g.wrapper[0].style;b.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){g.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},g.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,t){if("undefined"!=typeof e&&("undefined"==typeof t&&(t=!0),0!==g.slides.length)){var i=g.slides.eq(e),a=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||a.add(i[0]),0!==a.length&&a.each(function(){var e=v(this);e.addClass("swiper-lazy-loading");var a=e.attr("data-background"),n=e.attr("data-src");g.loadImage(e[0],n||a,!1,function(){if(a?(e.css("background-image","url("+a+")"),e.removeAttr("data-background")):(e.attr("src",n),e.removeAttr("data-src")),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),g.params.loop&&t){var s=i.attr("data-swiper-slide-index");if(i.hasClass(g.params.slideDuplicateClass)){var o=g.wrapper.children('[data-swiper-slide-index="'+s+'"]:not(.'+g.params.slideDuplicateClass+")");g.lazy.loadImageInSlide(o.index(),!1)}else{var r=g.wrapper.children("."+g.params.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]');g.lazy.loadImageInSlide(r.index(),!1)}}g.emit("onLazyImageReady",g,i[0],e[0])}),g.emit("onLazyImageLoad",g,i[0],e[0])})}},load:function(){if(g.params.watchSlidesVisibility)g.wrapper.children("."+g.params.slideVisibleClass).each(function(){g.lazy.loadImageInSlide(v(this).index())});else if(g.params.slidesPerView>1)for(var e=g.activeIndex;e<g.activeIndex+g.params.slidesPerView;e++)g.slides[e]&&g.lazy.loadImageInSlide(e);else g.lazy.loadImageInSlide(g.activeIndex);if(g.params.lazyLoadingInPrevNext){var t=g.wrapper.children("."+g.params.slideNextClass);t.length>0&&g.lazy.loadImageInSlide(t.index());var i=g.wrapper.children("."+g.params.slidePrevClass);i.length>0&&g.lazy.loadImageInSlide(i.index())}},onTransitionStart:function(){g.params.lazyLoading&&(g.params.lazyLoadingOnTransitionStart||!g.params.lazyLoadingOnTransitionStart&&!g.lazy.initialImageLoaded)&&g.lazy.load()},onTransitionEnd:function(){g.params.lazyLoading&&!g.params.lazyLoadingOnTransitionStart&&g.lazy.load()}},g.scrollbar={set:function(){if(g.params.scrollbar){var e=g.scrollbar;e.track=v(g.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=v('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=n()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=g.size/g.virtualSize,e.moveDivider=e.divider*(e.trackSize/g.size),e.dragSize=e.trackSize*e.divider,n()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",g.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(g.params.scrollbar){var e,t=g.scrollbar,i=(g.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*g.progress,g.rtl&&n()?(e=-e,e>0?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e)):e<0?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),n()?(g.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(g.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=i+"px"),g.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){g.params.scrollbar&&g.scrollbar.drag.transition(e)}},g.controller={setTranslate:function(e,i){function a(t){e=t.rtl&&"horizontal"===t.params.direction?-g.translate:g.translate,n=(t.maxTranslate()-t.minTranslate())/(g.maxTranslate()-g.minTranslate()),s=(e-g.minTranslate())*n+t.minTranslate(),g.params.controlInverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setWrapperTranslate(s,!1,g),t.updateActiveIndex()}var n,s,o=g.params.control;if(g.isArray(o))for(var r=0;r<o.length;r++)o[r]!==i&&o[r]instanceof t&&a(o[r]);else o instanceof t&&i!==o&&a(o)},setTransition:function(e,i){function a(t){t.setWrapperTransition(e,g),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){s&&t.onTransitionEnd()}))}var n,s=g.params.control;if(g.isArray(s))for(n=0;n<s.length;n++)s[n]!==i&&s[n]instanceof t&&a(s[n]);else s instanceof t&&i!==s&&a(s)}},g.hashnav={init:function(){if(g.params.hashnav){g.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,i=0,a=g.slides.length;i<a;i++){var n=g.slides.eq(i),s=n.attr("data-hash");if(s===e&&!n.hasClass(g.params.slideDuplicateClass)){var o=n.index();g.slideTo(o,t,g.params.runCallbacksOnInit,!0)}}}},setHash:function(){g.hashnav.initialized&&g.params.hashnav&&(document.location.hash=g.slides.eq(g.activeIndex).attr("data-hash")||"")}},g.disableKeyboardControl=function(){v(document).off("keydown",l)},g.enableKeyboardControl=function(){v(document).on("keydown",l)},g._wheelEvent=!1,g._lastWheelScrollTime=(new window.Date).getTime(),g.params.mousewheelControl){if(void 0!==document.onmousewheel&&(g._wheelEvent="mousewheel"),!g._wheelEvent)try{new window.WheelEvent("wheel"),g._wheelEvent="wheel"}catch(M){}g._wheelEvent||(g._wheelEvent="DOMMouseScroll")}g.disableMousewheelControl=function(){return!!g._wheelEvent&&(g.container.off(g._wheelEvent,c),!0)},g.enableMousewheelControl=function(){return!!g._wheelEvent&&(g.container.on(g._wheelEvent,c),!0)},g.parallax={setTranslate:function(){g.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,g.progress)}),g.slides.each(function(){var e=v(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);d(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=g.params.speed),g.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=v(this),i=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),t.transition(i)})}},g._plugins=[];for(var P in g.plugins){var N=g.plugins[P](g,g.params[P]);N&&g._plugins.push(N)}return g.callPlugins=function(e){for(var t=0;t<g._plugins.length;t++)e in g._plugins[t]&&g._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.emitterEventListeners={},g.emit=function(e){g.params[e]&&g.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(g.emitterEventListeners[e])for(t=0;t<g.emitterEventListeners[e].length;t++)g.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);g.callPlugins&&g.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.on=function(e,t){return e=p(e),g.emitterEventListeners[e]||(g.emitterEventListeners[e]=[]),g.emitterEventListeners[e].push(t),g},g.off=function(e,t){var i;if(e=p(e),"undefined"==typeof t)return g.emitterEventListeners[e]=[],g;if(g.emitterEventListeners[e]&&0!==g.emitterEventListeners[e].length){for(i=0;i<g.emitterEventListeners[e].length;i++)g.emitterEventListeners[e][i]===t&&g.emitterEventListeners[e].splice(i,1);return g}},g.once=function(e,t){e=p(e);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),g.off(e,i)};return g.on(e,i),g},g.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(v(e.target).is(g.params.nextButton)?(g.onClickNext(e),g.isEnd?g.a11y.notify(g.params.lastSlideMsg):g.a11y.notify(g.params.nextSlideMsg)):v(e.target).is(g.params.prevButton)&&(g.onClickPrev(e),g.isBeginning?g.a11y.notify(g.params.firstSlideMsg):g.a11y.notify(g.params.prevSlideMsg)))},liveRegion:v('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=g.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){if(g.params.nextButton){var e=v(g.params.nextButton);g.a11y.makeFocusable(e),g.a11y.addRole(e,"button"),g.a11y.addLabel(e,g.params.nextSlideMsg)}if(g.params.prevButton){var t=v(g.params.prevButton);g.a11y.makeFocusable(t),g.a11y.addRole(t,"button"),g.a11y.addLabel(t,g.params.prevSlideMsg)}v(g.container).append(g.a11y.liveRegion)},destroy:function(){g.a11y.liveRegion&&g.a11y.liveRegion.length>0&&g.a11y.liveRegion.remove()}},g.init=function(){g.params.loop&&g.createLoop(),g.updateContainerSize(),g.updateSlidesSize(),g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&(g.params.loop||g.updateProgress(),g.effects[g.params.effect].setTranslate()),g.params.loop?g.slideTo(g.params.initialSlide+g.loopedSlides,0,g.params.runCallbacksOnInit):(g.slideTo(g.params.initialSlide,0,g.params.runCallbacksOnInit),0===g.params.initialSlide&&(g.parallax&&g.params.parallax&&g.parallax.setTranslate(),g.lazy&&g.params.lazyLoading&&(g.lazy.load(),g.lazy.initialImageLoaded=!0))),g.attachEvents(),g.params.observer&&g.support.observer&&g.initObservers(),g.params.preloadImages&&!g.params.lazyLoading&&g.preloadImages(),g.params.autoplay&&g.startAutoplay(),g.params.keyboardControl&&g.enableKeyboardControl&&g.enableKeyboardControl(),g.params.mousewheelControl&&g.enableMousewheelControl&&g.enableMousewheelControl(),g.params.hashnav&&g.hashnav&&g.hashnav.init(),g.params.a11y&&g.a11y&&g.a11y.init(),g.emit("onInit",g)},g.cleanupStyles=function(){g.container.removeClass(g.classNames.join(" ")).removeAttr("style"),g.wrapper.removeAttr("style"),g.slides&&g.slides.length&&g.slides.removeClass([g.params.slideVisibleClass,g.params.slideActiveClass,g.params.slideNextClass,g.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),g.paginationContainer&&g.paginationContainer.length&&g.paginationContainer.removeClass(g.params.paginationHiddenClass),g.bullets&&g.bullets.length&&g.bullets.removeClass(g.params.bulletActiveClass),g.params.prevButton&&v(g.params.prevButton).removeClass(g.params.buttonDisabledClass),g.params.nextButton&&v(g.params.nextButton).removeClass(g.params.buttonDisabledClass),g.params.scrollbar&&g.scrollbar&&(g.scrollbar.track&&g.scrollbar.track.length&&g.scrollbar.track.removeAttr("style"),g.scrollbar.drag&&g.scrollbar.drag.length&&g.scrollbar.drag.removeAttr("style"))},g.destroy=function(e,t){g.detachEvents(),g.stopAutoplay(),g.params.loop&&g.destroyLoop(),t&&g.cleanupStyles(),g.disconnectObservers(),g.params.keyboardControl&&g.disableKeyboardControl&&g.disableKeyboardControl(),g.params.mousewheelControl&&g.disableMousewheelControl&&g.disableMousewheelControl(),g.params.a11y&&g.a11y&&g.a11y.destroy(),g.emit("onDestroy"),e!==!1&&(g=null)},g.init(),g}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),i=e.match(/(iPad).*OS\s([\d_]+)/),a=(e.match(/(iPod)(.*OS\s([\d_]+))?/),!i&&e.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:i||a||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<t.length;i++)if(t[i]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var i=(function(){var e=function(e){var t=this,i=0;for(i=0;i<e.length;i++)t[i]=e[i];return t.length=e.length,this},t=function(t,i){var a=[],n=0;if(t&&!i&&t instanceof e)return t;if(t)if("string"==typeof t){var s,o,r=t.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){var l="div";for(0===r.indexOf("<li")&&(l="ul"),0===r.indexOf("<tr")&&(l="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(l="tr"),0===r.indexOf("<tbody")&&(l="table"),0===r.indexOf("<option")&&(l="select"),o=document.createElement(l),o.innerHTML=t,n=0;n<o.childNodes.length;n++)a.push(o.childNodes[n])}else for(s=i||"#"!==t[0]||t.match(/[ .<>:~]/)?(i||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],n=0;n<s.length;n++)s[n]&&a.push(s[n])}else if(t.nodeType||t===window||t===document)a.push(t);else if(t.length>0&&t[0].nodeType)for(n=0;n<t.length;n++)a.push(t[n]);return new e(a)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),i=0;i<t.length;i++)for(var a=0;a<this.length;a++)this[a].classList.add(t[i]);return this},removeClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i++)for(var a=0;a<this.length;a++)this[a].classList.remove(t[i]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i++)for(var a=0;a<this.length;a++)this[a].classList.toggle(t[i]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(e,t);else for(var a in e)this[i][a]=e[a],this[i].setAttribute(a,e[a]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if("undefined"!=typeof t){for(var i=0;i<this.length;i++){var a=this[i];a.dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t}return this}if(this[0]){var n=this[0].getAttribute("data-"+e);return n?n:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this},on:function(e,i,a,n){function s(e){var n=e.target;if(t(n).is(i))a.call(n,e);else for(var s=t(n).parents(),o=0;o<s.length;o++)t(s[o]).is(i)&&a.call(s[o],e)}var o,r,l=e.split(" ");for(o=0;o<this.length;o++)if("function"==typeof i||i===!1)for("function"==typeof i&&(a=arguments[1],n=arguments[2]||!1),r=0;r<l.length;r++)this[o].addEventListener(l[r],a,n);else for(r=0;r<l.length;r++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:a,liveListener:s}),this[o].addEventListener(l[r],s,n);return this},off:function(e,t,i,a){for(var n=e.split(" "),s=0;s<n.length;s++)for(var o=0;o<this.length;o++)if("function"==typeof t||t===!1)"function"==typeof t&&(i=arguments[1],a=arguments[2]||!1),this[o].removeEventListener(n[s],i,a);else if(this[o].dom7LiveListeners)for(var r=0;r<this[o].dom7LiveListeners.length;r++)this[o].dom7LiveListeners[r].listener===i&&this[o].removeEventListener(n[s],this[o].dom7LiveListeners[r].liveListener,a);return this},once:function(e,t,i,a){function n(o){i(o),s.off(e,t,n,a)}var s=this;"function"==typeof t&&(t=!1,i=arguments[1],a=arguments[2]),s.on(e,t,n,a)},trigger:function(e,t){for(var i=0;i<this.length;i++){var a;try{a=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(n){a=document.createEvent("Event"),a.initEvent(e,!0,!0),a.detail=t}this[i].dispatchEvent(a)}return this},transitionEnd:function(e){function t(s){if(s.target===this)for(e.call(this,s),i=0;i<a.length;i++)n.off(a[i],t)}var i,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(e)for(i=0;i<a.length;i++)n.on(a[i],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),i=document.body,a=e.clientTop||i.clientTop||0,n=e.clientLeft||i.clientLeft||0,s=window.pageYOffset||e.scrollTop,o=window.pageXOffset||e.scrollLeft;return{top:t.top+s-a,left:t.left+o-n}}return null},css:function(e,t){var i;if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i++)for(var a in e)this[i].style[a]=e[a];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i++)this[i].style[e]=t;
return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},is:function(i){if(!this[0])return!1;var a,n;if("string"==typeof i){var s=this[0];if(s===document)return i===document;if(s===window)return i===window;if(s.matches)return s.matches(i);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(i);if(s.mozMatchesSelector)return s.mozMatchesSelector(i);if(s.msMatchesSelector)return s.msMatchesSelector(i);for(a=t(i),n=0;n<a.length;n++)if(a[n]===this[0])return!0;return!1}if(i===document)return this[0]===document;if(i===window)return this[0]===window;if(i.nodeType||i instanceof e){for(a=i.nodeType?[i]:i,n=0;n<a.length;n++)if(a[n]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if("undefined"==typeof t)return this;var i,a=this.length;return t>a-1?new e([]):t<0?(i=a+t,new e(i<0?[]:[this[i]])):new e([this[t]])},append:function(t){var i,a;for(i=0;i<this.length;i++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)this[i].appendChild(n.firstChild)}else if(t instanceof e)for(a=0;a<t.length;a++)this[i].appendChild(t[a]);else this[i].appendChild(t);return this},prepend:function(t){var i,a;for(i=0;i<this.length;i++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t,a=n.childNodes.length-1;a>=0;a--)this[i].insertBefore(n.childNodes[a],this[i].childNodes[0])}else if(t instanceof e)for(a=0;a<t.length;a++)this[i].insertBefore(t[a],this[i].childNodes[0]);else this[i].insertBefore(t,this[i].childNodes[0]);return this},insertBefore:function(e){for(var i=t(e),a=0;a<this.length;a++)if(1===i.length)i[0].parentNode.insertBefore(this[a],i[0]);else if(i.length>1)for(var n=0;n<i.length;n++)i[n].parentNode.insertBefore(this[a].cloneNode(!0),i[n])},insertAfter:function(e){for(var i=t(e),a=0;a<this.length;a++)if(1===i.length)i[0].parentNode.insertBefore(this[a],i[0].nextSibling);else if(i.length>1)for(var n=0;n<i.length;n++)i[n].parentNode.insertBefore(this[a].cloneNode(!0),i[n].nextSibling)},next:function(i){return new e(this.length>0?i?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(i)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(i){var a=[],n=this[0];if(!n)return new e([]);for(;n.nextElementSibling;){var s=n.nextElementSibling;i?t(s).is(i)&&a.push(s):a.push(s),n=s}return new e(a)},prev:function(i){return new e(this.length>0?i?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(i)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(i){var a=[],n=this[0];if(!n)return new e([]);for(;n.previousElementSibling;){var s=n.previousElementSibling;i?t(s).is(i)&&a.push(s):a.push(s),n=s}return new e(a)},parent:function(e){for(var i=[],a=0;a<this.length;a++)e?t(this[a].parentNode).is(e)&&i.push(this[a].parentNode):i.push(this[a].parentNode);return t(t.unique(i))},parents:function(e){for(var i=[],a=0;a<this.length;a++)for(var n=this[a].parentNode;n;)e?t(n).is(e)&&i.push(n):i.push(n),n=n.parentNode;return t(t.unique(i))},find:function(t){for(var i=[],a=0;a<this.length;a++)for(var n=this[a].querySelectorAll(t),s=0;s<n.length;s++)i.push(n[s]);return new e(i)},children:function(i){for(var a=[],n=0;n<this.length;n++)for(var s=this[n].childNodes,o=0;o<s.length;o++)i?1===s[o].nodeType&&t(s[o]).is(i)&&a.push(s[o]):1===s[o].nodeType&&a.push(s[o]);return new e(t.unique(a))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,i,a=this;for(e=0;e<arguments.length;e++){var n=t(arguments[e]);for(i=0;i<n.length;i++)a[a.length]=n[i],a.length++}return a}},t.fn=e.prototype,t.unique=function(e){for(var t=[],i=0;i<e.length;i++)t.indexOf(e[i])===-1&&t.push(e[i]);return t},t}()),a=["jQuery","Zepto","Dom7"],n=0;n<a.length;n++)window[a[n]]&&e(window[a[n]]);var s;s="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function t(s){if(s.target===this)for(e.call(this,s),i=0;i<a.length;i++)n.off(a[i],t)}var i,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(e)for(i=0;i<a.length;i++)n.on(a[i],t);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this})),window.Swiper=t}(),e.exports=window.Swiper},function(e,t,i){var a,n;a=[i(1)],n=function(){navigator.userAgent.match(/ ew(\w+)\/([\d.-_]*)/i)&&navigator.userAgent.match(/(iphone)|(ipad)|(ipod)/i)&&$("body").css("margin-top","20px")}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a;a=function(){$(window).on("onrender",function(){$(".page").length>1&&("undefined"!=typeof _satellite&&_satellite.track("TJObject_Ready"),TJObject.et="show",TJObject.st=(new Date).getTime(),tjMVT.cspot=null,tjMVT.setData(TJObject))})}.call(t,i,t,e),!(void 0!==a&&(e.exports=a))},function(e,t,i){function a(){this.init()}var n=i(49),s=i(50);a.prototype={constructor:a,runstack:[],init:function(){if(navigator.userAgent.match(/micromessenger/i)){var e=this;window.wx=n,n.run=function(t,i){n.isLoad?n.ready(function(){n[t](i)}):e.runstack.push([t,i])},e.getSignature()}},getSignature:function(){var e="/hotelwxqb/weixin/signature?url="+encodeURIComponent(window.location.href.split("#")[0]),t=this;$.ajax({url:e,type:"GET",cache:!0,success:function(e){t.signatureCallback.call(t,e)}})},signatureCallback:function(e){var t=this;n.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["closeWindow","openLocation","getLocation","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQZone","cache"]}),n.isLoad=!0;for(var i=0;i<this.runstack.length;i++)n.run.apply(void 0,this.runstack[i]);this.runstack=[],n.ready(function(){n.hideAllNonBaseMenuItem(),t.listener()})},listener:function(){var e=window.slark&&window.slark.getActiveId()||"";n.hideAllNonBaseMenuItem(),"orderlist"!==e&&"h5_finishorder"!==e&&"orderdetail"!==e&&(n.showMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:timeline","menuItem:favorite"]}),n.onMenuShareTimeline({trigger:function(){var e=window.slark&&window.slark.getActiveId()||"",t=s[e]();this.title=t.title,this.link=t.link,this.imgUrl=t.imgUrl},success:function(){},fail:function(){},cancel:function(){},complete:function(){}}),n.onMenuShareAppMessage({trigger:function(){var e=window.slark&&window.slark.getActiveId()||"",t=s[e]();this.title=t.title,this.desc=t.desc,this.link=t.link,this.imgUrl=t.imgUrl},success:function(){},fail:function(){},cancel:function(){},complete:function(){}}),n.onMenuShareQZone({trigger:function(){var e=window.slark&&window.slark.getActiveId()||"",t=s[e]();this.title=t.title,this.desc=t.desc,this.link=t.link,this.imgUrl=t.imgUrl},success:function(){},fail:function(){},cancel:function(){},complete:function(){}}))}};var o=new a;History.Adapter.bind(window,"statechange",function(){window.wx&&o.getSignature()})},function(e,t,i){var a;!function(n,s){a=function(){return s(n)}.call(t,i,t,e),!(void 0!==a&&(e.exports=a))}(window,function(e,t){function i(t,i,a){e.WeixinJSBridge?WeixinJSBridge.invoke(t,n(i),function(e){o(t,e,a)}):c(t,a)}function a(t,i,a){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){a&&a.trigger&&a.trigger(e),o(t,e,i)}):a?c(t,a):c(t,i)}function n(e){return e=e||{},e.appId=S.appId,e.verifyAppId=S.appId,e.verifySignType="sha1",e.verifyTimestamp=S.timestamp+"",e.verifyNonceStr=S.nonceStr,e.verifySignature=S.signature,e}function s(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,"package":e["package"],paySign:e.paySign,signType:e.signType||"SHA1"}}function o(e,t,i){var a,n,s;switch("openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail,a=t.errMsg,a||(a=t.err_msg,delete t.err_msg,a=r(e,a),t.errMsg=a),i=i||{},i._complete&&(i._complete(t),delete i._complete),a=t.errMsg||"",S.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t)),n=a.indexOf(":"),s=a.substring(n+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function r(e,t){var i,a,n=e,s=m[n];return s&&(n=s),i="ok",t&&(a=t.indexOf(":"),i=t.substring(a+1),"confirm"==i&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),i=i.replace(/_/g," "),i=i.toLowerCase(),("access denied"==i||"no permission to execute"==i)&&(i="permission denied"),"config"==n&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")),t=n+":"+i}function l(e){var t,i,a,n;if(e){for(t=0,i=e.length;i>t;++t)a=e[t],n=f[a],n&&(e[t]=n);return e}}function c(e,t){if(!(!S.debug||t&&t.isInnerInvoke)){var i=m[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function d(){if(!(T||b||S.debug||"6.0.2">x||_.systemType<0)){var e=new Image;_.appId=S.appId,_.initTime=A.initEndTime-A.initStartTime,_.preVerifyTime=A.preVerifyEndTime-A.preVerifyStartTime,L.getNetworkType({isInnerInvoke:!0,success:function(t){_.networkType=t.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+_.version+"&o="+_.isPreVerifyOk+"&s="+_.systemType+"&c="+_.clientVersion+"&a="+_.appId+"&n="+_.networkType+"&i="+_.initTime+"&p="+_.preVerifyTime+"&u="+_.url;e.src=i}})}}function p(){return(new Date).getTime()}function h(t){$&&(e.WeixinJSBridge?t():g.addEventListener&&g.addEventListener("WeixinJSBridgeReady",t,!1))}function u(){WeixinJSBridge&&WeixinJSBridge.invoke("publicCache",{src:"http://res.wx.qq.com/open/libs/jweixin/1.1.0/jweixin.json"},function(){})}var f,m,g,v,y,w,T,b,$,I,C,x,A,_,S,k,D,L;if(!e.jWeixin)return f={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},m=function(){var e,t={};for(e in f)t[f[e]]=e;return t}(),g=e.document,v=g.title,y=navigator.userAgent.toLowerCase(),w=navigator.platform.toLowerCase(),T=!(!w.match("mac")&&!w.match("win")),b=-1!=y.indexOf("wxdebugger"),$=-1!=y.indexOf("micromessenger"),I=-1!=y.indexOf("android"),C=-1!=y.indexOf("iphone")||-1!=y.indexOf("ipad"),x=function(){var e=y.match(/micromessenger\/(\d+\.\d+\.\d+)/)||y.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),A={initStartTime:p(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},_={version:3,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:C?1:I?2:-1,clientVersion:x,url:encodeURIComponent(location.href)},S={},k={_completes:[]},D={state:0,data:{}},L={config:function(e){S=e,c("config",e);var t=S.check!==!1;h(function(){var e,a,n;if(t)i(f.config,{verifyJsApiList:l(S.jsApiList)},function(){k._complete=function(e){A.preVerifyEndTime=p(),D.state=1,D.data=e},k.success=function(){_.isPreVerifyOk=0},k.fail=function(e){k._fail?k._fail(e):D.state=-1};var e=k._completes;return e.push(function(){d()}),k.complete=function(){for(var t=0,i=e.length;i>t;++t)e[t]();k._completes=[]},k}()),A.preVerifyStartTime=p();else{for(D.state=1,e=k._completes,a=0,n=e.length;n>a;++a)e[a]();k._completes=[]}})},ready:function(e){0!=D.state?e():(k._completes.push(e),!$&&S.debug&&e())},error:function(e){"6.0.2">x||(-1==D.state?e(D.data):k._fail=e)},checkJsApi:function(e){var t=function(e){var t,i,a=e.checkResult;for(t in a)i=m[t],i&&(a[i]=a[t],delete a[t]);return e};i("checkJsApi",{jsApiList:l(e.jsApiList)},function(){return e._complete=function(e){if(I){var i=e.checkResult;i&&(e.checkResult=JSON.parse(i))}e=t(e)},e}())},cache:function(e){i("cache",{async:e.async!==!1,src:e.src||"",base:e.base||"",resourceList:e.resourceList||[],disable:e.disable||!1},e)},invoke:function(t,i,a){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,n(i),a)},on:function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)},getWXUrl:function(t){h(function(){var i={errMsg:"getWXUrl:ok"},a=e.getA8KeyUrl;a?(i.url=a,t(i)):wx.on("onGetA8KeyUrl",function(e){i.url=e.url,t(i)})})},onMenuShareTimeline:function(e){a(f.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:e.title||v,desc:e.title||v,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){a(f.onMenuShareAppMessage,{complete:function(){i("sendAppMessage",{title:e.title||v,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){a(f.onMenuShareQQ,{complete:function(){i("shareQQ",{title:e.title||v,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){a(f.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:e.title||v,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){a(f.onMenuShareQZone,{complete:function(){i("shareQZone",{title:e.title||v,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){i("startRecord",{},e)},stopRecord:function(e){i("stopRecord",{},e)},onVoiceRecordEnd:function(e){a("onVoiceRecordEnd",e)},playVoice:function(e){i("playVoice",{localId:e.localId},e)},pauseVoice:function(e){i("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){i("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){a("onVoicePlayEnd",e)},uploadVoice:function(e){i("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){i("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){i("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){i("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e._complete=function(e){if(I){var t=e.localIds;t&&(e.localIds=JSON.parse(t))}},e}())},previewImage:function(e){i(f.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){i("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){i("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getNetworkType:function(e){var t=function(e){var t,i,a,n=e.errMsg;if(e.errMsg="getNetworkType:ok",t=e.subtype,delete e.subtype,t)e.networkType=t;else switch(i=n.indexOf(":"),a=n.substring(i+1)){case"wifi":case"edge":case"wwan":e.networkType=a;break;default:e.errMsg="getNetworkType:fail"}return e};i("getNetworkType",{},function(){return e._complete=function(e){e=t(e)},e}())},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},i(f.getLocation,{type:e.type||"wgs84"},function(){return e._complete=function(e){delete e.type},e}())},hideOptionMenu:function(e){i("hideOptionMenu",{},e)},showOptionMenu:function(e){i("showOptionMenu",{},e)},closeWindow:function(e){e=e||{},i("closeWindow",{},e)},hideMenuItems:function(e){i("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){i("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){i("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){i("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){e=e||{},i("scanQRCode",{needResult:e.needResult||0,scanType:e.scanType||["qrCode","barCode"]},function(){return e._complete=function(e){var t,i;C&&(t=e.resultStr,t&&(i=JSON.parse(t),e.resultStr=i&&i.scan_code&&i.scan_code.scan_result))},e}())},openProductSpecificView:function(e){i(f.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){var t,a,n,s,o=e.cardList,r=[];for(t=0,a=o.length;a>t;++t)n=o[t],s={card_id:n.cardId,card_ext:n.cardExt},r.push(s);i(f.addCard,{card_list:r},function(){return e._complete=function(e){var t,i,a,n=e.card_list;if(n){for(n=JSON.parse(n),t=0,i=n.length;i>t;++t)a=n[t],a.cardId=a.card_id,a.cardExt=a.card_ext,a.isSuccess=!!a.is_succ,delete a.card_id,delete a.card_ext,delete a.is_succ;e.cardList=n,delete e.card_list}},e}())},chooseCard:function(e){i("chooseCard",{app_id:S.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},function(){return e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e}())},openCard:function(e){var t,a,n,s,o=e.cardList,r=[];for(t=0,a=o.length;a>t;++t)n=o[t],s={card_id:n.cardId,code:n.code},r.push(s);i(f.openCard,{card_list:r},e)},chooseWXPay:function(e){i(f.chooseWXPay,s(e),e)}},h(function(){A.initEndTime=p(),L.isCached=!!e.isWeixinCached,u()}),t&&(e.wx=e.jWeixin=L),L})},function(e,t){function i(){var e=JSON.parse(localStorage.getItem("_historyDatas")||"{}"),t=a("indate")?new Date(a("indate")).format("MM月dd日"):"",i=a("indate")?new Date(a("indate")).format("MM月dd日"):"",n=a("placename");return{cityName:e.cityCn,indate:t,outdate:i,placename:n}}function a(e){var t=window.location.search.substr(1)||window.location.href.split("#")[1],i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=t.match(i);return a?decodeURI(a[2]):""}var n=window.location.protocol+"//"+window.location.host+"/authorize/login/?ref=wxqbh5&backUrl=",s=window.location.protocol+"//m.elongstatic.com/static/webapp/bridge/logo2.jpg",o="艺龙旅行网";e.exports={h5_wxqbindex:function(){return{title:o,desc:"30万家优质住宿保证，欢迎小伙伴们监督。",link:n+encodeURIComponent(location.href),imgUrl:s}},h5_list:function(){var e=i(),t=decodeURIComponent(e.placename||""),a=decodeURIComponent(e.indate||""),r=decodeURIComponent(e.cityName||"");return{title:e.cityName+"的酒店-"+o,desc:"好友为您挑选了"+a+r+(t?"["+t+"]":"")+"的酒店。",link:n+encodeURIComponent(location.href),imgUrl:s}},h5_detail:function(){var e=window.$DATA_DETAIL||{},t=e.hotelDetailInfo.hotelName||o,i=e.starLevel,a="",r=e.nearestAreaPosition||"",l=e.bannerPicUrls&&e.bannerPicUrls.length>0?window.location.protocol+e.bannerPicUrls[0]:s,c=e.roomInfoDisplay||[],d=c.length?c[0].minAveragePriceSubTotal:"";if(i>=3&&i<=5){for(var p=Math.round(i),h=0;h<p;h++)a+="★";i>p&&(a+="☆")}else switch(i){case 2:a="经济型";break;case-3:a="舒适型";break;case-4:a="高档型";break;case-5:a="豪华型";break;case 12:a="舒适公寓";break;case-12:a="舒适公寓";break;case 13:a="舒适公寓";break;case-13:a="舒适公寓";break;case 14:a="高档公寓";break;case-14:a="高档公寓";break;case 15:a="高档公寓";break;case-15:a="豪华公寓"}return{title:t,desc:(a?a+"\n":"")+(d?"￥"+d+"\n":"")+r,link:n+encodeURIComponent(location.href),imgUrl:l}},h5_createorder:function(){var e=window.$DATA_CREATEORDER||{},t=e.hotelName||o,i=e.imgUrl?window.location.protocol+e.imgUrl:s;return{title:"订单填写-艺龙旅行网",desc:"好友已帮您选择好酒店和房间，填写信息就可以付款啦。["+t+"]",imgUrl:i,link:n+encodeURIComponent(location.href)}}}},function(e,t,i){var a,n;a=[i(30)],n=function(e){"3000"!=location.port?e.router.add({h5_list:{lindex:1,tpl:"h5_list",title:"酒店列表",url:window.pageInfo.subPath+"nlist/",url_pattern:/\/hotel(fx|wxqb)[a-z0-9]*\/[0-9]{4}|[a-z]{3,50}\/nlist/},list1:{lindex:1,tpl:"h5_list",title:"酒店列表",url:window.pageInfo.subPath,url_pattern:/\/hotel(fx|wxqb)[a-z0-9]*\/[a-z_]+|\\d{7,}/},h5_detail:{lindex:2,tpl:"h5_detail",title:"酒店详情",url:window.pageInfo.subPath+"order/detail",url_pattern:/\/hotel(fx|wxqb)[a-z0-9]*\/(\d{1,3}|\d{5,})\//},map:{lindex:3,tpl:"map",title:"酒店地图",url:window.pageInfo.subPath,url_pattern:/\/hotel(fx|wxqb)[a-z0-9]*\/\d+\/map/},comments:{lindex:4,tpl:"comments",title:"酒店点评",url:window.pageInfo.subPath,url_pattern:/\/hotel(fx|wxqb)[a-z0-9]*\/\d+\/review/},photo:{lindex:5,tpl:"photo",title:"酒店图片",url:window.pageInfo.subPath,url_pattern:/\/hotel(fx|wxqb)[a-z0-9]*\/\d+\/photo/},createComment:{lindex:2,tpl:"createComment",title:"酒店点评",url:window.pageInfo.subPath,url_pattern:/hotel(fx|wxqb)\/\d+\/createcomments/}}):e.router.add({search:{lindex:1,tpl:"search",url:"search.html"},h5_list:{lindex:2,tpl:"h5_list",title:"酒店列表",url:"list.html"},h5_detail:{lindex:3,tpl:"h5_detail",title:"酒店详情",url:"detail.html"},map:{lindex:4,tpl:"map",url:"map.html"},amap:{lindex:5,tpl:"amap",url:"amap.html"},comments:{lindex:6,tpl:"comments",url:"comments.html"},photo:{lindex:7,tpl:"photo",title:"酒店图片",url:"photo.html"}})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,a){var n=(a(22),a(30)),s=a(34),o=a(53),r=a(35),l=a(36),c=a(54),d=a(37),p=a(42),h=a(39),u=a(33),f=a(40),m=a(55),g=a(56),v=a(57),y=a(58),w=function(){var e=navigator.userAgent.toLowerCase(),t=!1;if(e.indexOf("like mac os x")>0){var i=/os [\d._]*/gi;t=e.match(i),t=(t+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}return parseFloat(t)}();a(59),a(43),n.onrender("h5_list",function(e){function t(){}function a(){var t=window.innerHeight,i=$(this).scrollTop(),a=window.scrollY;i>2*t||a>2*t?$(".list-top",e).show():$(".list-top",e).hide(),navigator.userAgent.indexOf("UCBrowser")>-1&&html.hasClass("ios")&&window.scrollTo(0,1)}function T(){if(window.DATETIME&&window.DATETIME.indate&&(window.DATETIME.indate!=DateComponent.inDate.attr("data-value")||window.DATETIME.outdate!=DateComponent.outDate.attr("data-value"))){var e=new Date(window.DATETIME.indate),t=new Date(window.DATETIME.outdate);DateComponent.inDate.attr("data-value",window.DATETIME.indate),DateComponent.inDate.html(e.format("MM-dd")),DateComponent.outDate.attr("data-value",window.DATETIME.outdate),DateComponent.outDate.html(t.format("MM-dd")),DateComponent.total.html(t.diff(e,3)+"晚<i></i>");var i=S&&x?G.uptoTimeOps(window.DATETIME.indate,window.DATETIME.outdate):W.uptoTimeOps(window.DATETIME.indate,window.DATETIME.outdate);if(i["645790419_1013"]){var a=i["645790419_1013"].sn.join(",");q.TypeConversion({indate:window.DATETIME.indate,outdate:window.DATETIME.outdate,saletype:a})}else q.TypeConversion({indate:window.DATETIME.indate,outdate:window.DATETIME.outdate})}}y.init();var b=new p,I=$("html").hasClass("android"),C=window.pageInfo&&window.pageInfo.subPath?window.pageInfo.subPath:"/hotel/",x=!1,A=location.href,_=!1,S=$DATA_LIST.mvtResultModelMap&&$DATA_LIST.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_LIST.mvtResultModelMap.h5fx_filter_feature.mvtResult||!1,k="0"===c("100").val;k&&n.getActiveLayer().children(".page-list").addClass("page_lst_mvt16819");var D=function(e,t){var i=!1;for(var a in t)if(a==e){i=!0;break}return i},L=JSON.parse($DATA_LIST.customization).list,E=!!D("hiddenQuickFilter",L)&&L.hiddenQuickFilter;_=slark.isPad,x=E&&!_;var M={activeCompoment:["0","0"],isHaveActiveCompoment:!1,maskElem:null,ELEMENTS:{quickSearchBox:$(".quick-search-box",e)},maskState:function(t){t?$(".weixin-custom-mask",e).length?$(".weixin-custom-mask",e).show():$(e).append('<div class="weixin-custom-mask"></div>'):$(".weixin-custom-mask",e).hide()},pluginCreate:function(t){$(e).append(t)},pluginShow:function(t,i){$("."+t,e).length?($("."+t,e).css("display","block"),setTimeout(function(){$("."+t,e).removeClass("weixin-hide"),$(e).off("webkitTransitionEnd","."+t)},0)):$(e).append(i),M.maskState(!0),$("html").css("overflow","hidden"),$("body, .page-list").addClass("weixin-overflowhidden"),M.isHaveActiveCompoment=!0},pluginHide:function(t){$("."+t,e).addClass("weixin-hide"),$(e).off("webkitTransitionEnd","."+t).on("webkitTransitionEnd","."+t,function(){[].forEach.call($("."+t),function(i){"none"!=$(i).css("display")&&$("."+t,e).hide()}),$(e).off("webkitTransitionEnd","."+t)}),M.maskState(),$("html").css("overflow","auto"),$("body, .page-list").removeClass("weixin-overflowhidden"),M.isHaveActiveCompoment=!1},cleanCompoment:function(e){if(filterActive){if(M.activeCompoment[0]==M.activeCompoment[1])return;M.pluginHide("list-weixin-component")}},customMaskEvent:function(){$(e).off("click",".weixin-custom-mask").on("click",".weixin-custom-mask",function(e){M.pluginHide("list-weixin-component"),M.arrowToggle($("."+M.activeCompoment[1])),H.show(),M.activeCompoment=[0,0]})},_doCleanCompoment:function(){M.activeCompoment[0]!=M.activeCompoment[1]&&($(".list-weixin-component",e).hide().addClass("weixin-hide"),$("html").css("overflow","auto"),$("body, .page-list").removeClass("weixin-overflowhidden"),M.maskState())},pluginToggle:function(e,t){M.isHaveActiveCompoment?M.activeCompoment[0]==M.activeCompoment[1]?(M.pluginHide(e),M.isHaveActiveCompoment=!1):(M.pluginShow(e),M.isHaveActiveCompoment=!0,M.arrowToggle($("."+M.activeCompoment[0]))):(M.pluginShow(e,t),M.isHaveActiveCompoment=!0)},arrowToggle:function(e,t,i){function a(e,t,i){for(var a=e.className||e.getAttribute("class"),n=a.split(" "),t=t.split(" "),s=[],o=0,r=n.length;o<r;o++)$.inArray(n[o],t)>-1||n[o]!=i&&s.push(n[o]);i?s.push(i):"";var l=s.join(" ");(e.className=l)||e.setAttribute&&e.setAttribute("class",l)}var n=e[0].className;void 0!=t?e[0].className=n.split(" ")[0]+" "+t:n.match(/\son/)?a(e[0],"on tjclick","unon"):n.match(/\sarrowon/)?a(e[0],"tjclick arrowon",""):n.match(/\sunon/)?a(e[0],"unon","on tjclick"):a(e[0],"","tjclick arrowon")}};if(x&&M.customMaskEvent(),I){var P=n.get("h5_list");P.on("onshow",function(){var e=P.scrollTop;void 0!=typeof e&&(document.body.scrollTop=e)})}$DATA_LIST.city=JSON.parse($DATA_LIST.city),$DATA_LIST.hotelWeiXinPro=JSON.parse($DATA_LIST.hotelWeiXinPro),$DATA_LIST.customization&&($DATA_LIST.customization=JSON.parse($DATA_LIST.customization)),$DATA_LIST.customization&&$DATA_LIST.customization.list&&$DATA_LIST.customization.list.replacelocalstorage&&s.replaceStorage($DATA_LIST.customization.list.replacelocalstorage);var N=function(e,t){if($DATA_LIST.customization&&$DATA_LIST.customization.list&&$DATA_LIST.customization.list.silentLogin){var i=$DATA_LIST.customization.list.silentLogin;if(!i.loginStatus){if(!e)return window.location.href=i.refreshUrl,!1;l.newAlert({msg:"登录系统出了点小问题，正在处理中，请您尝试重新登录，多请谅解~",btnText:"重新登录",callback:function(){return window.location.href=i.refreshUrl,!1}})}}if(t&&new RegExp(/^http(s)?\:\/\/\w+\.elong\.com/g).test(t))return window.location.href=t,!1};$(".icon-collectlist",e).off("click").on("click",function(e){e.preventDefault(),N(!1,$(this).attr("href"))}),o.setFoundUrl(window.pageInfo.pt);var O={Init:function(){$.ajax({timeout:15e3,url:C+"api/getlistfilter",data:A.indexOf("isnear")>-1?{cityid:$DATA_LIST.city.cityId,isnear:1}:{cityid:$DATA_LIST.city.cityId},type:"GET",success:function(t){$DATA_LIST.areaList=t.areaList,$DATA_LIST.filterList=t.filterList,$DATA_LIST.hotCityList=t.hotCityList,$DATA_LIST.searchList=t.searchList,$DATA_LIST.sortList=t.sortList,$DATA_LIST.starList=t.starList,$DATA_LIST.areaList=decodeURIComponent($DATA_LIST.areaList),$DATA_LIST.filterList=decodeURIComponent($DATA_LIST.filterList),$DATA_LIST.searchList=decodeURIComponent($DATA_LIST.searchList);for(i in $DATA_LIST)"string"==typeof $DATA_LIST[i]&&($DATA_LIST[i]=$DATA_LIST[i].replace(/\\/g,"/"));if($DATA_LIST.areaList=JSON.parse($DATA_LIST.areaList),$DATA_LIST.filterList=JSON.parse($DATA_LIST.filterList),$DATA_LIST.hotCityList=JSON.parse($DATA_LIST.hotCityList),$DATA_LIST.searchList=JSON.parse($DATA_LIST.searchList),$DATA_LIST.sortList=JSON.parse($DATA_LIST.sortList),$DATA_LIST.starList=JSON.parse($DATA_LIST.starList),x&&S)for(var i=0;i<$DATA_LIST.filterList.length;i++)$DATA_LIST.filterList[i]?"n1644922407691050"!==$DATA_LIST.filterList[i].sn&&"n1116422458953740175"!==$DATA_LIST.filterList[i].sn&&"n578028694776220107"!==$DATA_LIST.filterList[i].sn||delete $DATA_LIST.filterList[i]:delete $DATA_LIST.filterList[i];b.config({displayNum:3,searchList:$DATA_LIST.searchList?$DATA_LIST.searchList:[]});var a=new h;a.config({hotCityData:$DATA_LIST.hotCityList,initId:$DATA_LIST.city.cityId,initAreaId:n.getHash("areaid"),callback:function(t){var i=$("header.hotel-list-header .title .city"),a=t.cityName;if(i.attr("city-id",t.cityId),t.cityId==$DATA_LIST.city.cityId){i.text(a);var s=n.clone(b.returnParam);s.keywords=t.keyword?t.keyword:"",s.areaid=t.areaId,s.areatype=t.areaType,q.TypeConversion(s)}else{t.keyword&&(t.keyword=encodeURIComponent(t.keyword));var o="";o+=t.keyword?"#keywords="+t.keyword:"",""!=t.areaId&&""!=t.areaType&&(o+=o.length>0?"&areaid="+t.areaId+"&areatype="+t.areaType:"#areaid="+t.areaId+"&areatype="+t.areaType),o+=""==o?"#":"&",o+="indate="+$(".indate",e).attr("data-value")+"&outdate="+$(".outdate",e).attr("data-value"),setTimeout(function(){location.href=C+t.cityId+"/nlist/"+o},300)}}}),$("header.hotel-list-header .title .city-area",e).on("click",function(){a.show()}),R.init(),q.Init(),KeywodManager.init(),x?(SortCompomentWX.init(),priceStar.init(),S?G.init():W.init(),V.init()):(SortCompoment.init(),d.add("priceStar",priceStar),d.add("filterBox",W),d.add("locateArea",V)),DateComponent.init(),d.add("advanceCity",a),d.add("searchBox",b),Y.Init(),X.init(),r.promotionDownload.init({hasPproDownload:$DATA_LIST.hasPproDownload,proDownloadUrl:$DATA_LIST.proDownloadUrl,hotelWeiXinPro:$DATA_LIST.hotelWeiXinPro}),r.wxPromotion.init({hotelWeiXinPro:$DATA_LIST.hotelWeiXinPro}),r.urlTimestamp.init({back:".hotel-list-header .icon-back",tool:".tool .ver a"})},error:function(e,t,i){l.alert("数据获取失败，请刷新后重试")}})}};O.Init();var R={init:function(){var e={};"1"===$DATA_LIST.h5useapp&&(e.type=$DATA_LIST.pageid,e.cityname=$DATA_LIST.city.cityName,e.indate=$DATA_LIST.indate,e.outdate=$DATA_LIST.outdate,e.channel=$DATA_LIST.channel,m.launchApp(e,window,document))}},j=function(){if(main=n.getActiveLayer(),content=main.children(".page-list"),"h5_list"!=n.getActiveId())return!1;var t=($(this),$(this).height()),i=document.body.clientHeight,a=content.get(0).scrollHeight,s=$(this).scrollTop();androidTop=window.scrollY,s+t>a-10&&1==q.AjaxState&&"没有更多酒店了"!=$(".moretext",e).html()?(q.UrlType(),q.TemplateNub=1,q.pageindex=q.pageindex+1,q.Ajax(q.UrlNow)):androidTop+i>a-10&&1==q.AjaxState&&"没有更多酒店了"!=$(".moretext",e).html()&&(q.UrlType(),q.TemplateNub=1,q.pageindex=q.pageindex+1,q.Ajax(q.UrlNow))},z={lock:!1,qs:null,data:[{id:0,text:"不限",checked:!0}],selIds:[],init:function(){z.qs=$(".quick-search-box").quicksearch({speed:1,data:z.data,itemClick:function(e){if(!z.lock){var t,i=$(e.target).attr("data-id");switch(i){case"0":return z.qs.quicksearch({key:"clearAllSelected"}),z.selIds=[],z.searchData(z.selIds),!0;case"100005":case"100001":case"100003":case"100006":return t=z.selIds.indexOf(parseInt(i)),t>-1?z.selIds.splice(t,1):z.selIds.push(parseInt(i)),z.searchData(z.selIds),!0}}}})},show:function(){$(".page-list").css("transform","translate3d(0, 0, 0)"),$(".page-list").css("-webkit-transform","translate3d(0, 0, 0)"),$(".quick-search-box").show()},hide:function(){$(".page-list").css("transform","translate3d(0, -39px, 0)"),$(".page-list").css("-webkit-transform","translate3d(0, -39px, 0)"),$(".quick-search-box").hide()},disable:function(){z.hide(),q.UrlNow.fastfilter=""},searchData:function(e){q.TypeConversion({fastfilter:e.join(",")}),z.lock=!0},updateData:function(e){var t,i=!1;if(e&&e.length>0){for(t=0;t<e.length;t++)if(e[t].checked){i=!0;break}i?e.unshift({id:0,text:"不限",checked:!1}):e.unshift({id:0,text:"不限",checked:!0}),z.data=e,z.qs.quicksearch({key:"updateData",data:e}),z.show()}else z.hide();z.lock=!1}};E||z.init();
var F={TEMPLATE:'<div class="filter-sp newfilter-sp list-weixin-component filter-fastchoose kschoose" style="display: none;"><div class="sp-content"></div><div class="bot-btn bar"><ul><li class="tjclick" id="qs-reset">重置</li><li class="on tjclick" id="qs-submit">确定</li></ul></div></div>',TITLE_TEMPLATE:'<div class="kslist">${kslist}</div>',option:{showLoad:!0,showTransition:!0,showType:"transition",transitionClass:"filter-sp-active"},data:{},init:function(){this.title=this.TITLE_TEMPLATE,this.page=this.TEMPLATE,M.pluginCreate(this.page)},_render:function(e){var t=this,i="",a=!1,n=[];if(this.filterSecTitleStr="",this.quickSearchItemStr="",this.filterRoomItemStr="",this.filterSaleItemStr="",this.filterRoomContentStr="",this.filterSaleContentStr="",this.filterTitleStr='<div class="commons room-title tjclick ${roomTitle}" data-tj={"cspot":"roomtypeFilter"}>入住偏好</div><div class="commons sale-title tjclick ${saleTitle}" data-tj={"cspot":"specialOffers"}>只看优惠</div>',e.length){1===e.length?"入住偏好"===e[0].keyWord_cn?(i=e[0].subFastFilterIns.length?this.filterTitleStr.replace("${roomTitle}",""):this.filterTitleStr.replace("${roomTitle}","nocontent"),i=i.replace("${saleTitle}","nocontent")):(i=e[0].subFastFilterIns.length?this.filterTitleStr.replace("${saleTitle}",""):this.filterTitleStr.replace("${saleTitle}","nocontent"),i=i.replace("${roomTitle}","nocontent")):(i=e[0].subFastFilterIns.length?this.filterTitleStr.replace("${roomTitle}",""):this.filterTitleStr.replace("${roomTitle}","nocontent"),i=e[1].subFastFilterIns.length?i.replace("${saleTitle}",""):i.replace("${saleTitle}","nocontent"));var s=this.title.replace("${kslist}",i);$(".quick-search.weixin_ks").html(s),$.each(e||[],function(e,i){$.each(i.subFastFilterIns||[],function(e,i){t.filterSecTitleStr=i.keyWord_cn,i.subFastFilterIns?($.each(i.subFastFilterIns,function(e,i){if(t.filterRoomItemStr+='<li class="'+(i.checked?"on":"")+'" data-id="'+i.id+'" data-tid="'+i.typeId+'" data-uid="'+i.uniqueID+'" data-keyword="'+i.keyWord_cn+'">'+i.keyWord_cn+"</li>",30===i.uniqueID||101===i.uniqueID||102===i.uniqueID)switch(i.uniqueID){case 30:t.quickSearchItemStr+='<li class="quick-search-item tjclick '+(i.checked?"on":"")+'" data-id="'+i.id+'" data-tid="'+i.typeId+'" data-uid="'+i.uniqueID+'" data-tj={"cspot":"paymentInHotel"} data-keyword="'+i.keyWord_cn+'">'+i.keyWord_cn+"</li>";break;case 101:t.quickSearchItemStr+='<li class="quick-search-item tjclick '+(i.checked?"on":"")+'" data-id="'+i.id+'" data-tid="'+i.typeId+'" data-uid="'+i.uniqueID+'" data-tj={"cspot":"freeCancellation"} data-keyword="'+i.keyWord_cn+'">'+i.keyWord_cn+"</li>";break;case 102:t.quickSearchItemStr+='<li class="quick-search-item tjclick '+(i.checked?"on":"")+'" data-id="'+i.id+'" data-tid="'+i.typeId+'" data-uid="'+i.uniqueID+'" data-tj={"cspot":"instantConfirm"} data-keyword="'+i.keyWord_cn+'">'+i.keyWord_cn+"</li>"}i.checked&&n.push(i.uniqueID)}),t.filterRoomContentStr+='<div class="price"><div class="sp-tit room-tit">'+t.filterSecTitleStr+'</div><ul class="price-list room-list">'+t.filterRoomItemStr+"</ul></div>",t.filterRoomItemStr=""):(t.filterSaleItemStr+='<li class="'+(i.checked?"on":"")+'" data-keyword="'+i.keyWord_cn+'"><span class="biao">'+i.keyWord_cn+"</span><span>"+i.desc+'</span><span class="chobtn"><i class="'+(i.checked?"on":"")+'"></i></span></li>',i.checked&&(a=!0))})}),this.filterSaleContentStr+='<div class="price"><ul class="price-list room-list">'+this.filterSaleItemStr+"</ul></div>",this.filterSaleItemStr="",n.length>0?($(".commons.room-title").addClass("geton"),localStorage.setItem("selectUniqueIDArr",n.join(","))):($(".commons.room-title").removeClass("geton"),localStorage.removeItem("selectUniqueIDArr")),a?$(".commons.sale-title").addClass("geton"):$(".commons.sale-title").removeClass("geton"),this._bindEvent()}},_bindEvent:function(){var e=this,t=$(".kslist .commons"),i=$(".page");t.off("click").on("click",function(i){var a=t.index($(this)),n=$(".newfilter-sp.kschoose");$(this).hasClass("nocontent")||(0===a?(n.children(".sp-content").html(e.filterRoomContentStr),n.removeClass("sale-filter"),n.addClass("room-filter"),n.removeClass("onlytips"),n.children("#qs-submit").removeAttr("data-tj").attr("data-tj",'{"cspot":"submitRoomtypeFilter"}'),n.children("#qs-reset").removeAttr("data-tj").attr("data-tj",'{"cspot":"emptyRoomtypeFilter"}')):(n.children(".sp-content").html(e.filterSaleContentStr),n.removeClass("room-filter"),n.addClass("sale-filter"),n.addClass("onlytips"),n.children("#qs-submit").removeAttr("data-tj").attr("data-tj",'{"cspot":"submitSpecialOffers"}'),n.children("#qs-reset").removeAttr("data-tj").attr("data-tj",'{"cspot":"emptySpecialOffers"}')),M.activeCompoment.shift(),M.activeCompoment.push($(this).attr("class").split(" ")[1]),M._doCleanCompoment(),M.pluginToggle(0===a?"room-filter":"sale-filter",this.page),$(this).siblings().removeClass("on"),$(this).toggleClass("on"),$(this).hasClass("on")?$(this).addClass("tjclick"):$(this).removeClass("tjclick"))}),i.off("click",".newfilter-sp.kschoose .price-list li").on("click",".newfilter-sp.kschoose .price-list li",function(e){var t=$(this).parent().prev(),i=$(this).children(".chobtn")||[];$(this).hasClass("on")?($(this).removeClass("on"),i.length&&i.find("i").removeClass("on")):($(this).addClass("on"),i.length&&i.find("i").addClass("on"),"早餐"!==t.text()&&"支付方式"!==t.text()||$(this).siblings().removeClass("on"))}),$("#qs-submit").off("click").on("click",function(t){var i=[],a=$(".filter-fastchoose.kschoose .price-list").find("li.on");i=e.dealParams(a),$(this).closest(".newfilter-sp.kschoose").find(".sp-content .sp-tit").hasClass("room-tit")?e.data.newfastfilter=i.join(","):e.data.sale=i.join(","),M.pluginHide("kschoose"),$(".kslist .commons").filter(".on").removeClass("on"),q.TypeConversion(e.data)}),$(".weixin_ks .quick-search-item").off("click").on("click",function(){$(this).toggleClass("on"),$(this).hasClass("on")?$(this).addClass("tjclick"):$(this).removeClass("tjclick"),"block"===$(".newfilter-sp.kschoose").css("display")&&M.pluginHide("list-weixin-component");var t=[],i=[],a=[],n="100000001_1100_29_预付",s="100000002_1100_30_到店付",o=$(".weixin_ks .quick-search-list").find("li.on");if(t=e.dealParams(o),a=e.dealParams([$(this)]),i=e.data.newfastfilter&&e.data.newfastfilter.split(",")||[],!$(this).hasClass("on")&&e.data.newfastfilter&&e.data.newfastfilter.indexOf(a[0])>=0){var r=$.inArray(a[0],i);i.splice(r,1)}for(var l=0;l<t.length;l++)$.inArray(t[l],i)>=0&&(t.splice(l,1),l--);if($.inArray(s,t)>=0&&e.data.newfastfilter&&e.data.newfastfilter.indexOf(n)>=0){var c=$.inArray(n,i);c>=0&&i.splice(c,1)}e.data.newfastfilter=t.concat(i).join(","),q.TypeConversion(e.data)}),$("#qs-reset").off("click").on("click",function(e){var t=$(this).closest(".newfilter-sp.kschoose").find(".sp-content li");t.removeClass("on"),t.find("i").removeClass("on")})},dealParams:function(e){var t=[];return $.each(e,function(e,i){var i=$(i),a=[];i.data("id")?(a.push(i.data("id")),a.push(i.data("tid")),a.push(i.data("uid")),a.push(i.data("keyword"))):a.push(i.data("keyword")),a.length&&a.length>1?t.push(a.join("_")):t.push(a)}),t},show:function(){$(".page-list").css("transform","translate3d(0, 0, 0)"),$(".page-list").css("-webkit-transform","translate3d(0, 0, 0)")},hide:function(){$(".page-list").css("transform","translate3d(0, -39px, 0)"),$(".page-list").css("-webkit-transform","translate3d(0, -39px, 0)"),$(".quick-search.weixin_ks").hide()},disable:function(){F.hide(),q.UrlNow.newfastfilter=""},updateData:function(e){this._render(e)}};x&&S&&F.init();var U=function(e,t,i){var a=null,n=null;return function(){var i,s=this,o=arguments;clearTimeout(n),a||(a=Date.now()),i=Date.now(),i-a>=100?(e.apply(s,o),a=null,clearTimeout(n)):n=setTimeout(function(){e.apply(s,o),a=null,clearTimeout(n)},t)}},H={visible:!0,data:{startY_IOS:0,startY_Android:0,endY_IOS:0,endY_Android:0},scroll:function(e){H.data.endY_IOS=$(".page-content").scrollTop(),H.data.endY_Android=$("body").scrollTop();var t=H.data.endY_IOS-H.data.startY_IOS,i=H.data.endY_Android-H.data.startY_Android;H.data.endY_IOS>=93||H.data.endY_Android>=93?((t>5||i>5)&&H.visible&&H.hide(),(t<-5||i<-5)&&!H.visible&&H.show()):H.visible||H.show(),H.data.startY_IOS=H.data.endY_IOS,H.data.startY_Android=H.data.endY_Android},show:function(){H.visible=!0,$(".search-field").removeClass("hidein").addClass("showout"),x&&($(".list-sider",e).removeClass("is-top-position").addClass("not-top-position"),$(".page").removeClass("scroll-top").addClass("scroll-down"))},hide:function(){H.visible=!1,$(".search-field").removeClass("showout").addClass("hidein"),x&&($(".list-sider",e).addClass("is-top-position").removeClass("not-top-position"),$(".page").removeClass("scroll-down").addClass("scroll-top"))}};window.addEventListener("popstate",function(e){location.href.indexOf("?_=1&!_PLU_")>-1&&H.show()},!1);var B={init:function(){var t=localStorage.getItem("isWXNewUser_HB")&&JSON.parse(localStorage.getItem("isWXNewUser_HB"))||"";if(navigator.userAgent.search(/MicroMessenger/i)>-1&&"wxqbh5"==TJObject.chid&&t&&t.isShowTip&&!t.disabled){var i=new v({tpl:"tipTpl",formatPlaceholder:{text:t.text||"",btnStyle:"<i></i>"},before:$(".list-main ul:first-child",e)});i.bindClick($(".close_hb",e),function(){i.close()})}}},q={AjaxState:!0,TemplateNub:0,UrlNow:"",pageindex:0,receiveConditions:[],Ajaxwrong:0,App5Url:"",isLoadEnd:!1,Init:function(){Boolean(localStorage.getItem("elongordervisited"))&&(n.setHash([{name:"indate",value:q.getCookieValue("indate")},{name:"outdate",value:q.getCookieValue("outdate")}]),localStorage.removeItem("elongordervisited")),q.UrlType(),q.Ajax(q.UrlNow),$(e).off("click",".nomore").on("click",".nomore",function(){"没有更多酒店了"!=$(this).html()&&(q.TemplateNub=1,q.pageindex=q.pageindex+1,q.Ajax(q.UrlNow))}),main=n.getActiveLayer(),x?$("html").hasClass("android")?$(document).unbind("scroll").bind("scroll",j).bind("scroll",U(H.scroll,100,150)):main.children(".page-list").off("scroll",j).on("scroll",j).on("scroll",U(H.scroll,100,150)):$("html").hasClass("android")?$(document).unbind("scroll").bind("scroll",j).bind("scroll",a).bind("scroll",U(H.scroll,100,150)):main.children(".page-list").off("scroll",j).on("scroll",j).on("scroll",a).on("scroll",U(H.scroll,100,150)),$(e).on("click",".hotel-list .hotel-item",function(){$(this).find(".d2 b").html()?sessionStorage.setItem("HotelDistance","距离"+$(this).find(".d2 b").html()+$(this).find(".d2 i").html()):sessionStorage.setItem("HotelDistance",""),I&&(n.get("h5_list").scrollTop=document.body.scrollTop);var e="";if(localStorage.getItem("selectUniqueIDArr")&&(e="&selectUniqueIDArr="+localStorage.getItem("selectUniqueIDArr")),k){var t={},i=localStorage.getItem("listHotelsData"),a=JSON.parse(unescape(i))||{};if(t.hotelId=$(this).attr("data-url").match(/\d+/g)[0],t.historyTime=(new Date).getTime(),$(this).addClass("hotel_item_history"),i)for(var s in a){if(!(a[s]-t.historyTime<-6048e5))break;delete a[s]}a[t.hotelId]=t.historyTime,localStorage.setItem("listHotelsData",escape(JSON.stringify(a)))}n.addPager({url:$(this).attr("data-url").replace("//"+location.hostname,"")+e,active:!0})}),$(e).off("click",".t-sale .specialday").on("click",".t-sale .specialday",function(){q.UrlType();var e=q.UrlNow.saletype?q.UrlNow.saletype:"";e||(e+="n578028694776220107_1"),e.split(",").indexOf("n578028694776220107_1")==-1&&(e+=",n578028694776220107_1"),q.TypeConversion({saletype:e})}),$(e).on("click",".t-sale .app5url",function(){location.href=q.App5Url})},getCookieValue:function(e){var t=document.cookie,i=t.indexOf(""+e+"=");return i==-1&&(i=t.indexOf(e+"=")),i==-1?t=null:(i=t.indexOf("=",i)+1,cookieEndAt=t.indexOf(";",i),cookieEndAt==-1&&(cookieEndAt=t.length),t=unescape(t.substring(i,cookieEndAt))),t},ChangeFrom:function(t){$(".page-content",e).scrollTop(0),$("body").scrollTop(0),q.pageindex=0,q.Ajax(t)},UrlType:function(){var e=decodeURIComponent(location.hash);if(type=new Object,"object"!=typeof $DATA_LIST.parameterMap&&($DATA_LIST.parameterMap=JSON.parse($DATA_LIST.parameterMap)),type=$DATA_LIST.parameterMap,e.indexOf("#")!=-1){var t=e.substr(1);strs=t.split("&");for(var i=0;i<strs.length;i++){var a=strs[i].split("=");type[a[0]]=a[1]}}q.UrlNow=type},InitComments:function(t){if(t!=[]){var i={listInfo:t};i.listInfo.pageindex=q.pageindex,$DATA_LIST.customization&&$DATA_LIST.customization.list&&$DATA_LIST.customization.list.listTags?i.listInfo.listTags=$DATA_LIST.customization.list.listTags:i.listInfo.listTags="",i.listInfo.listMvtResult=k,0==q.TemplateNub?$(".hotel-list",e).first().html(u("list",i)):1==q.TemplateNub&&($(".hotel-list",e).first().append(u("list",i)),q.TemplateNub=0),f.handleLazy()}},TypeConversion:function(e){x&&M.pluginHide(),H.show(),q.TemplateNub=0,q.pageindex=0;var t=0,i=0;e.datafrom?delete e.datafrom:t=1,e.fromqywz?delete e.fromqywz:i=1,$.each(e,function(a,n){q.UrlNow[a]=n,"keywords"==a&&1==t&&1==i?(delete q.UrlNow.isnear,delete q.UrlNow.lbstype,delete q.UrlNow.startlat,delete q.UrlNow.startlng,e.hotelbrandids&&q.UrlNow.areaid?(e.areaid=q.UrlNow.areaid,e.areatype=q.UrlNow.areatype):(delete q.UrlNow.areaid,delete q.UrlNow.areatype),delete q.UrlNow.highprice,delete q.UrlNow.lowprice,delete q.UrlNow.hotelbrandids,delete q.UrlNow.sortdirection,delete q.UrlNow.sortmethod,delete q.UrlNow.facilityids,delete q.UrlNow.personofroom,delete q.UrlNow.saletype,delete q.UrlNow.themeids,delete q.UrlNow.starlevels,delete q.UrlNow.paytype,delete q.UrlNow.hotelid,delete q.UrlNow.radius):""==n||null==n?delete q.UrlNow[a]:"isnear"==a&&1==n?(delete q.UrlNow.highprice,delete q.UrlNow.lowprice,delete q.UrlNow.hotelbrandids,delete q.UrlNow.sortdirection,delete q.UrlNow.sortmethod,delete q.UrlNow.facilityids,delete q.UrlNow.personofroom,delete q.UrlNow.saletype,delete q.UrlNow.themeids,delete q.UrlNow.placename,delete q.UrlNow.keywords,delete q.UrlNow.hotelname,delete q.UrlNow.starlevels,delete q.UrlNow.paytype):"hotelname"==a||"placename"==a?(delete q.UrlNow.isnear,delete q.UrlNow.lbstype):"keywords"==a?(delete q.UrlNow.isnear,delete q.UrlNow.lbstype,delete q.UrlNow.startlat,delete q.UrlNow.startlng):"areaid"==a&&(delete q.UrlNow.isnear,delete q.UrlNow.lbstype)}),q.Ajax(q.UrlNow)},eachLists:function(t,i){function a(e){var t=e.split("#");return t[0]+="?fromList=1#",t.join("")}for(var n=[],s=0;s<i.length;s++){var o;switch(i[s].starLevel){case 2:o="经济型";break;case 3:o="三星级";break;case 4:o="四星级";break;case 5:o="五星级";break;case-3:o="舒适型";break;case-4:o="高档型";break;case-5:o="豪华型";break;case-12:o="舒适公寓";break;case 12:o="舒适公寓";break;case 13:o="舒适公寓";break;case-13:o="舒适公寓";break;case-14:o="高档公寓";break;case 14:o="高档公寓";break;case-15:o="豪华公寓";break;case 15:o="豪华公寓"}if(null==i[s].picUrl&&(i[s].picUrl="//m.elongstatic.com/static/webapp/hotel/2015/06/v3/img/no-pic-for-hotel.png"),1==t.hotelListUrlParameter.isnear?(i[s].placeName="您",i[s].businessAreaName="",$(".title .city",e).html("周边")):""!=t.hotelListUrlParameter.placename&&null!=t.hotelListUrlParameter.placename&&"0.0"!=i[s].distance&&(i[s].placeName=t.hotelListUrlParameter.placename,i[s].businessAreaName=""),1==J.calling&&(i[s].placeName="",i[s].businessAreaName=""),"0.0"!=i[s].distance&&(i[s].businessAreaName=""),!i[s].commentScore||i[s].commentScore.toString().indexOf(".")>-1||(i[s].commentScore+=".0"),k){var r=localStorage.getItem("listHotelsData"),l=JSON.parse(unescape(r))||{};r&&l[i[s].detailPageUrl.match(/\d+/g)[0]]?i[s].touched=!0:i[s].touched=!1}else i[s].touched=!1,localStorage.removeItem("listHotelsData");var c=function(e){return k?e.replace("mobile220_220","mobile252_322"):e};n.push({HotelImg:c(i[s].picUrl),HotelUrl:a(i[s].detailPageUrl),HotelName:i[s].hotelName,HotelRate:i[s].commentPoint,HotelType:o,HotelAddress:i[s].districtName,businessAreaName:i[s].businessAreaName,HotelAround:i[s].placeName,HotelDistance:Math.round(10*i[s].distance)/10,OriginalPrice:i[s].lmOriPrice,TruePrice:i[s].lowestPrice,facilityList:i[s].facilityList,hongbao:i[s].hongbao,calDistanceType:i[s].calDistanceType,commentScore:i[s].commentScore||0,totalCommentCount:"number"==typeof i[s].totalCommentCount?i[s].totalCommentCount:0,isnear:i[s].isnear,baiduLatitude:i[s].baiduLatitude,baiduLongitude:i[s].baiduLongitude,activityTags:i[s].activityTags,tagInfos:i[s].tagInfos,touched:i[s].touched,recentOrderTime:i[s].recentOrderTime})}return n},Ajax:function(t){t.city=$DATA_LIST.city.cityId,$DATA_LIST.shieldData&&$DATA_LIST.shieldData.shieldSwitch&&(t.logId=y.data&&y.data.shieldData&&y.data.shieldData.logId?y.data.shieldData.logId:"",t.sdId=y.data&&y.data.shieldData&&y.data.shieldData.tsdScript?y.check(y.data.shieldData.tsdScript):""),$(".nomore",e).show(),$(".list-noresult",e).hide(),q.AjaxState=!1,t.pageindex=q.pageindex,0==t.pageindex&&(q.isLoadEnd=!1,slark.get("h5_list").startLoading()),q.isLoadEnd||($(".list-main .nomore p").addClass("moretext"),$(".list-main .nomore p").html("正在加载更多酒店"),$.ajax({timeout:15e3,url:C+"api/list",data:t,type:"GET",success:function(i){if(i.shieldData&&($DATA_LIST.shieldData.shieldSwitch=i.shieldData.shieldSwitch),i.shieldData&&!i.shieldData.validated)return y.getCodeCall(i,q.Ajax,t),!1;switch(y.isFaile=0,slark.get("h5_list").stopLoading(),$DATA_LIST.sortList=i.sortKey,0!=t.pageindex&&""!=t.pageindex||($(".page-content",e).scrollTop(0),$("body").scrollTop(0)),E||(1==i.hotelListUrlParameter.isnear?z.disable():z.updateData(i.fastFilter)),x&&S&&F.updateData(i.newFastFilter),B.init(),H.show(),i.errorCode){case"HOTEL_CHECKEDTIME_FAR":l.alert("抱歉，目前暂不支持入住时间在180天以后的预订，请重新选择时间。"),$(".nomore p",e).html("没有更多酒店了"),$(".list-main .nomore p").removeClass("moretext");break;case"HOTEL_CHECKEDTIME_LONG":l.alert("如果您需要在酒店入住20天以上，请拨打客服热线400-666-1166，或修改入住时间。"),$(".list-main .nomore p").removeClass("moretext"),$(".nomore p",e).html("没有更多酒店了");break;case"HOTEL_FILTERINFO_NOTFOUND":0==t.pageindex&&$(".hotel-list",e).first().html(""),0==i.hotelList.length&&0==t.pageindex&&($(".list-noresult",e).show(),$(".nomore p",e).hide());break;case"API_ERROR":$(".hotel-list",e).first().html("");break;case"NET_TIMEOUT":x&&(l.alert("服务器网络繁忙，请稍后重试!"),$(".list-main .nomore p").removeClass("moretext"),$(".nomore p",e).html("服务器网络繁忙，请稍后重试!"));break;case null:if(q.AjaxState=!0,null==i.hotelList&&0==t.pageindex)$(".list-noresult",e).show(),$(".nomore",e).hide();else if(null==i.hotelList&&t.pageindex>0)$(".list-main .nomore p").removeClass("moretext"),$(".nomore p",e).html("没有更多酒店了"),q.isLoadEnd=!0;else{i.hotelList.length<20?($(".list-main .nomore p").removeClass("moretext"),$(".nomore p",e).html("没有更多酒店了"),q.isLoadEnd=!0):($(".list-main .nomore p").removeClass("moretext"),$(".nomore p",e).html("点击加载更多酒店")),0!=i.pageindex&&""!=i.pageindex||($(".page-content",e).scrollTop(0),$("body").scrollTop(0)),x||SortCompoment.sortList.setData(SortCompoment.adapterData(i.sortKey));var a=q.eachLists(i,i.hotelList);0==t.pageindex&&$(".hotel-list",e).first().html(""),0==i.hotelList.length&&0==t.pageindex?($(".list-noresult",e).show(),$(".nomore",e).hide(),K.clearList(),K.renderList(i)):(q.InitComments(a),1===i.hotelList.length&&0===t.pageindex?(K.clearList(),K.renderList(i)):K.clearList()),t=i.hotelListUrlParameter,q.UrlChange(t)}}$(".t-sale")&&$(".t-sale").remove(),0==i.hasSpecialDay&&0==i.hasApp5Discount||(q.App5Url=i.app5Url)},error:function(e,i,a){slark.get("h5_list").stopLoading(),0==q.Ajaxwrong?(q.Ajax(t),q.Ajaxwrong=1):(q.Ajaxwrong=0,q.AjaxState=!0,H.show(),l.alert("数据获取失败，请刷新后重试")),B.init()}}))},eachComma:function(e){return null==e&&(e=""),newobj=e.split(","),""!=newobj&&$.each(newobj,function(e,t){q.receiveConditions.push(t)}),newobj},UrlChange:function(e){var t=n.clone(e),i=[];if(History.replaceState("h5_list",document.title,location.pathname+location.search),$.each(e,function(t,a){a=encodeURIComponent(a),"null"==a||"city"==t?delete e[t]:i.push({name:t,value:a})}),n.setHash(i),n.get("h5_list").url=location.pathname+location.search+location.hash,q.UrlType(),$.each(t,function(e,i){i&&null!=i||(t[e]="")}),V.receiveConditions(t.areaid),q.receiveConditions=[],t.hotelbrandids=q.eachComma(t.hotelbrandids),t.facilityids=q.eachComma(t.facilityids),t.themeids=q.eachComma(t.themeids),t.paytype=q.eachComma(t.paytype),t.saletype=q.eachComma(t.saletype),""!=t.personofroom){switch(t.personofroom){case"1":t.personofroom="n1644922407691050_37459157021771";break;case"2":t.personofroom="n1644922407691050_40771116521804";break;case"3":t.personofroom="n1644922407691050_23989104821837";break;case"4":t.personofroom="n1644922407691050_27425833121870";break;case"5":t.personofroom="n1644922407691050_24086550221903";break;case"6":t.personofroom="n1644922407691050_1061770746812359561"}q.receiveConditions.push(t.personofroom)}var a=new Date(t.outdate),s=new Date(t.indate);DateComponent.inDate.attr("data-value",t.indate).html(s.format("MM-dd")),DateComponent.outDate.attr("data-value",t.outdate).html(a.format("MM-dd")),DateComponent.total.html(a.diff(s,3)+"晚<i></i>");var o={nameCn:t.keywords,sn:t.areaid,lat:t.startlat,lng:t.startlng,hotelname:t.hotelname,brandname:t.brandname,placename:t.placename,hotelBrandId:1==t.hotelbrandids.length?t.hotelbrandids[0]:"",typeId:t.areatype},r={indate:t.indate,outdate:t.outdate};S&&x?G.receiveConditions(q.receiveConditions,t.areaid,o,r):W.receiveConditions(q.receiveConditions,t.areaid,o,r),b.selectData(o,t);var l,c=[];t.starlevels=q.eachComma(t.starlevels),""!=t.starlevels&&$.each(t.starlevels,function(e,t){c.push(t)}),""==t.lowprice&&""!=t.highprice?l="0-"+t.highprice:"700"!=t.lowprice&&""!=t.highprice&&""!=t.lowprice?l=t.lowprice+"-"+t.highprice:""!=t.lowprice?l=t.lowprice:""!=t.highprice&&""!=t.lowprice||(l=0),priceStar.setData(c,l),""!=t.sortmethod||""!=t.sortdirection?x?(SortCompomentWX.value=t.sortmethod+","+t.sortdirection,SortCompomentWX.addSeletedClass([t.sortmethod,t.sortdirection])):(SortCompoment.sortList.selectValue(t.sortmethod+","+t.sortdirection),SortCompoment.sortList.addSeletedClass(t.sortdirection,t.sortmethod+","+t.sortdirection)):x?(SortCompomentWX.value=$DATA_LIST.sortList[0].value,SortCompomentWX.addSeletedClass(["1","1"])):(SortCompoment.sortList.selectValue($DATA_LIST.sortList[0].value),SortCompoment.sortList.addSeletedClass($DATA_LIST.sortList[0].value.split(",")[1],$DATA_LIST.sortList[0].value))},SpecialDayApp5Url:function(e,t,i){var a='<div class="t-sale">';1!=e||1!=t||null!=i&&"n578028694776220107_1"==i?1!=e||null!=i&&"n578028694776220107_1"==i?1==t&&(a+='<div class="sale-item app5url"><i class="list-dis5-i"></i><h2>5折限购</h2><p>下载艺龙APP，享5折超低价</p></div>'):a+='<div class="sale-item specialday"><i class="list-sale-i"></i><h2>今日特价</h2><p>超值优惠，最高减30%以上</p></div>':(a+='<div class="sale-item specialday"><i class="list-sale-i"></i><h2>今日特价</h2><p>优惠30%以上</p></div>',$DATA_LIST.customization&&$DATA_LIST.customization.list&&$DATA_LIST.customization.list.hiddenHalfPrice||(a+='<div class="sale-item app5url"><i class="list-dis5-i"></i><h2>5折限购</h2><p>全网最低价</p></div>')),a+="</div> ",(1!=e||null!=i&&"n578028694776220107_1"==i)&&1==t&&$DATA_LIST.customization&&$DATA_LIST.customization.list&&$DATA_LIST.customization.list.hiddenHalfPrice&&(a=""),$(".list-main").prepend(a)}};KeywodManager={init:function(){this.buildIndex($DATA_LIST.areaList),this.buildIndex($DATA_LIST.filterList),this.buildIndex($DATA_LIST.searchList),this.addPlaceName($DATA_LIST.searchList)},keywordMap:{},buildIndex:function(e){for(var t=0;t<e.length;t++){var i=e[t];i&&(i.subFilterInfoEntities?this.buildIndex(i.subFilterInfoEntities):this.keywordMap[i.sn]=i)}},addPlaceName:function(e){for(var t=0;t<e.length;t++){var i=e[t];i&&!/n167033088745261/g.test(i.sn)&&(i.subFilterInfoEntities?this.addPlaceName(i.subFilterInfoEntities):i.placename=i.nameCn)}},getKeyword:function(e){return e!=-1&&this.keywordMap[e]?this.keywordMap[e].nameCn:null}},SortCompoment={sortArr:[],sortList:null,defuatText:"排序",padDefuatText:"默认排序",padTextElem:$(".default-btn .opt",e),btnElem:$(".default-btn .tit span.title-phone",e),padBtnTextElem:$(".default-btn .tit span.pad",e),init:function(){this.sortArr=$DATA_LIST.sortList;var t=this.adapterData(this.sortArr),i=$(".default-btn",e).slideSelector({title:"排序",data:t,callback:function(e){var t=e.value.split(","),i=t[1];this.addSeletedClass(i,e.value),q.TypeConversion({sortmethod:t[0],sortdirection:t[1]})}});i.addSeletedClass=function(e,a){if(a==t[0].value)return i.elem.removeClass("drop rise"),SortCompoment.padTextElem.text(SortCompoment.padDefuatText),void SortCompoment.btnElem.text(SortCompoment.defuatText);1==e?(i.elem.removeClass("drop"),i.elem.addClass("rise")):(i.elem.removeClass("rise"),i.elem.addClass("drop"));var n=i.page.find("li[value='"+a+"']").text().trim();SortCompoment.padTextElem.text(n),SortCompoment.btnElem.text(n)},d.add("sortList",i),this.sortList=i,i.page.children("header").hide(),i.page.children("ul").css("padding-top","0px !important")},adapterData:function(e){for(var t=[],i=0;i<e.length;i++)t.push({value:e[i].value,text:this.textMap[e[i].key]});return t},textMap:{1:"默认",2:"价格 低-高",3:"价格 高-低",4:"星级 低-高",5:"星级 高-低",6:"口碑 高-低",7:"距离我 近-远"}},SortCompomentWX={value:"1,1",sortList:null,defuatText:"排序",padDefuatText:"默认排序",sortArr:[],param:null,TEMPLATE:{BODY:'<div class="slide-selector slide-selector-weixin weixin-hide list-weixin-component"><ul class="page-content">${li}</ul></div>',ITEM:'<li class="radio-item" value="${value}"><label class="label-radio clearfix"><div class="radio-icon"></div><div class="radio-text">${text}</div><div class="check"></div></label></li>'},thisTabSort:$(".default-btn",e),init:function(){this.page=$(this.TEMPLATE.BODY),M.pluginCreate(this.page),this._bindEvent()},selectValue:function(){this.page.find("li").removeClass("selected").find(".radio").removeClass("selected"),this.page.find("li[value='"+this.value+"']").addClass("selected").find(".radio").addClass("selected")},adapterData:function(e){for(var t=[],i=0;i<e.length;i++)t.push({value:e[i].value,text:this.textMap[e[i].key]});return t},addSeletedClass:function(t){if(null!=this.param){var i=this.param[0].value.split(","),a=($(".default-btn",e),$(".default-btn .tit .title-phone",e));if(t[0]==i[0]&&t[1]==i[1])return M.arrowToggle(this.thisTabSort,""),void a.text(this.defuatText);M.arrowToggle(this.thisTabSort,"unon");var n=this.page.find("li[value='"+t[0]+","+t[1]+"']").text().trim();a.text(n)}},_bindEvent:function(){var t=this;$(".default-btn",e).off("click").on("click",function(){t.sortArr=$DATA_LIST.sortList,t.param=t.adapterData(t.sortArr);var i="";[].forEach.call(t.param,function(e){i+=t.TEMPLATE.ITEM.replace("${value}",e.value).replace("${text}",e.text)}),t.page.find("ul").html(i),t.selectValue(),M.activeCompoment.shift(),M.activeCompoment.push($(this).attr("class").split(" ")[0]),M._doCleanCompoment(),M.pluginToggle("slide-selector"),M.arrowToggle($(".default-btn",e))}),$(this.page).off("click","li.radio-item").on("click","li.radio-item",function(){var e=$(this).attr("value"),i=e.split(",");i[1];t.value=e,M.pluginHide("slide-selector"),q.TypeConversion({sortmethod:i[0],sortdirection:i[1]})})},textMap:{1:"默认",2:"价格 低-高",3:"价格 高-低",4:"星级 低-高",5:"星级 高-低",6:"口碑 高-低",7:"距离我 近-远"}},DateComponent={calendar:null,target:$(".sea-date",e),inDate:$(".sea-date .indate",e),outDate:$(".sea-date .outdate",e),total:$(".sea-date .total",e),init:function(){var e=new Date,t=$DATA_LIST.deepNightFlag;this.calendar=$("").calendar({mindate:t?e.add(-1,3):e,maxdate:e.add(179,3),startText:"入住",endText:"离店",text:"选择",isDouble:!0,isDeepNight:t,selectDate:function(){return[DateComponent.inDate.attr("data-value"),DateComponent.outDate.attr("data-value")]},eventCallBack:function(e,t){var i=new Date(e),a=new Date(t);DateComponent.inDate.attr("data-value",e),DateComponent.inDate.html(i.format("MM-dd")),DateComponent.outDate.attr("data-value",t),DateComponent.outDate.html(a.format("MM-dd")),DateComponent.total.html(a.diff(i,3)+"晚<i></i>");var n=S&&x?G.uptoTimeOps(e,t):W.uptoTimeOps(e,t);if(n["645790419_1013"]){var s=n["645790419_1013"].sn.join(",");q.TypeConversion({indate:e,outdate:t,saletype:s})}else q.TypeConversion({indate:e,outdate:t});x&&(M.activeCompoment.shift(),M.activeCompoment.push("0"),M._doCleanCompoment())},beforeSelected:function(e,t,i){return!(i&&new Date(t)>new Date(e).add(20,3))||(l.alert("如果您需要在酒店入住20天以上，请拨打客服热线400-666-1166，或修改入住时间。"),!1)}}),d.add("calendar",this.calendar),DateComponent.target.click(function(){DateComponent.calendar.show()})}},priceStar={TEMPLATE:{BODY:'<div class="filter-sp filter-price-star" style=""><span class="arrow"></span><div class="sp-content"><div class="star"><div class="sp-tit">星级（可多选）</div><ul class="star-list">${star}</ul></div><div class="price"><div class="sp-tit">价格</div><ul class="price-list"><li class="on" price-value="0">不限</li><li price-value="0-150">0-150</li><li price-value="150-300">150-300</li><li price-value="300-450">300-450</li><li price-value="450-700">450-700</li><li price-value="700">700以上</li></ul></div></div><div class="sp-title"><span class="left tjclick" data-tj={"cspot":"emptyPriceAndStar"}>取消</span> <span class="right tjclick" data-tj={"cspot":"submitPriceAndStar"}>确定</span></div></div>',BODY_WX:'<div class="filter-sp filter-price-star pricestars list-weixin-component weixin-hide" style=""><span class="arrow"></span><div class="sp-content"><div class="star"><div class="sp-tit">星级（可多选）</div><ul class="star-list">${star}</ul></div><div class="price"><div class="sp-tit">价格</div><ul class="price-list"><li class="on" price-value="0">不限</li><li price-value="0-150">0-150</li><li price-value="150-300">150-300</li><li price-value="300-450">300-450</li><li price-value="450-700">450-700</li><li price-value="700">700以上</li></ul><div class="userchoose hide"><em>自定义</em><span class="getinprice"><input type="tel" placeholder="最低价" class="getinnum minPrice"><i class="hide"></i></span><em class="chuan">—</em><span class="getinprice"><input type="tel" placeholder="最高价" class="maxPrice"><i class="hide"></i></span><p class="wrongch"></p></div></div></div><!--s--><div class="bot-btn bar"><ul><li id="filter-reset" class="tjclick" data-tj={"cspot":"emptyPriceAndStar"}>重置</li><li class="on tjclick" data-tj={"cspot":"submitPriceAndStar"} id="starprice-submit">确定</li></ul></div><!--e--></div>',ITEM:'<li sn="${sn}" >${name}</li>'},option:{showLoad:!0,showTransition:!0,showType:"transition",transitionClass:"filter-sp-active"},textMap:{"-1":"不限",12:"经济/客栈",3:"三星/舒适",4:"四星/高档",5:"五星/豪华"},stars:[],price:null,unlimitedStar:null,starElems:null,unlimitedPrice:null,priceElems:null,btnElem:$(".price-star-btn",e),btnTextElem:$(".price-star-btn .tit span.title-phone",e),padBtnTextElem:$(".price-star-btn .opt",e),defuatText:"价格星级",padDefuatText:"价格不限、星级不限",init:function(){this._render($DATA_LIST.starList),this._revert(),this._bindEvent()},setData:function(e,t,i){this.stars=e||[],this.price=t,this.callback=i||this.callback,this._setStatus()},beforeShow:function(){this._revert()},afterHide:function(){n.isPad&&(this.page.removeClass("page-transitioning"),this.page.off(n.transitionEnd))},_render:function(e){for(var t="",i=0;i<e.length;i++){var a=e[i];t+=this.TEMPLATE.ITEM.replace("${sn}",a.key).replace("${name}",this.textMap[a.value])}x?this.page=$(this.TEMPLATE.BODY_WX.replace("${star}",t)):this.page=$(this.TEMPLATE.BODY.replace("${star}",t)),this.starElems=this.page.find(".star-list li"),this.priceElems=this.page.find(".price-list li"),this.unlimitedStar=$(this.starElems[0]),this.unlimitedPrice=$(this.priceElems[0]),x&&M.pluginCreate(this.page),S?(this.unlimitedPrice.hide(),this.unlimitedStar.hide(),$(".userchoose").removeClass("hide")):(this.unlimitedPrice.show(),this.unlimitedStar.show(),$(".userchoose").addClass("hide"))},_bindEvent:function(){var t=this;$(".price-star-btn",e).off("click").on("click",function(e){x?(M.activeCompoment.shift(),M.activeCompoment.push($(this).attr("class").split(" ")[0]),M._doCleanCompoment(),t._revert(),M.pluginToggle("filter-price-star",this.page),M.arrowToggle(t.btnElem)):t.show(),e.preventDefault()}),$(".sp-title .right, #starprice-submit",this.page).off("click").on("click",function(){t._doReturn()}),$(".sp-title .left, #filter-reset",this.page).off("click").on("click",function(){
x?M.pluginHide("filter-price-star"):t.hide(),t._revert()}),$("#filter-reset",this.page).off("click").on("click",function(){t._reset()}),this.starElems.off("click").on("click",function(){var e=$(this);e.attr("sn")==t.unlimitedStar.attr("sn")?(t.starElems.removeClass("on"),e.addClass("on")):(e.toggleClass("on"),0==t.starElems.filter(".on").length?t.unlimitedStar.addClass("on"):t.unlimitedStar.removeClass("on"))}),this.priceElems.off("click").on("click",function(){var e=$(this);e.siblings().removeClass("on"),e.toggleClass("on"),$(".getinprice input").val(""),0==t.priceElems.filter(".on").length&&t.unlimitedPrice.addClass("on"),t.synPlaceholder()}),$(".getinprice input",e).off("focus").on("focus",function(e){var i=$(t.priceElems.filter(".on")[0]);i.text()&&"不限"!=i.text()&&(t.synPlaceholder(),t.priceElems.removeClass("on"),t.unlimitedPrice.addClass("on"),$(".maxPrice").val($(".maxPrice").attr("placeholder")),$(".minPrice").val($(".minPrice").attr("placeholder"))),$(this).val()&&$(this).next("i").removeClass("hide")}),$(".getinprice input",e).off("blur").on("blur",function(e){$(this).next("i").addClass("hide")}),$(".getinprice input",e).off("input propertychange").on("input propertychange",function(e){return $(this).val()?($(this).next("i").removeClass("hide"),void(t._isInteger($(this).val())?($(this).closest(".getinprice").removeClass("unrig"),$(".wrongch").text("")):($(this).closest(".getinprice").addClass("unrig"),$(".wrongch").text("请输入正整数!")))):($(this).attr("placeholder",""),$(".wrongch").text(""),$(this).closest(".getinprice").removeClass("unrig"),void $(this).next("i").addClass("hide"))}),$(".getinprice i",e).off("touchend").on("touchend",function(e){var t=$(this).prev();t.attr("placeholder",""),t.val("").focus()})},synPlaceholder:function(){var e=$(this.priceElems.filter(".on")[0]);if("不限"!=e.text()){var t=e.attr("price-value"),i=t.split("-")||[];$(".userchoose .minPrice").attr("placeholder",i[0]),i[1]?$(".userchoose .maxPrice").attr("placeholder",i[1]):$(".userchoose .maxPrice").attr("placeholder","")}else $(".userchoose .minPrice").attr("placeholder","最低价"),$(".userchoose .maxPrice").attr("placeholder","最高价")},_isInteger:function(e){var t=/^\+?[1-9][0-9]*$/;return t.test(e)},_revert:function(){if(this.starElems.removeClass("on"),0==this.stars.length)this.unlimitedStar.addClass("on");else for(var e=0;e<this.stars.length;e++)this.page.find('.star-list li[sn="'+this.stars[e]+'"]').addClass("on");this.priceElems.removeClass("on");var t=this.page.find('.price-list li[price-value="'+this.price+'"]');if(this.price&&"0"!==this.price?t.addClass("on"):this.unlimitedPrice.addClass("on"),S&&this.price&&0==t.length){this.unlimitedPrice.addClass("on");var i=this.price.split("-");1===i.length?$(".minPrice").val(i[0]):($(".minPrice").val(i[0]),$(".maxPrice").val(i[1]))}},_reset:function(){if(this.starElems.removeClass("on"),this.unlimitedStar.addClass("on"),this.priceElems.removeClass("on"),this.unlimitedPrice.addClass("on"),S){var e=$(".minPrice"),t=$(".maxPrice");e.attr("placeholder","最低价"),t.attr("placeholder","最高价"),e.closest(".getinprice").removeClass("unrig"),t.closest(".getinprice").removeClass("unrig"),e.val(""),t.val(""),$(".wrongch").text("")}},_setStatus:function(){var e="",t=null,i=this;if(this.price&&"0"!==this.price){var a=this.priceElems.filter('[price-value="'+this.price+'"]');e=a.length?a.text().trim():1===this.price.split("-").length?this.price+"以上":this.price}else if(this.stars.length>0){x&&this.starElems.removeClass("on");for(var n=0;n<this.stars.length;n++){var s=this.starElems.filter('[sn="'+this.stars[n]+'"]');e+=s.text().trim()+"，"}e=e.substring(0,e.length-1),t=e,e.length>4&&(e=e.substring(0,3)+"…")}else e=null;M.arrowToggle(i.btnElem,0!==i.stars.length||0!==Number(i.price)?"unon":""),this.btnTextElem.text(e||this.defuatText),this.padBtnTextElem.text(t||this.padDefuatText)},_doReturn:function(){if(S){var e=$(".minPrice").val(),t=$(".maxPrice").val();if($(".minPrice").closest(".getinprice").removeClass("unrig"),$(".maxPrice").closest(".getinprice").removeClass("unrig"),$(".wrongch").text(""),e&&!this._isInteger(e))return $(".minPrice").closest(".getinprice").addClass("unrig"),void $(".wrongch").text("请输入正整数!");if(t&&!this._isInteger(t))return $(".maxPrice").closest(".getinprice").addClass("unrig"),void $(".wrongch").text("请输入正整数!");if(e&&this._isInteger(e)&&e>99999)return $(".minPrice").closest(".getinprice").addClass("unrig"),void $(".wrongch").text("太贵啦，宝宝找不到啊!");if(t&&this._isInteger(t)&&t>99999)return $(".maxPrice").closest(".getinprice").addClass("unrig"),void $(".wrongch").text("太贵啦，宝宝找不到啊!");if(e&&t&&+e>+t)return $(".getinprice").addClass("unrig"),void $(".wrongch").text("请输入正确的正整数价格区间!")}var i=this.starElems.filter(".on"),a=this.priceElems.filter(".on"),n=this;if(this.stars.length=0,1==i.length&&i.attr("sn")==this.unlimitedStar.attr("sn")||i.each(function(){n.stars.push(this.getAttribute("sn"))}),this.price=a.attr("price-value"),this._setStatus(),"function"==typeof this.callback){var s={};if(this.price&&"0"!==this.price){var o=this.price.split("-");s.lowprice=o[0],o.length>1?s.highprice=o[1]:s.highprice=""}else s.lowprice="",s.highprice="";S&&($(".minPrice").val()&&(s.lowprice=$(".minPrice").val()),$(".maxPrice").val()&&(s.highprice=$(".maxPrice").val())),this.stars.length>0?s.starlevels=this.stars.join(","):s.starlevels="",this.callback(s)}x?M.pluginHide("filter-price-star"):this.hide()}},priceStar.setData(null,null,function(e){q.TypeConversion(e)}),t();var W={TEMPLATE:'<div class="list-pop-fliter shaixuan '+(x?"list-weixin-component weixin-hide":"")+'"><header class="bar bar-nav flight-order-head"><a class="icon pull-left icon-back"></a><div class="title">筛选</div></header><div class="page-cont"><section class="list-fliter-box"><div class="condition bar"><ul></ul></div><div class="filter-wrap"><div class="filter-tit page-content"><ul><li class="on have" data-type="pinpai">品牌</li><li data-type="renshu">人数</li><li data-type="sheshi">设施</li><li data-type="zhuti">主题</li><li data-type="zhifu">支付方式</li><li data-type="cuxiao">促销方式</li></ul></div><div class="filter-con page-content"><ul></ul></div><div class="bot-btn bar"><ul><li class="tjclick" data-tj={"cspot":"emptyFilter"} id="filter-reset">重置</li><li class="on tjclick" data-tj={"cspot":"submitFilter"} id="filter-submit">确定</li></ul></div></div></section></div></div>',dataType:0,optionResult:{},optionFinal:{},dateObject:{},indexObject:{},thisTabFilter:$(".list-sider .filter-btn",e),trOptionResult:null,idInit:{renshu:"n1644922407691050",tejia:"928670_1013",buxian:"976586008697853",cuxiao:"645790419_1013",juliwo:"n10000100001",shangquan:"n668512291742670",xingzhengqu:"n174998673838874021",ditie:"n137425165725594602",jichang:"n8589076672078144546",yanchuchangguan:"n19614632471045534478",shineijingdian:"n2107756300888480399",daxue:"n436688864776557",yiyuan:"n1587052200741629",shiwaijingdian:"n168792913890589792"},returnReg:function(e){return new RegExp(e,"g")},init:function(){var t=this;this.dataListAll=$DATA_LIST.filterList;for(var i=0,a=this.dataListAll.length;i<a;i++)if(this.dataListAll[i]&&this.dataListAll[i].sn){this.dataType=this.dataListAll[i].sn;break}this.page=$(this.TEMPLATE),x&&M.pluginCreate(this.page),$(".list-sider .filter-btn",e).off("click").on("click",function(){for(var e=!1,i=0,a=t.dataListAll.length;i<a;i++)if(t.dataListAll[i]){e=!0;break}e?x?(M.activeCompoment.shift(),M.activeCompoment.push($(this).attr("class").split(" ")[0]),M._doCleanCompoment(),M.pluginToggle("shaixuan",t.page),M.arrowToggle(t.thisTabFilter),t.renderWin()):W.show():l.alert("抱歉，暂无可用筛选项。")}),$("#filter-reset",this.page).off("click").on("click",function(){t.ResetOperate()}),$(".list-pop-fliter .icon-back",this.page).on("click",function(){t.optionResult=JSON.parse(JSON.stringify(t.optionFinal)),t.dataReadyCallback(),W.hide()}),$("#filter-submit",this.page).on("click",function(){t.trOptionResult=null,t.trOptionResult=n.clone(t.optionResult),t.GeneralOut(t.optionResult)}),this.indexObject=$.extend(this.idIndex($DATA_LIST.filterList),this.idIndex($DATA_LIST.areaList))},beforeShow:function(){$('.list-fliter-box .filter-tit li[data-id="'+this.dataType+'"]').addClass("on"),this.CheckboxStyle()},afterShow:function(){W.filterHei(),$(".condition.bar ul")[0].scrollLeft="100000"},filterHei:function(){$(".list-fliter-box .filter-con",this.page).height($(".list-pop-fliter",this.page).height())},getType:function(e){return Object.prototype.toString.call(e)},idIndex:function(e){var t={},i="subFilterInfoEntities",a=this;return[].forEach.call(e,function(e){var n={};e&&(n.oneTypeSn=e.sn,n.oneTypeCn=e.nameCn,n.typeId=e.typeId,e[i]&&"[object Array]"==a.getType(e[i])&&e[i].length&&[].forEach.call(e[i],function(e){var s={};s.twoTypeSn=e.sn,s.twoTypeCn=e.nameCn,s.typeId=e.typeId,e[i]&&"[object Array]"==a.getType(e[i])&&e[i].length?[].forEach.call(e[i],function(e){var i={};i.threeTypeSn=e.sn,i.threeTypeCn=e.nameCn,t[i.threeTypeSn]=$.extend(!0,{},n,s,i)}):t[s.twoTypeSn]=$.extend(!0,{},n,s)}))}),t},uptoTimeOps:function(e,t){var i=this.TimeFormat,a=i($DATA_LIST.today),n=this.optionResult;W.returnReg(W.idInit.buxian),W.returnReg(W.idInit.tejia),W.returnReg(W.idInit.juliwo+"|"+W.idInit.shangquan+"|"+W.idInit.xingzhengqu+"|"+W.idInit.ditie+"|"+W.idInit.jichang+"|"+W.idInit.huochezhan+"|"+W.idInit.yanchuchangguan+"|"+W.idInit.shineijingdian+"|"+W.idInit.daxue+"|"+W.idInit.yiyuan+"|"+W.idInit.shiwaijingdian);return i(e)==a&&i(t)==a+864e5||n[W.idInit.cuxiao]&&(n[W.idInit.cuxiao].sn.indexOf(W.idInit.tejia)>-1&&n[W.idInit.cuxiao].sn.splice(n[W.idInit.cuxiao].sn.indexOf(W.idInit.tejia),1),this.optionResult=n,this.optionFinal=JSON.parse(JSON.stringify(n))),this.optionResult},FilterChoose:function(e){var t=this,e=e||this.optionResult,i=$(".filter-con li",this.page);this.FindSet(this.dataListAll,this.dataTyp);$(".shaixuan .filter-con").off("click","li").on("click","li",function(){var a=$(this).attr("data-id"),n=$(this).attr("data-type"),s=$(this).hasClass("on")?1:0,o=W.returnReg(W.idInit.renshu),r=W.returnReg(W.idInit.buxian),c=/^n167033088745261_\d+$/,d="n167033088745261",p=[];if(c.test(a)){$(this).siblings("li").removeClass("on"),$(this).addClass("on");var h,u=null,f=[];e[d]&&e[d][a]&&e[d][a].sn&&(f=f.concat(e[d][a].sn)),[].forEach.call($DATA_LIST.filterList,function(e){e.sn==d&&(h=e.subFilterInfoEntities)}),[].forEach.call(h,function(e){e.sn==a&&(u=e.subFilterInfoEntities)}),[].forEach.call(u,function(e){f.indexOf(e.sn)!=-1?p.push('<li class="on" data-id="'+e.sn+'" data-type="'+d+'">'+e.nameCn+'<i class="checkbox"></i></li>'):!/976586008697853/g.test(e.sn)||0!=f.length&&f[0]!=-1?p.push('<li data-id="'+e.sn+'" data-type="'+d+'">'+e.nameCn+'<i class="checkbox"></i></li>'):p.push('<li class="on" data-id="'+e.sn+'" data-type="'+d+'">'+e.nameCn+'<i class="checkbox"></i></li>')}),$(".filter-con .filter-list-subway-r",this.page).html(p.join(""))}else{if(i=/n167033088745261/g.test(n)?$(".shaixuan .filter-list-subway-r li",this.page):$(".filter-con li",this.page),o.test(n))$(this).toggleClass("on"),$(this).siblings().removeClass("on"),s?(e[n].sn=[],t.FilterOptions(t.dataType,a,-1)):(e[n]=e[n]?e[n]:{},e[n].sn=e[n].sn?e[n].sn:[],e[n].sn=[a],t.FilterOptions(t.dataType,a,$(this).text(),1));else if(r.test(a)){if(!$(this).hasClass("on")){if(/n167033088745261/g.test(n)){var m=a.split("_");$(this).siblings("li").removeClass("on"),e[m[0]]&&e[m[0]][m[0]+"_"+m[1]]&&(e[m[0]][m[0]+"_"+m[1]].sn=[-1])}else i.each(function(e){$(this).removeClass("on")}),e[n].sn=[-1];$(this).addClass("on"),t.FilterOptions(t.dataType,0)}}else{if([].forEach.call(i,function(e,t){r.test($(e).attr("data-id"))&&$(e).removeClass("on")}),/n167033088745261/g.test(n)){e[n]=e[n]?e[n]:{};var g=a.split("_");e[n][g[0]+"_"+g[1]]=e[n][g[0]+"_"+g[1]]?e[n][g[0]+"_"+g[1]]:{},e[n][g[0]+"_"+g[1]].sn=e[n][g[0]+"_"+g[1]].sn?e[n][g[0]+"_"+g[1]].sn:[];var v=e[n][g[0]+"_"+g[1]].sn}else{e[n]=e[n]?e[n]:{},e[n].sn=e[n].sn?e[n].sn:[];var v=e[n].sn}if(v.indexOf(-1)>=0&&v.splice(v.indexOf(-1),1),s)v.indexOf(a)>=0&&v.splice(v.indexOf(a),1),$(this).removeClass("on"),v.length<=0&&[].forEach.call(i,function(t,i){r.test($(t).attr("data-id"))&&($(t).addClass("on"),e[n].sn=[-1])}),t.FilterOptions(t.dataType,a,-1);else{var y=$(".condition.bar li").length;y>=10?l.alert("亲，您最多只能选择10项"):(v.push(a),t.FilterOptions(t.dataType,a,$(this).text(),1),$(this).addClass("on"))}}t.ConditionRow(e)}})},FormatSelect:function(e){var t={};return[].forEach.call(e,function(e){t[e.sn]={},t[e.sn].sn=[],[].forEach.call(e.subFilterInfoEntities,function(i){t[e.sn].sn.push(i.sn)})}),t},FindSet:function(e,t){var i=!1,a={};return i||[].forEach.call(e,function(e){e&&e.sn==t&&(i=!0,a=e)}),a},ConditionCount:function(e){var t=0,i=this,a=W.returnReg(W.idInit.juliwo+"|"+W.idInit.shangquan+"|"+W.idInit.xingzhengqu+"|"+W.idInit.ditie+"|"+W.idInit.jichang+"|"+W.idInit.huochezhan+"|"+W.idInit.yanchuchangguan+"|"+W.idInit.shineijingdian+"|"+W.idInit.daxue+"|"+W.idInit.yiyuan+"|"+W.idInit.shiwaijingdian),n=function(e){for(var s in e)a.test(s)||("[object Object]"==i.getType(e[s])?n(e[s]):"[object Array]"==i.getType(e[s])&&e[s].length>0&&e[s][0]!=-1&&(t+=e[s].length));return t};return n(e),t},InitDataSet:function(t,i){var a=this,n=[],s=[],i=i||this.optionResult;[].forEach.call(a.dataListAll,function(e,t){e&&s.push(e)}),[].forEach.call(s,function(e,t){0==t?(a.dataType=e.sn,n.push('<li data-id="'+e.sn+'" class="on">'+e.nameCn+"</li>")):n.push('<li data-id="'+e.sn+'">'+e.nameCn+"</li>")}),a.CheckboxStyle(),$(".filter-tit ul",this.page).html(n.join("")),this.InitMenu(t,this.dataType),$(".filter-tit ul li",this.page).on("click",function(){$(".filter-con",e).scrollTop(0);var n=$(this).attr("data-id");a.dataType=n,a.InitMenu(t,n,i),a.CheckboxStyle(),$(this).siblings().removeClass("on"),$(this).addClass("on"),a.InitSetOpts(i,a.dataType)})},TimeFormat:function(e,t){e=/\d{10,}/.test(e)?parseInt(e):e;var i=new Date(e),a=i.getFullYear(),n=i.getMonth()+1,s=i.getDate();return new Date(a,n,s).getTime()},InitMenu:function(e,t,i){for(var a=this,n=a.TimeFormat,s=[],o=[],r=[],l=[],c=this.dateObject,d=n($DATA_LIST.today),p=!1,h=W.returnReg(W.idInit.buxian),u=(W.returnReg(W.idInit.cuxiao),W.returnReg(W.idInit.tejia),W.idInit.tejia),f=0,m=e.length;f<m;f++)if(e[f]){p=!0;break}p&&(o=this.FindSet(e,t).subFilterInfoEntities,o[0].subFilterInfoEntities?($(".filter-con",this.page).html('<ul class="filter-list-subway-l page-content"></ul><ul class="filter-list-subway-r filter-list-check page-content"></ul>'),[].forEach.call(o,function(e,i){0==i?s.push('<li class="on" data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+'<i class="checkbox"></i></li>'):s.push('<li data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+'<i class="checkbox"></i></li>')}),r=o[0].subFilterInfoEntities,[].forEach.call(r,function(e,i){h.test(e.sn)?l.push('<li class="on" data-id="'+r[i].sn+'" data-type="'+t+'">'+r[i].nameCn+'<i class="checkbox"></i></li>'):l.push('<li data-id="'+r[i].sn+'" data-type="'+t+'">'+r[i].nameCn+'<i class="checkbox"></i></li>')}),$(".filter-con .filter-list-subway-l",this.page).html(s.join("")),$(".filter-con .filter-list-subway-r",this.page).html(l.join(""))):([].forEach.call(o,function(e,i){("n578028694776220107_3"!=e.sn||$DATA_LIST.dragonFlag)&&(h.test(e.sn)?s.push('<li class="on" data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+'<i class="checkbox"></i></li>'):e.sn==u?n(c.indate)==d&&n(c.outdate)==d+864e5&&s.push('<li data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+'<i class="checkbox"></i></li>'):s.push('<li data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+'<i class="checkbox"></i></li>'))}),$(".filter-con",this.page).html("<ul></ul>"),$(".filter-con ul",this.page).html(s.join(""))),W.FilterChoose(i))},CheckboxStyle:function(){var e=W.returnReg(W.idInit.renshu),t=W.returnReg("n167033088745261");e.test(this.dataType)?$(".filter-con ul",this.page).removeClass("filter-list-check").addClass("filter-list-radio"):$(".filter-con ul",this.page).removeClass("filter-list-radio").addClass("filter-list-check"),t.test(this.dataType)&&($(".filter-con ul.filter-list-subway-l",this.page).removeClass("filter-list-check").removeClass("filter-list-radio"),$(".filter-con ul.filter-list-subway-r",this.page).removeClass("filter-list-radio").addClass("filter-list-check"))},InitSetOpts:function(e,t){if(e&&"object"==typeof e&&e[t])if(e[t].sn){for(var i=(e[t]?e[t]:{},e[t].sn?e[t].sn:[]),a=$(".filter-con li",this.page),n=0,s=i.length;n<s;n++)[].forEach.call(a,function(e,t){$(e).attr("data-id")===i[n]&&$(e).addClass("on")});i.indexOf(-1)<0&&[].forEach.call(a,function(e){/976586008697853/g.test($(e).attr("data-id"))&&$(e).removeClass("on")})}else{var o=!0;for(var n in e[t]){for(var i=e[t][n].sn?e[t][n].sn:[],a=$(".filter-con li",this.page),r=0,s=i.length;r<s;r++)[].forEach.call(a,function(e,t){$(e).attr("data-id")===i[r]&&$(e).addClass("on")&&(o=!1)});i.indexOf(-1)<0&&[].forEach.call(a,function(e){/976586008697853/g.test($(e).attr("data-id"))&&!o&&$(e).removeClass("on")})}}this.RedPoint()},getType:function(e){return Object.prototype.toString.call(e)},receiveConditions:function(e,t,i,a){var s=this,o={};if(s.optionResult={},e&&"[object Array]"==this.getType(e)&&e.length>=1&&""!=e[0]&&[].forEach.call(e,function(e){var t=s.indexObject[e];if(t){var i=t.oneTypeSn,a=t.twoTypeSn,n=t.threeTypeSn;o[i]=o[i]?o[i]:{},n?(o[i][a]=o[i][a]?o[i][a]:{},o[i][a].sn=o[i][a].sn?o[i][a].sn:[],o[i][a].sn.push(e)):(o[i].sn=o[i].sn?o[i].sn:[],o[i].sn.push(e))}}),t&&"[object String]"==this.getType(t)){var r=s.indexObject[t];if(r){var l=r.oneTypeSn,c=r.twoTypeSn,d=r.threeTypeSn;o[l]=o[l]?o[l]:{},d?(o[l][c]=o[l][c]?o[l][c]:{},o[l][c].sn=o[l][c].sn?o[l][c].sn:[],o[l][c].sn.push(t)):(o[l].sn=o[l].sn?o[l].sn:[],o[l].sn.push(t))}}i&&"[object Object]"==this.getType(i)&&(o.KEYWORD=i),this.dateObject=a,this.optionResult=o,this.trOptionResult=n.clone(this.optionResult),this.optionFinal=JSON.parse(JSON.stringify(o)),this.dataReadyCallback(o)},dataReadyCallback:function(e){var t=this,e=e||this.optionResult;this.FilterBtnState(this.optionResult),this.InitDataSet(this.dataListAll),this.FilterOptions(),this.InitSetOpts(e,this.dataType),this.ConditionRow(),setTimeout(function(){$("#filter-reset",t.page).on("click",function(){t.ResetOperate()})},0)},SetDefaultSelection:function(e,t){e.indexOf("不限")<0&&[].forEach.call(t,function(e,t){"不限"===$(e).text()&&$(e).removeClass("on")})},ResetOperate:function(){var e=W.returnReg(W.idInit.buxian),t=W.returnReg(W.idInit.juliwo+"|"+W.idInit.shangquan+"|"+W.idInit.xingzhengqu+"|"+W.idInit.ditie+"|"+W.idInit.jichang+"|"+W.idInit.huochezhan);$(".filter-con li",this.page).removeClass("on"),[].forEach.call($(".filter-con li"),function(t){e.test($(t).attr("data-id"))&&$(t).addClass("on")});for(var i in this.optionResult)t.test(i)||(e.test(i)?this.optionResult[i].sn=[]:/n167033088745261/g.test(i)?$.each(this.optionResult[i],function(e,t){t.sn=[-1]}):this.optionResult[i].sn=[-1]);$(".list-fliter-box .condition ul li",this.page).remove(),$(".filter-btn .opt").html("条件不限"),this.ConditionRow()},renderWin:function(){var e=this;e.optionResult=null,e.optionResult=n.clone(e.trOptionResult),e.InitDataSet(e.dataListAll),e.FilterOptions(),e.InitSetOpts(e.optionResult,e.dataType),e.ConditionRow()},RedPoint:function(e){var e=e||this.optionResult,t=this,i=W.returnReg(W.idInit.juliwo+"|"+W.idInit.shangquan+"|"+W.idInit.xingzhengqu+"|"+W.idInit.ditie+"|"+W.idInit.jichang+"|"+W.idInit.huochezhan);for(var a in e)if(!i.test(a))if(e[a].sn&&!/n167033088745261/g.test(a))e[a].sn.length>0&&e[a].sn[0]!=-1?[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).addClass("have")}):[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).removeClass("have")});else if(/n167033088745261/g.test(a)){[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).removeClass("have")});for(var n in e[a])e[a][n].sn&&(e[a][n].sn.length>0&&e[a][n].sn[0]!=-1?([].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).addClass("have")}),$('.shaixuan .filter-list-subway-l [data-id="'+n+'"]').addClass("have")):$('.shaixuan .filter-list-subway-l [data-id="'+n+'"]').removeClass("have"))}},FilterOptions:function(){var e=arguments,t=this.optionResult,i=this,a=[],n=[],s=W.returnReg(W.idInit.ditie),o=W.returnReg(W.idInit.jichang),r=W.returnReg(W.idInit.buxian),l=W.returnReg(W.idInit.renshu),c=W.returnReg("n167033088745261"),d=W.returnReg(W.idInit.juliwo+"|"+W.idInit.shangquan+"|"+W.idInit.xingzhengqu+"|"+W.idInit.ditie+"|"+W.idInit.jichang+"|"+W.idInit.huochezhan+"|"+W.idInit.yanchuchangguan+"|"+W.idInit.shineijingdian+"|"+W.idInit.daxue+"|"+W.idInit.yiyuan+"|"+W.idInit.shiwaijingdian);if(e.length){if(/n167033088745261/g.test(e[0])&&/n167033088745261/g.test(e[1])){var p=e[1].split("_");t[e[0]][p[0]+"_"+p[1]].sn=t[e[0]][p[0]+"_"+p[1]].sn?t[e[0]][p[0]+"_"+p[1]].sn:[]}else t[e[0]].sn=t[e[0]].sn?t[e[0]].sn:[];var h=(t[e[0]].sn,""),u=e[e.length-1];if(1==u){if(void 0==e[0]||void 0==e[1]||void 0==e[2])return;h=/n167033088745261/g.test(e[0])?'<li data-type1="'+e[0]+'" data-type2="'+p[0]+"_"+p[1]+'" data-type3="'+e[1]+'" >'+e[2]+'<i class="icon-cross"></i></li>':'<li data-type1="'+e[0]+'" data-type2="'+e[1]+'" >'+e[2]+'<i class="icon-cross"></i></li>',setTimeout(function(){l.test(e[0])&&[].forEach.call($(".list-fliter-box .condition ul li",this.page),function(t){var i=$(t).attr("data-type1");i==e[0]&&$(t).remove()}),$(".list-fliter-box .condition ul",this.page).append($(h))},0)}else if(u==-1){if(void 0==e[0]||void 0==e[1])return;[].forEach.call($(".list-fliter-box .condition ul li",this.page),function(t){var i=$(t).attr("data-type1"),a=$(t).attr("data-type2"),n=$(t).attr("data-type3");i!=e[0]||a!=e[1]&&n!=e[1]||$(t).remove()})}else if(0==u){if(void 0==e[0])return;if(/n167033088745261/g.test(e[0])){var f=$('.shaixuan .filter-list-subway-r li.on[data-type="n167033088745261"]').attr("data-id");f=f.split("_"),f=f[0]+"_"+f[1],[].forEach.call($(".list-fliter-box .condition ul li",this.page),function(e){var t=$(e).attr("data-type2");t==f&&$(e).remove()})}else[].forEach.call($(".list-fliter-box .condition ul li",this.page),function(t){var i=$(t).attr("data-type1");i==e[0]&&$(t).remove()})}setTimeout(function(){$(".condition.bar ul")[0].scrollLeft="100000"},0)}else{for(var m in t)if("KEYWORD"!=m&&!d.test(m)){var g=[];if(s.test(m)||o.test(m)||c.test(m))for(var v in t[m])t[m][v].sn.forEach(function(e){g.push(e)});else g=t[m].sn;[].forEach.call(g,function(e){var t=i.indexObject[e];t&&!r.test(e)&&(str="",a.push('<li data-type1="'+t.oneTypeSn+'" data-type2="'+t.twoTypeSn+'" data-type3="'+(t.threeTypeSn?t.threeTypeSn:"")+'" '+str+">"+(t.threeTypeCn?t.threeTypeCn:t.twoTypeCn)+'<i class="icon-cross"></i></li>'),n.push(t.threeTypeCn?t.threeTypeCn:t.twoTypeCn))})}$(".list-fliter-box .condition ul",this.page).html(a.join("")),$(".filter-btn .opt").html(n.length?n.join("，"):"条件不限")}setTimeout(function(){$(".list-fliter-box .condition ul li").unbind("click").on("click",function(){var e=$(this),a=$(e).attr("data-type1"),n=$(e).attr("data-type2"),s=$(e).attr("data-type3"),o=$(e).attr("data-type"),l=t[a],c=[];if(e.remove(),o){for(var d in t.KEYWORD)t.KEYWORD[d]="";$(e).remove()}else a==i.dataType?([].forEach.call($(".filter-con li",i.page),function(e){var t=$(e).attr("data-id");s?t==s&&$(e).removeClass("on"):t==n&&$(e).removeClass("on")}),l.sn&&!/n167033088745261/g.test(a)?(l.sn.splice(l.sn.indexOf(n),1),l.sn.length||(l.sn=[-1],$(".filter-con li",i.page).removeClass("on"),[].forEach.call($(".filter-con li",i.page),function(e){r.test($(e).attr("data-id"))&&$(e).addClass("on")}))):(c=l[n],c.sn.splice(c.sn.indexOf(s),1),c.sn.length||(c.sn=[-1],$(".filter-con li",i.page).removeClass("on"),[].forEach.call($(".filter-con li",i.page),function(e){r.test($(e).attr("data-id"))&&$(e).addClass("on")})))):(l.sn&&l.sn.indexOf(n)>=0&&l.sn.splice(l.sn.indexOf(n),1),s&&l[n]&&l[n].sn&&l[n].sn.splice(l[n].sn.indexOf(s),1));i.ConditionRow()})},0)},ConditionRow:function(e){var e=e||this.optionResult,t=this.ConditionCount(e);t?x?($(".list-pop-fliter .condition",this.page).show(),$(".shaixuan .filter-tit",this.page).css("paddingTop","44px!important"),$(".shaixuan .list-fliter-box",this.page).css("paddingTop","0"),$(".shaixuan .filter-wrap",this.page).css("paddingTop","44px!important")):setTimeout(function(){$(".shaixuan .list-fliter-box",this.page).css("paddingTop","44px"),$(".shaixuan .filter-tit",this.page).css("paddingTop","44px")},0):x?($(".list-pop-fliter .condition",this.page).hide(),$(".shaixuan .filter-wrap",this.page).css("paddingTop","0!important"),$(".shaixuan .filter-tit",this.page).css("paddingTop","0!important")):setTimeout(function(){$(".shaixuan .list-fliter-box",this.page).css("paddingTop","0"),$(".shaixuan .filter-tit",this.page).css("paddingTop","44px")},0),this.RedPoint()},ObjectLen:function(e){if(e&&"object"==typeof e){var t=0;for(var i in e)t++;return t}return!1},FilterBtnState:function(e){var t=this.ConditionCount(e);M.arrowToggle(W.thisTabFilter,t>0?"unon":"")},GeneralOut:function(e){var t,i,a={},n=this.optionResult;this.optionFinal=JSON.parse(JSON.stringify(n)),W.FilterBtnState(e);for(var s in n)if(i="","KEYWORD"==s)for(var o in n[s]){var r=o;switch(o){case"lat":o="startlat";break;case"lng":o="startlng";break;case"typeId":o="areatype";break;case"nameCn":o="keywords"}"sn"!=o&&"keywords"!=o&&(a[o]=n[s][r])}else if(t={n174998673838874021:"areaid",n668512291742670:"areaid",n137425165725594602:"areaid",n8589076672078144546:"areaid",n167033088745261:"hotelbrandids",n1644922407691050:"personofroom",n10841369801206587:"facilityids",n1961215974699955:"themeids",n1116422458953740175:"paytype",n578028694776220107:"saletype"}[s.replace(/_\d{1,}/g,"")],"[object Array]"!=this.getType(n[s].sn)||/n167033088745261/g.test(s)){for(var l in n[s])n[s][l].sn&&(1==n[s][l].sn.length&&n[s][l].sn[0]==-1?i?i+="":i="":i?i+=","+n[s][l].sn.join(","):i=n[s][l].sn.join(","));a[t]=i}else{if(i=1==n[s].sn.length&&n[s].sn[0]==-1?"":n[s].sn.join(","),"personofroom"==t)switch(i){case"n1644922407691050_37459157021771":i=1;break;case"n1644922407691050_40771116521804":i=2;break;case"n1644922407691050_23989104821837":i=3;break;case"n1644922407691050_27425833121870":i=4;break;case"n1644922407691050_24086550221903":i=5;break;case"n1644922407691050_1061770746812359561":i=6}a[t]=i}a.datafrom="filter",a.hasOwnProperty("hotelBrandId")&&delete a.hotelBrandId,q.TypeConversion(a),x?M.pluginHide("shaixuan"):W.hide()}};S||$(".page").removeClass("individ");var G={TEMPLATE:'<div class="list-pop-fliter shaixuan '+(x?"list-weixin-component weixin-hide":"")+'"><header class="bar bar-nav flight-order-head"><a class="icon pull-left icon-back"></a><div class="title">筛选</div></header><div class="page-cont"><section class="list-fliter-box"><div class="filter-wrap"><div class="filter-tit page-content"><ul><li class="on have" data-type="pinpai">品牌</li><li data-type="renshu">人数</li><li data-type="sheshi">设施</li><li data-type="zhuti">主题</li><li data-type="zhifu">支付方式</li><li data-type="cuxiao">促销方式</li></ul></div><div class="filter-con page-content"><ul></ul></div><div class="bot-btn bar"><ul><li class="tjclick" id="filter-reset" data-tj={"cspot":"emptyFilter"}>重置</li><li class="on tjclick" id="filter-submit" data-tj={"cspot":"submitFilter"}>确定</li></ul></div></div></section></div></div>',dataType:0,optionResult:{},optionFinal:{},dateObject:{},indexObject:{},thisTabFilter:$(".list-sider .filter-btn",e),trOptionResult:null,idInit:{renshu:"n1644922407691050",tejia:"928670_1013",buxian:"976586008697853",cuxiao:"645790419_1013",juliwo:"n10000100001",shangquan:"n668512291742670",xingzhengqu:"n174998673838874021",ditie:"n137425165725594602",jichang:"n8589076672078144546",yanchuchangguan:"n19614632471045534478",shineijingdian:"n2107756300888480399",daxue:"n436688864776557",yiyuan:"n1587052200741629",sheshi:"n10841369801206587",shiwaijingdian:"n168792913890589792"},returnReg:function(e){return new RegExp(e,"g")},init:function(){var t=this;this.dataListAll=$DATA_LIST.filterList;for(var i=0,a=this.dataListAll.length;i<a;i++)if(this.dataListAll[i]&&this.dataListAll[i].sn){this.dataType=this.dataListAll[i].sn;break}this.page=$(this.TEMPLATE),x&&M.pluginCreate(this.page),$(".list-sider .filter-btn",e).off("click").on("click",function(){for(var e=!1,i=0,a=t.dataListAll.length;i<a;i++)if(t.dataListAll[i]){e=!0;break}e?x?(M.activeCompoment.shift(),M.activeCompoment.push($(this).attr("class").split(" ")[0]),M._doCleanCompoment(),M.pluginToggle("shaixuan",t.page),M.arrowToggle(t.thisTabFilter),t.renderWin()):G.show():l.alert("抱歉，暂无可用筛选项。")}),$(".page").addClass("individ"),$("#filter-reset",this.page).off("click").on("click",function(){t.ResetOperate()}),$(".list-pop-fliter .icon-back",this.page).on("click",function(){t.optionResult=JSON.parse(JSON.stringify(t.optionFinal)),t.dataReadyCallback(),G.hide()}),$("#filter-submit",this.page).on("click",function(){t.trOptionResult=null,t.trOptionResult=n.clone(t.optionResult),t.GeneralOut(t.optionResult)}),this.indexObject=$.extend(this.idIndex($DATA_LIST.filterList),this.idIndex($DATA_LIST.areaList))},beforeShow:function(){$('.list-fliter-box .filter-tit li[data-id="'+this.dataType+'"]').addClass("on")},afterShow:function(){G.filterHei()},filterHei:function(){$(".list-fliter-box .filter-con",this.page).height($(".list-pop-fliter",this.page).height())},getType:function(e){return Object.prototype.toString.call(e)},idIndex:function(e){var t={},i="subFilterInfoEntities",a=this;return[].forEach.call(e,function(e){var n={};e&&(n.oneTypeSn=e.sn,n.oneTypeCn=e.nameCn,n.typeId=e.typeId,e[i]&&"[object Array]"==a.getType(e[i])&&e[i].length&&[].forEach.call(e[i],function(e){var s={};s.twoTypeSn=e.sn,s.twoTypeCn=e.nameCn,s.typeId=e.typeId,e[i]&&"[object Array]"==a.getType(e[i])&&e[i].length?[].forEach.call(e[i],function(e){var i={};i.threeTypeSn=e.sn,i.threeTypeCn=e.nameCn,t[i.threeTypeSn]=$.extend(!0,{},n,s,i)}):t[s.twoTypeSn]=$.extend(!0,{},n,s)}))}),t},uptoTimeOps:function(e,t){var i=this.TimeFormat,a=i($DATA_LIST.today),n=this.optionResult;G.returnReg(G.idInit.buxian),G.returnReg(G.idInit.tejia),G.returnReg(G.idInit.juliwo+"|"+G.idInit.shangquan+"|"+G.idInit.xingzhengqu+"|"+G.idInit.ditie+"|"+G.idInit.jichang+"|"+G.idInit.huochezhan+"|"+G.idInit.yanchuchangguan+"|"+G.idInit.shineijingdian+"|"+G.idInit.daxue+"|"+G.idInit.yiyuan+"|"+G.idInit.shiwaijingdian);return i(e)==a&&i(t)==a+864e5||n[G.idInit.cuxiao]&&(n[G.idInit.cuxiao].sn.indexOf(G.idInit.tejia)>-1&&n[G.idInit.cuxiao].sn.splice(n[G.idInit.cuxiao].sn.indexOf(G.idInit.tejia),1),this.optionResult=n,this.optionFinal=JSON.parse(JSON.stringify(n))),this.optionResult},FilterChoose:function(e){var t=this,e=e||this.optionResult,i=$(".filter-con li",this.page);this.FindSet(this.dataListAll,this.dataType);$(".shaixuan .filter-con").off("click","li span").on("click","li span",function(){var a=$(this).attr("data-id"),n=$(this).attr("data-type"),s=$(this).hasClass("geton")?1:0,o=G.returnReg(G.idInit.renshu),r=G.returnReg(G.idInit.buxian),c=/^n167033088745261_\d+$/,d="n167033088745261",p=[];if(c.test(a)){$(this).siblings("li").removeClass("on"),$(this).addClass("on");var h,u=null,f=[];e[d]&&e[d][a]&&e[d][a].sn&&(f=f.concat(e[d][a].sn)),[].forEach.call($DATA_LIST.filterList,function(e){e.sn==d&&(h=e.subFilterInfoEntities)}),[].forEach.call(h,function(e){e.sn==a&&(u=e.subFilterInfoEntities)}),[].forEach.call(u,function(e){f.indexOf(e.sn)!=-1?p.push('<li class="on" data-id="'+e.sn+'" data-type="'+d+'">'+e.nameCn+'<i class="checkbox"></i></li>'):!/976586008697853/g.test(e.sn)||0!=f.length&&f[0]!=-1?p.push('<li data-id="'+e.sn+'" data-type="'+d+'">'+e.nameCn+'<i class="checkbox"></i></li>'):p.push('<li class="on" data-id="'+e.sn+'" data-type="'+d+'">'+e.nameCn+'<i class="checkbox"></i></li>')}),$(".filter-con .filter-list-subway-r",this.page).html(p.join(""))}else{if(i=/n167033088745261/g.test(n)?$(".shaixuan .filter-list-subway-r li",this.page):$(".filter-con li span",this.page),o.test(n))$(this).toggleClass("geton"),
$(this).siblings().removeClass("geton"),s?(e[n].sn=[],t.FilterOptions(t.dataType,a,-1)):(e[n]=e[n]?e[n]:{},e[n].sn=e[n].sn?e[n].sn:[],e[n].sn=[a],t.FilterOptions(t.dataType,a,$(this).text(),1));else{if(/n167033088745261/g.test(n)){e[n]=e[n]?e[n]:{};var m=a.split("_");e[n][m[0]+"_"+m[1]]=e[n][m[0]+"_"+m[1]]?e[n][m[0]+"_"+m[1]]:{},e[n][m[0]+"_"+m[1]].sn=e[n][m[0]+"_"+m[1]].sn?e[n][m[0]+"_"+m[1]].sn:[];var g=e[n][m[0]+"_"+m[1]].sn}else{e[n]=e[n]?e[n]:{},e[n].sn=e[n].sn?e[n].sn:[];var g=e[n].sn}if(g.indexOf(-1)>=0&&g.splice(g.indexOf(-1),1),s)g.indexOf(a)>=0&&g.splice(g.indexOf(a),1),$(this).removeClass("geton"),g.length<=0&&[].forEach.call(i,function(t,i){r.test($(t).attr("data-id"))&&($(t).addClass("on"),e[n].sn=[-1])}),t.FilterOptions(t.dataType,a,-1);else{var v=t.ConditionCount(e);v>=10?l.alert("亲，您最多只能选择10项"):(g.push(a),t.FilterOptions(t.dataType,a,$(this).text(),1),$(this).addClass("geton"))}}t.RedPoint()}})},FormatSelect:function(e){var t={};return[].forEach.call(e,function(e){t[e.sn]={},t[e.sn].sn=[],[].forEach.call(e.subFilterInfoEntities,function(i){t[e.sn].sn.push(i.sn)})}),t},FindSet:function(e,t){var i=!1,a={};return i||[].forEach.call(e,function(e){e&&e.sn==t&&(i=!0,a=e)}),a},ConditionCount:function(e){var t=0,i=this,a=G.returnReg(G.idInit.juliwo+"|"+G.idInit.shangquan+"|"+G.idInit.xingzhengqu+"|"+G.idInit.ditie+"|"+G.idInit.jichang+"|"+G.idInit.huochezhan+"|"+G.idInit.yanchuchangguan+"|"+G.idInit.shineijingdian+"|"+G.idInit.daxue+"|"+G.idInit.yiyuan+"|"+G.idInit.shiwaijingdian),n=function(e){for(var s in e)a.test(s)||("[object Object]"==i.getType(e[s])?n(e[s]):"[object Array]"==i.getType(e[s])&&e[s].length>0&&e[s][0]!=-1&&(t+=e[s].length));return t};return n(e),t},InitDataSet:function(t,i){var a=this,n=[],s=[],i=i||this.optionResult;[].forEach.call(a.dataListAll,function(e,t){e&&s.push(e)}),[].forEach.call(s,function(e,t){0==t?(a.dataType=e.sn,n.push('<li data-id="'+e.sn+'" class="on">'+("设施"===e.nameCn?"设施服务":e.nameCn)+"</li>")):n.push('<li data-id="'+e.sn+'">'+("设施"===e.nameCn?"设施服务":e.nameCn)+"</li>")}),a.CheckboxStyle(),$(".filter-tit ul",this.page).html(n.join(""));var o=$(".filter-tit ul",this.page);o.find('li[data-id="n167033088745261"]').length>0&&o.find('li[data-id="n167033088745261"]').addClass("tjclick").attr("data-tj",'{"cspot":"hotelBrand"}'),o.find('li[data-id="n10841369801206587"]').length>0&&o.find('li[data-id="n10841369801206587"]').addClass("tjclick").attr("data-tj",'{"cspot":"facilityService"}'),o.find('li[data-id="n1961215974699955"]').length>0&&o.find('li[data-id="n1961215974699955"]').addClass("tjclick").attr("data-tj",'{"cspot":"hotelTheme"}'),this.InitMenu(t,this.dataType),$(".filter-tit ul li",this.page).on("click",function(){$(".filter-con",e).scrollTop(0);var n=$(this).attr("data-id");a.dataType=n,a.InitMenu(t,n,i),a.CheckboxStyle(),$(this).siblings().removeClass("on"),$(this).addClass("on"),a.InitSetOpts(i,a.dataType)})},TimeFormat:function(e,t){e=/\d{10,}/.test(e)?parseInt(e):e;var i=new Date(e),a=i.getFullYear(),n=i.getMonth()+1,s=i.getDate();return new Date(a,n,s).getTime()},InitMenu:function(e,t,i){var a=this,n=a.TimeFormat,s=[],o=[],r=[],l=[];serviceContent=[],facilityContent=[],dt=this.dateObject,showspe=!0,today=n($DATA_LIST.today),flag=!1,bedType=["双床","大床"],service=["叫醒服务","行李寄存","免费接机服务","提供发票"],facility=["免费wifi","会议设施","免费停车","餐厅","室外游泳池","健身中心","室内游泳池"],buxianReg=G.returnReg(G.idInit.buxian),cuxiaoReg=G.returnReg(G.idInit.cuxiao),sheshiReg=G.returnReg(G.idInit.sheshi),tejiaReg=G.returnReg(G.idInit.tejia),tejiaid=G.idInit.tejia;for(var c=0,d=e.length;c<d;c++)if(e[c]){flag=!0;break}if(flag){if(o=this.FindSet(e,t).subFilterInfoEntities,o[0].subFilterInfoEntities)$(".filter-con",this.page).html('<ul class="filter-list-subway-l page-content"></ul><ul class="filter-list-subway-r filter-list-check page-content"></ul>'),[].forEach.call(o,function(e,i){[].forEach.call(e.subFilterInfoEntities,function(e,i){buxianReg.test(e.sn)||r.push('<span data-id="'+e.sn+'" data-type="'+t+'">'+e.nameCn+"</span>")}),s.push('<li data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+"（可多选）<p>"+r.join(" ")+"</p></li>"),r.length=0}),$(".filter-con .filter-list-subway-l",this.page).html(s.join(""));else if(sheshiReg.test(o[0].sn)){var p="";[].forEach.call(o,function(e,i){buxianReg.test(e.sn)||($.inArray(e.nameCn,bedType)>=0&&l.push('<span data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+"</span>"),$.inArray(e.nameCn,service)>=0&&serviceContent.push('<span data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+"</span>"),$.inArray(e.nameCn,facility)>=0&&facilityContent.push('<span data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+"</span>"))}),serviceContent.length&&(p+="<li>酒店服务（可多选）<p>"+serviceContent.join("")+"</p></li>"),facilityContent.length&&(p+="<li>酒店设施（可多选）<p>"+facilityContent.join("")+"</p></li>"),l.length&&(p+="<li>床型（可多选）<p>"+l.join("")+"</p></li>"),$(".filter-con",this.page).html('<ul class="filter-list-subway-l page-content">'+p+"</ul>")}else[].forEach.call(o,function(e,i){("n578028694776220107_3"!=e.sn||$DATA_LIST.dragonFlag)&&(buxianReg.test(e.sn)||(e.sn==tejiaid?n(dt.indate)==today&&n(dt.outdate)==today+864e5&&s.push('<span data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+"</span>"):s.push('<span data-id="'+o[i].sn+'" data-type="'+t+'">'+o[i].nameCn+"</span>")))}),$(".filter-con",this.page).html('<ul class="filter-list-subway-l page-content"><li>（可多选）<p></p></li></ul>'),$(".filter-con li p",this.page).html(s.join(""));G.FilterChoose(i)}},CheckboxStyle:function(){},InitSetOpts:function(e,t){if(e&&"object"==typeof e&&e[t])if(e[t].sn)for(var i=(e[t]?e[t]:{},e[t].sn?e[t].sn:[]),a=$(".filter-con li span",this.page),n=0,s=i.length;n<s;n++)[].forEach.call(a,function(e,t){$(e).attr("data-id")===i[n]&&$(e).addClass("geton")});else{var o=!0;for(var n in e[t])for(var i=e[t][n].sn?e[t][n].sn:[],a=$(".filter-con li span",this.page),r=0,s=i.length;r<s;r++)[].forEach.call(a,function(e,t){$(e).attr("data-id")===i[r]&&$(e).addClass("geton")&&(o=!1)})}this.RedPoint()},getType:function(e){return Object.prototype.toString.call(e)},receiveConditions:function(e,t,i,a){var s=this,o={};if(s.optionResult={},e&&"[object Array]"==this.getType(e)&&e.length>=1&&""!=e[0]&&[].forEach.call(e,function(e){var t=s.indexObject[e];if(t){var i=t.oneTypeSn,a=t.twoTypeSn,n=t.threeTypeSn;o[i]=o[i]?o[i]:{},n?(o[i][a]=o[i][a]?o[i][a]:{},o[i][a].sn=o[i][a].sn?o[i][a].sn:[],o[i][a].sn.push(e)):(o[i].sn=o[i].sn?o[i].sn:[],o[i].sn.push(e))}}),t&&"[object String]"==this.getType(t)){var r=s.indexObject[t];if(r){var l=r.oneTypeSn,c=r.twoTypeSn,d=r.threeTypeSn;o[l]=o[l]?o[l]:{},d?(o[l][c]=o[l][c]?o[l][c]:{},o[l][c].sn=o[l][c].sn?o[l][c].sn:[],o[l][c].sn.push(t)):(o[l].sn=o[l].sn?o[l].sn:[],o[l].sn.push(t))}}i&&"[object Object]"==this.getType(i)&&(o.KEYWORD=i),this.dateObject=a,this.optionResult=o,this.trOptionResult=n.clone(this.optionResult),this.optionFinal=JSON.parse(JSON.stringify(o)),this.dataReadyCallback(o)},dataReadyCallback:function(e){var t=this,e=e||this.optionResult;this.FilterBtnState(this.optionResult),this.InitDataSet(this.dataListAll),this.FilterOptions(),this.InitSetOpts(e,this.dataType),this.ConditionRow(),setTimeout(function(){$("#filter-reset",t.page).on("click",function(){t.ResetOperate()})},0)},SetDefaultSelection:function(e,t){e.indexOf("不限")<0&&[].forEach.call(t,function(e,t){"不限"===$(e).text()&&$(e).removeClass("on")})},ResetOperate:function(){var e=G.returnReg(G.idInit.buxian),t=G.returnReg(G.idInit.juliwo+"|"+G.idInit.shangquan+"|"+G.idInit.xingzhengqu+"|"+G.idInit.ditie+"|"+G.idInit.jichang+"|"+G.idInit.huochezhan);$(".filter-con li",this.page).removeClass("on"),$(".filter-con li span",this.page).removeClass("geton");for(var i in this.optionResult)t.test(i)||(e.test(i)?this.optionResult[i].sn=[]:/n167033088745261/g.test(i)?$.each(this.optionResult[i],function(e,t){t.sn=[-1]}):this.optionResult[i].sn=[-1]);this.RedPoint()},renderWin:function(){var e=this;e.optionResult=null,e.optionResult=n.clone(e.trOptionResult),e.InitDataSet(e.dataListAll),e.FilterOptions(),e.InitSetOpts(e.optionResult,e.dataType)},RedPoint:function(e){var e=e||this.optionResult,t=this,i=G.returnReg(G.idInit.juliwo+"|"+G.idInit.shangquan+"|"+G.idInit.xingzhengqu+"|"+G.idInit.ditie+"|"+G.idInit.jichang+"|"+G.idInit.huochezhan);for(var a in e)if(!i.test(a))if(e[a].sn&&!/n167033088745261/g.test(a))e[a].sn.length>0&&e[a].sn[0]!=-1?[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).addClass("have")}):[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).removeClass("have")});else if(/n167033088745261/g.test(a)){[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).removeClass("have")});for(var n in e[a])e[a][n].sn&&e[a][n].sn.length>0&&e[a][n].sn[0]!=-1&&[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==a&&$(e).addClass("have")})}},FilterOptions:function(){var e=arguments,t=this.optionResult,i=this,a=[],n=[],s=G.returnReg(G.idInit.ditie),o=G.returnReg(G.idInit.jichang),r=G.returnReg(G.idInit.buxian),l=(G.returnReg(G.idInit.renshu),G.returnReg("n167033088745261")),c=G.returnReg(G.idInit.juliwo+"|"+G.idInit.shangquan+"|"+G.idInit.xingzhengqu+"|"+G.idInit.ditie+"|"+G.idInit.jichang+"|"+G.idInit.huochezhan+"|"+G.idInit.yanchuchangguan+"|"+G.idInit.shineijingdian+"|"+G.idInit.daxue+"|"+G.idInit.yiyuan+"|"+G.idInit.shiwaijingdian);if(e.length){if(/n167033088745261/g.test(e[0])&&/n167033088745261/g.test(e[1])){var d=e[1].split("_");t[e[0]][d[0]+"_"+d[1]].sn=t[e[0]][d[0]+"_"+d[1]].sn?t[e[0]][d[0]+"_"+d[1]].sn:[]}else t[e[0]].sn=t[e[0]].sn?t[e[0]].sn:[];var p=(t[e[0]].sn,""),h=e[e.length-1];if(1==h){if(void 0==e[0]||void 0==e[1]||void 0==e[2])return;p=/n167033088745261/g.test(e[0])?'<li data-type1="'+e[0]+'" data-type2="'+d[0]+"_"+d[1]+'" data-type3="'+e[1]+'" >'+e[2]+'<i class="icon-cross"></i></li>':'<li data-type1="'+e[0]+'" data-type2="'+e[1]+'" >'+e[2]+'<i class="icon-cross"></i></li>'}else if(h==-1){if(void 0==e[0]||void 0==e[1])return;[].forEach.call($(".list-fliter-box .condition ul li",this.page),function(t){var i=$(t).attr("data-type1"),a=$(t).attr("data-type2"),n=$(t).attr("data-type3");i!=e[0]||a!=e[1]&&n!=e[1]||$(t).remove()})}else if(0==h){if(void 0==e[0])return;if(/n167033088745261/g.test(e[0])){var u=$('.shaixuan .filter-list-subway-r li.on[data-type="n167033088745261"]').attr("data-id");u=u.split("_"),u=u[0]+"_"+u[1],[].forEach.call($(".list-fliter-box .condition ul li",this.page),function(e){var t=$(e).attr("data-type2");t==u&&$(e).remove()})}else[].forEach.call($(".list-fliter-box .condition ul li",this.page),function(t){var i=$(t).attr("data-type1");i==e[0]&&$(t).remove()})}}else{for(var f in t)if("KEYWORD"!=f&&!c.test(f)){var m=[];if(s.test(f)||o.test(f)||l.test(f))for(var g in t[f])t[f][g].sn.forEach(function(e){m.push(e)});else m=t[f].sn;[].forEach.call(m,function(e){var t=i.indexObject[e];t&&!r.test(e)&&(str="",a.push('<li data-type1="'+t.oneTypeSn+'" data-type2="'+t.twoTypeSn+'" data-type3="'+(t.threeTypeSn?t.threeTypeSn:"")+'" '+str+">"+(t.threeTypeCn?t.threeTypeCn:t.twoTypeCn)+'<i class="icon-cross"></i></li>'),n.push(t.threeTypeCn?t.threeTypeCn:t.twoTypeCn))})}$(".list-fliter-box .condition ul",this.page).html(a.join("")),$(".filter-btn .opt").html(n.length?n.join("，"):"条件不限")}},ConditionRow:function(e){},ObjectLen:function(e){if(e&&"object"==typeof e){var t=0;for(var i in e)t++;return t}return!1},FilterBtnState:function(e){var t=this.ConditionCount(e);M.arrowToggle(G.thisTabFilter,t>0?"unon":"")},GeneralOut:function(e){var t,i,a={},n=this.optionResult;this.optionFinal=JSON.parse(JSON.stringify(n)),G.FilterBtnState(e);for(var s in n)if(i="","KEYWORD"==s)for(var o in n[s]){var r=o;switch(o){case"lat":o="startlat";break;case"lng":o="startlng";break;case"typeId":o="areatype";break;case"nameCn":o="keywords"}"sn"!=o&&"keywords"!=o&&(a[o]=n[s][r])}else if(t={n174998673838874021:"areaid",n668512291742670:"areaid",n137425165725594602:"areaid",n8589076672078144546:"areaid",n167033088745261:"hotelbrandids",n1644922407691050:"personofroom",n10841369801206587:"facilityids",n1961215974699955:"themeids",n1116422458953740175:"paytype",n578028694776220107:"saletype"}[s.replace(/_\d{1,}/g,"")],"[object Array]"!=this.getType(n[s].sn)||/n167033088745261/g.test(s)){for(var c in n[s])n[s][c].sn&&(1==n[s][c].sn.length&&n[s][c].sn[0]==-1?i?i+="":i="":i?i+=","+n[s][c].sn.join(","):i=n[s][c].sn.join(","));a[t]=i}else{if(i=1==n[s].sn.length&&n[s].sn[0]==-1?"":n[s].sn.join(","),"personofroom"==t)switch(i){case"n1644922407691050_37459157021771":i=1;break;case"n1644922407691050_40771116521804":i=2;break;case"n1644922407691050_23989104821837":i=3;break;case"n1644922407691050_27425833121870":i=4;break;case"n1644922407691050_24086550221903":i=5;break;case"n1644922407691050_1061770746812359561":i=6}a[t]=i}a.datafrom="filter",a.hasOwnProperty("hotelBrandId")&&delete a.hotelBrandId;var d=!!a.facilityids&&a.facilityids.split(",").length||0,p=!!a.hotelbrandids&&a.hotelbrandids.split(",").length||0,h=!!a.themeids&&a.themeids.split(",").length||0;return d+p+h>10?void l.alert("亲，您最多只能选择10项"):(q.TypeConversion(a),void(x?M.pluginHide("shaixuan"):G.hide()))}},V={TEMPLATE:'<div class="list-pop-fliter list-pop-area '+(x?"list-weixin-component weixin-hide":"")+'"><header class="bar bar-nav flight-order-head"><a class="icon pull-left icon-back"></a><div class="title">区域位置</div></header><div class="page-cont"><section class="list-fliter-box"><div class="filter-wrap"><div class="filter-tit page-content"><ul><li class="on have" data-type="pinpai">商圈</li><li data-type="renshu">行政区</li><li data-type="sheshi">地铁</li><li data-type="zhuti">机场/车站</li></ul></div><div class="filter-con"><ul class="filter-list-radio page-content"><li class="on">不限<i class="checkbox"></i></li><li>7天<i class="checkbox"></i></li><li>汉庭<i class="checkbox"></i></li><li>如家<i class="checkbox"></i></li><li>7天<i class="checkbox"></i></li><li>汉庭<i class="checkbox"></i></li><li>如家<i class="checkbox"></i></li><li>7天<i class="checkbox"></i></li><li>汉庭<i class="checkbox"></i></li><li>如家<i class="checkbox"></i></li><li>7天<i class="checkbox"></i></li><li>汉庭<i class="checkbox"></i></li><li>如家<i class="checkbox"></i></li><li>7天<i class="checkbox"></i></li><li>汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭汉庭<i class="checkbox"></i></li><li>如家<i class="checkbox"></i></li><li>7天<i class="checkbox"></i></li><li>汉庭<i class="checkbox"></i></li><li>如家<i class="checkbox"></i></li><li>7天<i class="checkbox"></i></li><li>汉庭<i class="checkbox"></i></li><li>如家<i class="checkbox"></i></li></ul></div><div class="bot-btn bar"><ul><li class="tjclick" id="filter-reset" data-tj={"cspot":"emptyHotelposition"}>重置</li><li class="on tjclick" id="filter-submit"  data-tj={"cspot":"submitHotelposition"}>确定</li></ul></div></div></section></div></div>',dataListAll:[],dataType:5,dataSubType:"Line1_6",dataTypeId:0,InitOptions:[],optionResult:{},optionFinal:{},indexObject:{},idInit:{renshu:"n1644922407691050",tejia:"928670_1013",buxian:"976586008697853",cuxiao:"n578028694776220107",juliwo:"n10000100001",shangquan:"n668512291742670",xingzhengqu:"n174998673838874021",ditie:"n137425165725594602",ditieall:"n137425165725594602",jichang:"n8589076672078144546",jichangall:"n8589076672078144546"},thisTabArea:$(".list-sider .area-btn",e),trOptionResult:null,returnReg:function(e){return new RegExp(e,"g")},init:function(){var t=this;this.page=$(this.TEMPLATE),x&&M.pluginCreate(this.page),$(".list-sider .area-btn",e).on("click",function(){var e=!1;x&&(M.activeCompoment.shift(),M.activeCompoment.push($(this).attr("class").split(" ")[0]),M._doCleanCompoment());for(var i=0,a=$DATA_LIST.areaList.length;i<a;i++)if($DATA_LIST.areaList[i]){e=!0;break}e?(t.renderWin(),x?(M.pluginToggle("list-pop-area",this.page),M.arrowToggle(t.thisTabArea)):V.show()):l.alert("抱歉，暂无可用位置区域信息。")}),$(".list-pop-area .icon-back",this.page).on("click",function(){t.optionResult=JSON.parse(JSON.stringify(t.optionFinal)),t.reveiceCallback(t.optionResult),V.hide()}),$("#filter-reset",this.page).on("click",function(){V.resetAll()}),$("#filter-submit",this.page).on("click",function(){$(".title .city",e).html($DATA_LIST.city.cityName),t.trOptionResult=null,t.trOptionResult=n.clone(t.optionResult),V.generalDate(),x?M.pluginHide("list-pop-area"):V.hide()}),this.indexObject=$.extend(this.idIndex($DATA_LIST.filterList),this.idIndex($DATA_LIST.areaList))},afterShow:function(){V.areaHei()},areaHei:function(){$(".list-fliter-box .filter-con",this.page).height($(".list-pop-fliter",this.page).height())},receiveConditions:function(e){var t=this.indexObject[e],i={};if(e&&t){t.threeTypeSn?(i[t.oneTypeSn]={},i[t.oneTypeSn][t.twoTypeSn]={},i[t.oneTypeSn][t.twoTypeSn].sn=t.threeTypeSn,i[t.oneTypeSn][t.twoTypeSn].typeId=t.typeId):(i[t.oneTypeSn]={},i[t.oneTypeSn].sn=t.twoTypeSn,i[t.oneTypeSn].typeId=t.typeId);var a=this.indexObject[e];a=a.threeTypeSn?a.threeTypeCn:a.twoTypeCn,$(".area-btn p.tit span.title-phone").html(a.length>3?a.substring(0,3)+"...":a),$(".area-btn p.opt").html(a),M.arrowToggle(this.thisTabArea,"unon")}else i={},$(".area-btn p.tit span").html("区域位置"),M.arrowToggle(this.thisTabArea,"");this.optionResult=i,this.trOptionResult=n.clone(this.optionResult),this.optionFinal=JSON.parse(JSON.stringify(i)),this.reveiceCallback(i)},reveiceCallback:function(e){this.dataListAll=$DATA_LIST.areaList;var t,i,a,n;for(i=0,a=$DATA_LIST.areaList.length;i<a;i++)if($DATA_LIST.areaList[i]){t=$DATA_LIST.areaList[i].sn;break}if(this.ObjectLen(e))for(var s in e){if(!this.isThreeMenu($DATA_LIST.areaList,s)){n=e[s].sn;break}for(var o in e[s]){n=e[s][o].sn;break}}this.dataType=n?this.indexObject[n].oneTypeSn:t,this.initDataSet($DATA_LIST.areaList)},FindSet:function(e,t){var i=!1,a={};return i||[].forEach.call(e,function(e){e&&e.sn==t&&(i=!0,a=e)}),a},getType:function(e){return Object.prototype.toString.call(e)},idIndex:function(e){var t={},i="subFilterInfoEntities",a=this;return e&&[].forEach.call(e,function(e){var n={};e&&(n.oneTypeSn=e.sn,n.oneTypeCn=e.nameCn,n.typeId=e.typeId,e[i]&&"[object Array]"==a.getType(e[i])&&e[i].length&&[].forEach.call(e[i],function(e){var s={};s.twoTypeSn=e.sn,s.twoTypeCn=e.nameCn,s.typeId=e.typeId,e[i]&&"[object Array]"==a.getType(e[i])&&e[i].length?[].forEach.call(e[i],function(e){var i={};i.threeTypeSn=e.sn,i.threeTypeCn=e.nameCn,t[i.threeTypeSn]=$.extend(!0,{},n,s,i)}):t[s.twoTypeSn]=$.extend(!0,{},n,s)}))}),t},isThreeMenu:function(e,t){var i=!0;return[].forEach.call(e,function(e){i&&e&&e.sn==t&&[].forEach.call(e.subFilterInfoEntities,function(e){e.subFilterInfoEntities&&(i=!1)})}),!i},thirdMenuBind:function(e,t,i){var a=this;setTimeout(function(){e.unbind("click").on("click",function(){var e=(V.returnReg(V.idInit.buxian),$(this).index()),n=$(this).attr("data-id"),s=$(this).attr("data-typeid");a.dataSubType=n,$(this).addClass("on"),$(this).siblings().removeClass("on"),e?(a.optionResult={},a.optionResult[t]={},a.optionResult[t][i]={},a.optionResult[t][i].sn=n,a.optionResult[t][i].typeId=s):a.optionResult={},a.RedPoint()})},0)},areaChoose:function(e){var t,i,a=this;this.isThreeMenu($DATA_LIST.areaList,a.dataType)?(t=$(".filter-con .filter-list-subway-l li",a.page),i=$(".filter-con .filter-list-subway-r li",a.page),t.unbind("click").on("click",function(){var t=$(this).attr("data-id");a.dataSubType=t,$(this).addClass("on"),$(this).siblings().removeClass("on");var n=a.FindSet(e.subFilterInfoEntities,t).subFilterInfoEntities;a.InitMenu(n,$(".filter-con .filter-list-subway-r",a.page)),a.RedPoint(),a.thirdMenuBind(i,e.sn,a.dataSubType)}),a.thirdMenuBind(i,e.sn,a.dataSubType)):(t=$(".filter-con li",this.page),t.unbind("click").on("click",function(){var t=V.returnReg(V.idInit.buxian),i=$(this).attr("data-id"),n=$(this).attr("data-typeid");$(this).hasClass("on")?1:0;$(this).addClass("on"),$(this).siblings().removeClass("on"),t.test(i)?a.optionResult={}:(a.optionResult={},a.optionResult[e.sn]={},a.optionResult[e.sn].sn=i,a.optionResult[e.sn].typeId=n),a.RedPoint()}))},initSetOpts:function(e,t){if(e&&"object"==typeof e){var i=e[t]?e[t]:{},a=!0,n=this;V.returnReg(V.idInit.buxian);for(var s in i){a=!1;break}if(this.isThreeMenu(this.dataListAll,this.dataType))if(a)[].forEach.call($(".filter-con .filter-list-subway-l li",this.page),function(e,t){$(e).attr("data-id")==n.dataSubType&&($(e).siblings().removeClass("on"),$(e).addClass("on"))}),$($(".filter-con .filter-list-subway-r li",this.page)[0]).addClass("on").siblings().removeClass("on");else{var o,r;for(var s in i){if(!s)return;o=s}r=i[o].sn,[].forEach.call($(".filter-con .filter-list-subway-l li",this.page),function(e){$(e).attr("data-id")==n.dataSubType&&($(e).siblings().removeClass("on"),$(e).addClass("on"))}),[].forEach.call($(".filter-con .filter-list-subway-r li",this.page),function(e){$(e).attr("data-id")==r&&($(e).siblings().removeClass("on"),$(e).addClass("on"))})}else if(a)$($(".filter-con li",this.page)[0]).addClass("on").siblings().removeClass("on");else{var l=e[t].sn,c=$(".filter-con li",this.page);c.removeClass("on"),[].forEach.call(c,function(e,t){$(e).attr("data-id")==l&&$(e).addClass("on")})}this.RedPoint()}},buildSubMenu:function(e,t){for(var i=this,a="subFilterInfoEntities",n=!1,s=V.returnReg(t),o=(V.idInit.ditieall,V.idInit.jichangall,0),r=e.length;o<r;o++)if(e[o]){n=!0;break}if(n){if(i.isThreeMenu(e,t)){if($(".filter-con",i.page).removeClass("page-content"),i.optionResult[t])for(var o in i.optionResult[t]){i.dataSubType=o;break}else[].forEach.call($DATA_LIST.areaList,function(e){e&&s.test(e.sn)&&(i.dataSubType=e[a][0].sn)});$(".list-pop-area .filter-con",i.page).html('<ul class="filter-list-subway-l page-content"></ul><ul class="filter-list-subway-r page-content"></ul>'),i.InitMenu(i.FindSet(e,t)[a],$(".filter-con .filter-list-subway-l",i.page)),i.InitMenu(i.FindSet(i.FindSet(e,t)[a],i.dataSubType)[a],$(".filter-con .filter-list-subway-r",i.page))}else $(".list-pop-area .filter-con",i.page).html('<ul class="filter-list-radio page-content"></ul>'),i.InitMenu(i.FindSet(e,t)[a]),$(".filter-con",i.page).addClass("page-content");setTimeout(function(){i.initSetOpts(i.optionResult,i.dataType)},0)}},initDataSet:function(t){var i=this,a=[];[].forEach.call(t,function(e,t){e&&(e.sn==i.dataType?a.push('<li data-id="'+e.sn+'" class="on">'+e.nameCn+"</li>"):a.push('<li data-id="'+e.sn+'">'+e.nameCn+"</li>"))}),$(".list-pop-area .filter-con",i.page).html('<ul class="filter-list-radio page-content"></ul>'),$(".filter-tit ul",this.page).html(a.join("")),this.buildSubMenu($DATA_LIST.areaList,this.dataType),$(".filter-tit ul li",this.page).on("click",function(){$(".filter-con",e).scrollTop(0);var i=$(this).attr("data-id");V.dataType=i,V.buildSubMenu(t,i),$(this).siblings().removeClass("on"),$(this).addClass("on"),V.initSetOpts(V.optionResult,V.dataType)})},InitMenu:function(e,t){var i=[],a=e,n=this,t=t||$(".filter-con ul",this.page),s=V.returnReg(V.idInit.buxian);[].forEach.call(a,function(e,t){e&&(s.test(e.sn)?i.push('<li class="on" data-id="'+a[t].sn+'" data-typeid="'+a[t].typeId+'">'+a[t].nameCn+'<i class="checkbox"></i></li>'):0==t?i.push('<li class="on" data-id="'+a[t].sn+'" data-typeid="'+a[t].typeId+'">'+a[t].nameCn+'<i class="checkbox"></i></li>'):i.push('<li data-id="'+a[t].sn+'" data-typeid="'+a[t].typeId+'">'+a[t].nameCn+'<i class="checkbox"></i></li>'))}),$(t).html(i.join("")),setTimeout(function(){n.initSetOpts(n.optionResult,n.dataType)},0),this.areaChoose(this.FindSet($DATA_LIST.areaList,this.dataType));var o=$('.filter-tit ul li[data-id="n10000100001"]'),r=$('.filter-con ul li[data-typeid="100001"]');r.length&&(o.attr("data-tj",'{"cspot":"aroundme"}').addClass("tjclick"),$.each(r,function(e,t){$(t).attr("data-tj",'{"cspot":"aroundme'+e+'"}').addClass("tjclick")}))},ObjectLen:function(e){if(e&&"object"==typeof e){var t=0;for(var i in e)t++;return t}return!1},RedPoint:function(){var e=this.optionResult,t=this;if(this.ObjectLen(e))for(var i in e)$(".filter-tit ul li",t.page).removeClass("have"),[].forEach.call($(".filter-tit ul li",t.page),function(e){$(e).attr("data-id")==i&&$(e).addClass("have")});else $(".filter-tit ul li",t.page).removeClass("have")},resetAll:function(){V.returnReg(V.idInit.buxian),V.returnReg(V.idInit.ditie);this.optionResult=null,this.initSetOpts({},this.dataSubType),$(".filter-tit ul li",this.page).removeClass("have"),$(".area-btn .opt").html("区域位置不限"),this.RedPoint()},renderWin:function(){var e=this;e.optionResult=null,e.optionResult=n.clone(e.trOptionResult),e.initSetOpts(e.optionResult,e.dataType),$(".filter-tit ul li",this.page).addClass("have"),e.RedPoint()},generalDate:function(){var e,t=this.optionResult,i=!0,a={};this.optionFinal=JSON.parse(JSON.stringify(t));for(var n in t){e=n,i=!1;break}if(i)a.areaid="",a.areatype="";else{var s=this.isThreeMenu(this.dataListAll,e);for(var n in t)if(s)for(var o in t[n])a.areaid=t[n][o].sn,a.areatype=t[n][o].typeId;else a.areaid=t[n].sn,a.areatype=t[n].typeId}if(a.areaid){var r=this.indexObject[a.areaid];if(r=r.threeTypeSn?r.threeTypeCn:r.twoTypeCn,$(".area-btn .opt").html(r),$(".area-btn p.tit span.title-phone").html(r.length>3?r.substring(0,3)+"...":r),a.keywords="",a.startlat="",a.startlng="","100001"==a.areatype){var l=!!localStorage.getItem("_historyDatas")&&JSON.parse(localStorage.getItem("_historyDatas"))||{};a.startlat=l.cityLat||"",a.startlng=l.cityLng||""}a.hotelname="",a.placename=r}else a.placename="",$(".area-btn .opt").html("区域位置不限"),$(".area-btn p.tit span").html("区域位置"),M.arrowToggle(this.thisTabArea,"");a.fromqywz=1,q.TypeConversion(a)}};ctrlbtn={Init:function(){$(e).on("click",".list-ctrlbtn .icon-ctrlbtn",function(){$(this).parent().toggleClass("list-ctrlbtn-on")})}},b.config({searchText:$(".search-field .sea-box",e),cityId:$DATA_LIST.city.cityId,subPath:C,Num:3,isWEIXIN:x,selectData:function(e,t){""!=t.keywords?(e.sn="",e.hotelBrandId="",e.hotelname="",e.placename=""):""!=t.hotelname?(e.sn="",e.hotelBrandId="",e.placename=""):""!=t.startlng?(e.sn="",e.hotelBrandId=""):""!=e.sn&&""!=e.placename&&(e.hotelBrandId=""),""!==e.sn?e.nameCn=KeywodManager.getKeyword(e.sn):""==e.hotelBrandId&&""!==e.brandname?e.nameCn=e.brandname:""!==e.hotelBrandId?e.nameCn=KeywodManager.getKeyword(e.hotelBrandId):""==e.nameCn&&""!=e.hotelname?e.nameCn=e.hotelname:""!=e.placename&&(e.nameCn=e.placename),this.searchText.find("input").val(e.nameCn),this._addSelectedClass(e)},callbefore:function(){var e=pageInfo.chid,t=/^qqqbh5$/.test(e);t&&$(".current-city").hide(),b.show($(b.searchText).find("input").val())},callback:function(t){if(x&&(M.activeCompoment.shift(),M.activeCompoment.push("0"),M._doCleanCompoment()),$(".title .city",e).html($DATA_LIST.city.cityName),""==t.cityId||t.cityId==$DATA_LIST.city.cityId)delete t.cityId,q.TypeConversion(t);else{var a="",n=!1;for(i in t)"cityId"!=i&&""!=t[i]&&(n?a+="&":(a+="#",n=!0),a+=i+"="+t[i]);setTimeout(function(){location.href=C+t.cityId+"/nlist/"+a},300)}},getNearbyHotel:function(){Y.Precision(function(){b.hide()})}}),x||$(e).on("click",".list-top",function(){$(".page-content").scrollTop(0),$("body").scrollTop(0),H.show()});var Y={callback:null,citynub:0,Init:function(){$(e).on("click",".icon-nearby",function(){Y.Precision(),J.calling=0})},Precision:function(t){this.callback=t,slark.get("h5_list").startLoading(),window.wx?wx.run("getLocation",{type:"wgs84",timeout:"1000",success:function(e){Y.getPositionSuccess({coords:e})},fail:function(e){slark.get("h5_list").stopLoading(),Y.Fuzzy()},cancel:function(t){slark.get("h5_list").stopLoading(),$(".search .city .name",e).text(_this.cityName),Y.AlertError()}}):w&&w>=10?(g.setMapKey("4BCBZ-OGQWX-3PE4P-ZNP3C-EU77E-QGF3Z"),g.location().getLocation(function(t){slark.get("h5_list").stopLoading();var i=t.lat,a=t.lng;0==i||0==a?l.alert("获取经纬度失败，请重试"):($(".title .city",e).html("周边"),Y.sourceType=5,Y.AjaxCity(i,a))},function(){slark.get("h5_list").stopLoading(),l.alert("获取经纬度失败，请重试")},{timeout:1e4,failTipFlag:!0})):navigator.geolocation?navigator.geolocation.getCurrentPosition(Y.getPositionSuccess,Y.getPositionError,{enableHighAcuracy:!0,timeout:1e4}):(slark.get("h5_list").stopLoading(),l.alert("无法获取位置信息"))},getPositionSuccess:function(t){slark.get("h5_list").stopLoading();var i=t.coords.latitude,a=t.coords.longitude;0==i||0==a?l.alert("获取经纬度失败，请重试"):($(".title .city",e).html("周边"),Y.AjaxCity(i,a))},getPositionError:function(e){switch(slark.get("h5_list").stopLoading(),e.code){case e.TIMEOUT:Y.Fuzzy();break;case e.PERMISSION_DENIED:Y.AlertError();break;case e.POSITION_UNAVAILABLE:l.alert("亲爱的火星网友，非常抱歉<br />我们暂时无法为您所在的星球提供位置服务")}},Fuzzy:function(){return w&&w>=10?(g.setMapKey("4BCBZ-OGQWX-3PE4P-ZNP3C-EU77E-QGF3Z"),void g.location().getLocation(function(t){slark.get("h5_list").stopLoading();var i=t.lat,a=t.lng;0==i||0==a?l.alert("获取经纬度失败，请重试"):($(".title .city",e).html("周边"),Y.sourceType=5,Y.AjaxCity(i,a))},function(){slark.get("h5_list").stopLoading(),alert("无法获取位置信息")},{timeout:1e4,failTipFlag:!0})):void(navigator.geolocation?(slark.get("h5_list").startLoading(),navigator.geolocation.getCurrentPosition(Y.FuzzyPositionSuccess,Y.FuzzyPositionError,{enableHighAcuracy:!1,timeout:1e4})):alert("无法获取位置信息"))},FuzzyPositionSuccess:function(t){slark.get("h5_list").stopLoading(),$(".title .city",e).html("周边");var i=t.coords.latitude,a=t.coords.longitude;Y.AjaxCity(i,a)},FuzzyPositionError:function(e){switch(slark.get("h5_list").stopLoading(),e.code){case e.TIMEOUT:l.alert("连接超时，请重试");break;case e.PERMISSION_DENIED:Y.AlertError();break;case e.POSITION_UNAVAILABLE:l.alert("亲爱的火星网友，非常抱歉<br />我们暂时无法为您所在的星球提供位置服务")}},AlertError:function(){var e=$("html").attr("class"),t="手机未能成功定位，可能您曾拒绝过m.elong.com使用您的地理位置信息。";t+="android"==e?"请在“系统设置”中开启“位置服务”后刷新页面并重试。":"请在系统“设置>隐私”中开启浏览器“定位服务”或“设置>通用”中“还原位置与隐私”并重试。",l.alert(t)},AjaxCity:function(e,t){$.ajax({timeout:1e4,url:C+"api/gethotelgeocity",data:{lat:e,lng:t},type:"GET",success:function(i){var a={cityId:i.cityId,cityCn:i.address||i.cityName,cityLat:e,cityLng:t,saveTm:(new Date).getTime()};if(localStorage.setItem("_historyDatas",JSON.stringify(a)),x&&(M.activeCompoment.shift(),M.activeCompoment.push("0"),M._doCleanCompoment()),i.cityId==$DATA_LIST.city.cityId){var n={isnear:1,startlat:e,startlng:t,lbstype:2};"function"==typeof Y.callback&&(Y.callback(),Y.callback=null),$.ajax({timeout:15e3,url:C+"api/getlistfilter",data:{cityid:$DATA_LIST.city.cityId,isnear:1},type:"GET",success:function(e){$DATA_LIST.areaList=e.areaList,$DATA_LIST.filterList=e.filterList,$DATA_LIST.areaList=decodeURIComponent($DATA_LIST.areaList),$DATA_LIST.filterList=decodeURIComponent($DATA_LIST.filterList),$DATA_LIST.areaList=JSON.parse($DATA_LIST.areaList),$DATA_LIST.filterList=JSON.parse($DATA_LIST.filterList),V.indexObject=$.extend(V.idIndex($DATA_LIST.filterList),V.idIndex($DATA_LIST.areaList)),q.TypeConversion(n)},error:function(e,t,i){l.alert("筛选数据获取失败，请刷新后重试")}})}else location.href=C+i.cityId+"/nlist/#indate="+DateComponent.inDate.attr("data-value")+"&outdate="+DateComponent.inDate.attr("data-value")+"&isnear=1&startlat="+e+"&startlng="+t+"&bstype=2"},error:function(){0==Y.citynub?(Y.AjaxCity(),Y.citynub=1):l.alert("无法获取到您的当前位置，请选择您要预定的城市后，搜索您的目的地或目的酒店。")}})}},X={template:'<div class="why_choose"><div><span></span></div></div>',target:null,$html:$("html"),init:function(){if(!($(".why_choose").length>0)){var e=$DATA_LIST.showlingdang;"1"===e&&"1"!==sessionStorage.getItem("whyChoose")&&(X.$html.hasClass("android")?$(".page").css("overflow","hidden !important"):$(".page-content").css("overflow","hidden !important"),$(".pages").append(X.template),X.target=$(".why_choose"),X.target.on("click",X.close))}},close:function(e){X.target.hide(),sessionStorage.setItem("whyChoose",1),X.$html.hasClass("android")?$(".page").css("overflow","auto !important"):$(".page-content").css("overflow","auto !important"),e.preventDefault(),e.stopPropagation()}};r.promotionDownload.init({hasPproDownload:$DATA_LIST.hasPproDownload,proDownloadUrl:$DATA_LIST.proDownloadUrl,hotelWeiXinPro:$DATA_LIST.hotelWeiXinPro}),r.wxPromotion.init({hotelWeiXinPro:$DATA_LIST.hotelWeiXinPro
}),r.urlTimestamp.init({back:".hotel-list-header .icon-back",tool:".tool .ver a"});var J={calling:0,tryCount:0,lat:0,lng:0,hotelid:null,init:function(){var e=$(".hotel-list");e.on("click",".recommendNearHotel",this.itemClick)},itemClick:function(e){"searchNearHotelByHotelCoordinate"==$(e.currentTarget).attr("data-method")&&(J.lat=parseFloat($(e.currentTarget).attr("data-baiduLatitude")),J.lng=parseFloat($(e.currentTarget).attr("data-baiduLongitude")),J.hotelid=parseInt($(e.currentTarget).attr("data-hotelurl").replace("//"+location.hostname+C,"")),J.loadData())},loadData:function(){$(".title .city",e).html("周边"),J.reqData()},reqData:function(){var e={startlat:J.lat,startlng:J.lng,radius:5,isnear:1,hotelid:J.hotelid};J.calling=1,priceStar._reset(),q.TypeConversion(e)}},K={$hotelList:$(".list-main .hotel-list",e),$listNoresult:$(".list-main .list-noresult",e),listLittleResultMod:'<div class="nomorePlugs nomoreSearchHotel"><p>暂无更多符合您条件的酒店</p></div><h2 class="recommend_tit recommendOne"><i class="recmmd_icon"></i>为您推荐以下热卖酒店</h2><ul class="hotel-list hotel-list-recom recom-one-res">#{list}</ul>',listNoresultMod:'<h2 class="recommend_tit recommendNo"><i class="recmmd_icon"></i>为您推荐以下热卖酒店</h2><ul class="hotel-list hotel-list-recom recom-no-res">#{list}</ul>',renderList:function(t){var i=this,a="";if(t.surroundhotelList&&0!==t.surroundhotelList.length){var n=q.eachLists(t,t.surroundhotelList),s={listInfo:n};s.listInfo.pageindex=q.pageindex,$DATA_LIST.customization&&$DATA_LIST.customization.list&&$DATA_LIST.customization.list.listTags?s.listInfo.listTags=$DATA_LIST.customization.list.listTags:s.listInfo.listTags="",s.listInfo.listMvtResult=k,1===t.hotelList.length?(a=u("list",s),$(".nomoreSearchHotel",e).length>0?$(".nomoreSearchHotel",e).show()&&$(".recommendOne",e).show()&&$(".recom-one-res",e).html(a):i.$hotelList.after(i.listLittleResultMod.replace(/\#\{list\}/,a))):0===t.hotelList.length&&(a=u("list",s),$(".recommendNo",e).length>0?$(".recommendNo",e).show()&&$(".recom-no-res",e).html(a):i.$listNoresult.after(i.listNoresultMod.replace(/\#\{list\}/,a)))}},clearList:function(){$(".nomoreSearchHotel",e).hide(),$(".recommendOne",e).hide(),$(".recommendNo",e).hide(),$(".recom-one-res",e).html(""),$(".recom-no-res",e).html("")}};$(document).on("beforeshow",function(e){$(e.srcElement);"h5_list"==e.detail&&T()})})},function(e,t,i){var a,n;a=[i(4)],n=function(e){var t={options:{fromUrl:"",entryPage:""},getFromUrl:function(){for(var e="",t=1;t<location.href.split("&").length;t++){var i=location.href.split("&")[t];if(/from=http(s)?\:\/\/\w+\.elong\.com/.test(decodeURIComponent(i))){e=i.replace(/from=/,"");break}}return e},setReturnBack:function(e){var i={fromUrl:t.getFromUrl(),entryPage:e},a=sessionStorage.getItem("replaceInfo"),n="undefined"!=typeof a?JSON.parse(a):null;return"undefined"!=typeof i&&((""!==i.fromUrl||""!==i.entryPage)&&void(null===n&&""!==i.fromUrl&&""!==i.entryPage?sessionStorage.setItem("replaceInfo",JSON.stringify(i)):n&&""!==i.fromUrl&&sessionStorage.setItem("replaceInfo",JSON.stringify(i))))},setFoundUrl:function(i){var a={fromUrl:t.getFromUrl(),entryPage:i};t.setReturnBack(i);var n=sessionStorage.getItem("replaceInfo")&&JSON.parse(sessionStorage.getItem("replaceInfo"))||{},s=e.getActiveLayer().children("header").find("a[data-rel]");n&&""!==n.fromUrl&&n.entryPage===a.entryPage&&(""!==s.attr("data-href")?s.attr("data-href",decodeURIComponent(n.fromUrl)):""!==s.attr("href")?s.attr("href",decodeURIComponent(n.fromUrl)):s.attr("data-href",decodeURIComponent(n.fromUrl)))},setCreateOrderSkip:function(e){var i=({fromUrl:t.getFromUrl(),entryPage:e},sessionStorage.getItem("replaceInfo")&&JSON.parse(sessionStorage.getItem("replaceInfo"))||{});null!==i&&""!==i.fromUrl&&(location.href=decodeURIComponent(i.fromUrl))},setHistoryBack:function(e){var i={fromUrl:t.getFromUrl(),entryPage:e},a=sessionStorage.getItem("replaceInfo")&&JSON.parse(sessionStorage.getItem("replaceInfo"))||{};null!==a&&""!==a.fromUrl&&a.entryPage===i.entryPage&&(history.replaceState({},"elong",decodeURIComponent(a.fromUrl)),history.back())}};return t}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a;a=function(){var e=function(e){for(var t={},i=window.TJObject&&window.TJObject.mvt&&JSON.parse(window.TJObject.mvt)||[],a=0;a<i.length;a++)i[a].eid==e&&(t=i[a]);return t};return e}.call(t,i,t,e),!(void 0!==a&&(e.exports=a))},function(e,t,i){var a,n;a=[],n=function(){return{launchApp:function(e,t,i){function a(e,t,i,a){if(e){var n=a.createElement("iframe");n.style.display="none";var s,o=a.body,r=function(e,a){"function"==typeof t&&t(a),i.removeEventListener("pagehide",l,!0),i.removeEventListener("pageshow",l,!0),n&&(n.onload=null,o.removeChild(n),n=null)},l=function(e){clearTimeout(s),r(e,!1)};i.addEventListener("pagehide",l,!0),i.addEventListener("pageshow",l,!0),n.onload=r,n.src=e,o.appendChild(n);var c=+new Date;s=setTimeout(function(){s=setTimeout(function(){var e=+new Date;c-e>1300?r(null,!1):r(null,!0)},1200)},60)}}var n="";switch(e.type){case"0101":n=e.type+","+e.indate+","+e.outdate+","+e.hotelid+","+e.channel;break;case"0102":n=e.type+","+e.cityname+","+e.indate+","+e.outdate+","+e.channel;break;case"0302":n=e.type+","+e.indate+","+e.outdate+","+e.channel}var s="elong://h5.app/openwith?r="+n,o=window.navigator.userAgent.toLowerCase();try{o.indexOf("qq")!=-1&&o.indexOf("_and_")!=-1||(o.indexOf("chrome")!=-1?window.location.href=s:a(s,function(){},t,i))}catch(r){alert(r)}}}}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t){var i,a=function(){window.qq=window.qq||{},qq.maps=qq.maps||{},window.soso||(window.soso=qq),soso.maps||(soso.maps=qq.maps),qq.maps.Geolocation=function(){"use strict";var e=null,t=null,i=null,a=null,n=null,s="_geoIframe_"+Math.ceil(1e7*Math.random()),o=document.createElement("iframe"),r=null,l=null,c=null,d=null,p=function(p,h){if(!p)return void alert("璇疯緭鍏ey锛�");if(!h)return void alert("璇疯緭鍏eferer锛�");var u=document.getElementById(s);u||(o.setAttribute("id",s),o.setAttribute("src","https://apis.map.qq.com/tools/geolocation?key="+p+"&referer="+h),o.setAttribute("style","display: none; width: 100%; height: 30%"),document.body?document.body.appendChild(o):document.write(o.outerHTML),window.addEventListener("message",function(s){var o=s.data;if(o&&"geolocation"==o.module)clearTimeout(d),e&&e(o),e=null,t=null,i&&i(o),i=null,a=null,n&&n(o);else{l=(new Date).getTime();var p=l-r;p>=c&&(t&&t(),t=null,e=null,clearTimeout(d)),a&&a(),a=null,i=null}},!1))};return p.prototype.getLocation=function(i,a,n){e=i,t=a,r=(new Date).getTime(),c=n&&n.timeout?+n.timeout:1e4,clearTimeout(d),d=setTimeout(function(){t&&t(),t=null},c),document.getElementById(s).contentWindow.postMessage("getLocation","*")},p.prototype.getIpLocation=function(e,t){i=e,a=t,document.getElementById(s).contentWindow.postMessage("getLocation.robust","*")},p.prototype.watchPosition=function(e){n=e,document.getElementById(s).contentWindow.postMessage("watchPosition","*")},p.prototype.clearWatch=function(){n=null,document.getElementById(s).contentWindow.postMessage("clearWatch","*")},p}()};a(),e.exports={location:function(e){var t=this.txMapKey;return i&&!e||"string"==typeof t&&t.length&&(i||a(),i=new qq.maps.Geolocation(t,"ewhtml5")),i},setMapKey:function(e){this.txMapKey=e}}},function(e,t){function i(e){this.TPL={indexTpl:'<div class="meng bar" style="display:block"><div class="indexaddhblist"><div class="hbc"><div class="closed close_win_hb" style="z-index: 1000;"></div><div class="top"><p><span>{#hongbaoCount}<em>元</em></span><span class="txt">新客红包到账啦!</span></p></div><div class="hbcon"><ul>{#hongbaoList}<p class="hblinks">可在"<a href="{#lookHongbao}">我的-红包</a>"里查看红包使用详情</p></ul></div><div class="hbbotbg"><div class="addbtn lookAllHotelhb">查看全部特惠酒店</div></div></div></div></div>',tipTpl:'<div class="subwxhb"><div class="wxhbtips"><span class="hb_nmbs">{#text}</span><span class="hb_txts close_hb">{#btnStyle}</span></div></div>',orderTpl:'<div class="bar getpricef lookHongbao tjclick" data-tj={"cspot":"adbanner"} style="background-image:url({#imgUrl})"></div>',oldWithNew:'<div class="subwxhb oldwithnew"><div class="wxhbtips"><span class="pep_nmbs"><i style="background-image:url({#imgUrl})"></i>{#text}</span><span class="hb_txts close_hb">{#btnStyle}</span></div></div>',orderDetailTpl:'<div class="promotion-ad-trag lookHongbao" id="promotion-ad-trag" style="width: 64px; height: 64px; position: fixed; z-index: 10000; transform: translate3d(296px, 0px, 0px); top: 320px;"><img src="{#imgUrl}" alt="" style="width: 100%; height: 100%; display: block;"></div>'},this.areaBody=null;var t=this.TPL[e.tpl];for(var i in e.formatPlaceholder)e.formatPlaceholder.hasOwnProperty(i)&&(t=t.replace(new RegExp("{#"+i+"}","g"),e.formatPlaceholder[i]||""));this.areaBody=$(t),e.after?e.after.after(this.areaBody):e.before&&e.before.before(this.areaBody)}i.prototype.bindClick=function(e,t){e.off("click").on("click",function(e){t()})},i.prototype.close=function(){this.areaBody.hide()},i.prototype.show=function(){this.areaBody.show()},e.exports=i},function(module,exports,__webpack_require__){function esd(e){this.data={},this.isFaile=0,this.timer=""}dialog=__webpack_require__(36),esd.prototype={init:function(){function e(){clearTimeout(abc.timer),abc.timer=setTimeout(function(){t._getScript(),e()},18e4)}var t=this;this.isFaile=0;var i=slark.getActiveId();switch(i){case"h5_list":this.data=window.$DATA_LIST;break;case"h5_detail":this.data=window.$DATA_DETAIL;break;case"comments":this.data=window.$DATA_COMMENTS}return!!this.data&&(this.timer&&clearTimeout(this.timer),void(this.data&&this.data.shieldData&&this.data.shieldData.shieldSwitch&&e()))},check:function(dynamicScript){try{if(null==dynamicScript||""==dynamicScript||"${tsd}"==dynamicScript)return-99;var script=this.hijklmn(dynamicScript),code=eval(script);return code}catch(e){return-99}},_getScript:function(){var e=this,t=e.data&&e.data.shieldParams?e.data.shieldParams:"",i=e.data&&e.data.shieldMethod?e.data.shieldMethod:"";$.ajax({url:window.pageInfo.subPath+"api/requestscript",timeout:"10000",type:"POST",data:{shieldParams:t,shieldMethod:i},success:function(t){t.tsdScript&&t.logId?(e.data.shieldData||(e.data.shieldData={}),e.data.shieldData.tsdScript=t.tsdScript,e.data.shieldData.logId=t.logId):console.error(t.errorMessage)},error:function(){console.log("请求code失败")}})},getCodeCall:function(e,t,i){this.isFaile++,1==this.isFaile&&(this.data.shieldData.tsdScript=e.shieldData.tsdScript,this.data.shieldData.logId=e.shieldData.logId,t&&(i?(i.logId=this.data.shieldData.logId,i.sdId=e&&e.shieldData.tsdScript?this.check(this.data.shieldData.tsdScript):"",t(i)):t())),this.isFaile>1&&(slark.get(slark.getActiveId()).stopLoading(),dialog.alert("网络繁忙，请您稍后重试。"),this.isFaile=0)},hijklmn:function(e){if(null==e||""==e)return e;var t=e.replace(/\)\^-1/gm,")&-1");return t}};var abc=new esd,timer=null;document.addEventListener("onshow",function(){clearTimeout(timer),timer=setTimeout(function(){abc.init()},0)}),document.addEventListener("onhide",function(){abc.timer&&clearInterval(abc.timer)}),module.exports=abc},function(e,t,i){var a,n;a=[i(1)],n=function(){$.extend($.fn,{quicksearch:function(e){var t=(Object.prototype.toString,'<div class="quick-search"><ul class="quick-search-list" style="width:{{listwidth}}px;transform:translateX(0px);-webkit-transform: translateX(0px);">{{list}}</ul></div>'),i='<li class="quick-search-item {{itemchecked}}" data-id="{{itemid}}" style="width:{{itemwidth}}px">{{itemtext}}</li>',a=function(e){return e&&Array.isArray(e)&&e.length>0},n=function(e){return"number"==typeof e&&e>0},s=function(s){var o="",r="",l="",c=$(s),d=0,p=0,h=a(e.data);h&&(e.displaycount=(n(e.displaycount),5),d=Math.floor($(window).width()/e.displaycount),e.data.forEach(function(e){l=i.replace("{{itemid}}",e.id).replace("{{itemtext}}",e.text).replace("{{itemwidth}}",d),l=e.checked?l.replace("{{itemchecked}}","on"):l.replace("{{itemchecked}}",""),r+=l}),p=e.data.length),o=t.replace("{{list}}",r).replace("{{listwidth}}",d*(p+1)),c.html(o),c.data("max-translateX",d*(p-1))},o=function(t){var i=$(t),a={};i.on("touchstart",".quick-search",function(e){a.startX=e.touches[0].clientX,a.flag="touch",e.preventDefault()}),i.on("touchmove",".quick-search",function(t){var n=0,s=i.find(".quick-search-list"),o=s.css("transform")?parseInt(s.css("transform").match(/\.*translateX\((.*)px\)/i)[1]):0,r=s.css("-webkit-transform")?parseInt(s.css("-webkit-transform").match(/\.*translateX\((.*)px\)/i)[1]):0;a.moveX=t.touches[0].clientX,n=Math.floor(a.moveX-a.startX),Math.abs(n)>15&&(o+=Math.floor(e.speed*n),r+=Math.floor(e.speed*n),o=o>0?0:o,r=r>0?0:r,o=o<-i.data("max-translateX")?-i.data("max-translateX"):o,r=r<-i.data("max-translateX")?-i.data("max-translateX"):r,s.css({transform:"translateX("+o+"px)","-webkit-transform":"translateX("+r+"px)"}),a.flag="move"),t.preventDefault()}),i.on("touchend",".quick-search",function(t){"touch"==a.flag&&e.itemClick(t)&&i.trigger("quick-search-change",t.target)}),i.on("click",".quick-search .quick-search-item",function(t){e.itemClick(t)&&i.trigger("quick-search-change",t.target)}),i.on("quick-search-change",function(e,t){var i=$(t);i.hasClass("on")?i.removeClass("on"):i.addClass("on")})},r=$(this),l=r.data("quick-search"),c=function(){e=$.extend({speed:1,data:[],itemClick:function(){return!0}},e),r.data("quick-search",{data:e.data}),s(this),o(this)};if(!l)return this.each(c);switch(e.key){case"clearAllSelected":r.find(".quick-search-item").removeClass("on");break;case"updateData":s(this)}}})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(22),i(30),i(34),i(36)],n=function(e,t,i,a){t.onrender("map",function(e){function t(){var t={zoom:16,center:h,mapTypeId:qq.maps.MapTypeId.ROADMAP};window.qqmap=new qq.maps.Map(document.getElementById("map"),t),l(),m=new qq.maps.DrivingService({complete:function(e){var t=e.detail.start,i=e.detail.end,a=new qq.maps.Point(6,6),n=new qq.maps.Size(0,0),s=new qq.maps.MarkerImage("//m.elongstatic.com/static/webapp/hotel/2016/03/v2/img/weixin_hotel_map.png",n,new qq.maps.Point(0,0),a),o=new qq.maps.MarkerImage("//m.elongstatic.com/static/webapp/hotel/2016/03/v2/img/weixin_hotel_map.png",n,new qq.maps.Point(24,0),a);v&&v.setMap(null),y&&y.setMap(null),d(T),v=new qq.maps.Marker({icon:s,position:t.latLng,map:qqmap,zIndex:1}),y=new qq.maps.Marker({icon:o,position:i.latLng,map:qqmap,zIndex:1}),g=e.detail.routes;for(var r=[],l=0;l<g.length;l++){var c=g[l],p=c;qqmap.fitBounds(e.detail.bounds);var h=p.steps;b=h,polyline=new qq.maps.Polyline({path:c.path,strokeColor:"#3893F9",strokeWeight:6,map:qqmap}),T.push(polyline);for(var u=0;u<h.length;u++){var f=h[u];w.push(f.placemarks);var m,$=f.turning;switch($.text){case"左转":m="0px 0px";break;case"右转":m="-19px 0px";break;case"直行":m="-38px 0px";break;case"偏左转":case"靠左":m="-57px 0px";break;case"偏右转":case"靠右":m="-76px 0px";break;case"左转调头":m="-95px 0px";break;default:mg_position=""}var I='&nbsp;&nbsp;<span style="margin-bottom: -4px;display:inline-block;background:url(img/turning.png) no-repeat '+m+';width:19px;height:19px"></span>&nbsp;',C=['onclick="renderStep('+u+')"','onmouseover=this.style.background="#eee"','onmouseout=this.style.background="#fff"','style="margin:5px 0px;cursor:pointer"'].join(" ");r.push("<p "+C+" ><b>"+(u+1)+".</b>"+I+f.instructions)}}}}),$(".myid",e).on("click",s)}function n(){var e=document.createElement("script");e.type="text/javascript",e.src="//map.qq.com/api/js?v=2.exp&libraries=convertor&callback=init",document.body.appendChild(e)}function s(){slark.get("map").startLoading(),window.wx?(this.sourceType=5,wx.run("getLocation",{timeout:"10000",success:function(e){r({coords:e})},fail:o,cancel:function(e){slark.get("map").stopLoading()}})):navigator.geolocation?navigator.geolocation.getCurrentPosition(r,o,{enableHighAcuracy:!0,timeout:1e4}):a.alert("无法获取位置信息")}function o(){slark.get("map").stopLoading(),a.alert("定位失败，请稍后重试")}function r(e){slark.get("map").stopLoading();var t=e.coords.latitude,i=e.coords.longitude;qq.maps.convertor.translate(new qq.maps.LatLng(t,i),1,function(e){latlng=e[0],qqmap.setCenter(latlng),u&&u.setMap&&u.setMap(null),u=new qq.maps.Marker({map:qqmap,position:latlng}),c(latlng,h)})}function l(){var e=new qq.maps.Marker({position:h,map:qqmap});e.setVisible(!0),e.setAnimation(qq.maps.MarkerAnimation.DOWN),e.setDraggable(!1);var t=new qq.maps.Point(10,6),i=new qq.maps.Size(23,31),a=new qq.maps.Point(0,0),n=new qq.maps.MarkerImage("//m.elongstatic.com/static/webapp/hotel/2016/03/v2/img/weixin_hotel_map.png",i,a,t);e.setIcon(n),e.setTitle("测试");var s=new qq.maps.InfoWindow({map:qqmap});s.open(),s.setContent(f),s.setPosition(e.getPosition()),qq.maps.event.addListener(e,"click",function(){s.open(),s.setContent(f),s.setPosition(e.getPosition())})}function c(e,t){b=[],m.setPolicy(qq.maps.DrivingPolicy.LEAST_TIME),m.search(e,t)}function d(e){for(var t;t=e.pop();)t.setMap(null)}var p=1;if(p){var h,u,f="<div style='line-height:20px;font-size:12px;overflow:hidden;'><h1 style='font-size:1rem;'>"+$DATA_MAP.hotelname+"</h1><p>"+$DATA_MAP.address+"</p>";window.init=function(){h=new qq.maps.LatLng($DATA_MAP.latitude,$DATA_MAP.longitude),qq.maps.convertor.translate(h,3,function(e){h=e[0],t()})};var m,g,v,y,w=[],T=[],b=[];return void(window.onload=n)}var I=$("html").attr("class");$DATA_MAP.customization=JSON.parse($DATA_MAP.customization),$DATA_MAP&&$DATA_MAP.customization&&$DATA_MAP.customization.replacelocalstorage&&i.replaceStorage($DATA_MAP.customization.replacelocalstorage);var C={_mylng:0,_mylat:0,_map:null,_ghotelpoint:null,_bhotelpoint:null,_local:null,_currentposition:null,_transit:null,_range:3e3,_isload:null,_tranfficinfo:null,_istransit:null,_rresult:null,_sresult:null,_tranff:null,_defaultzoom:null,_isopenzoom:null,_infoWindowTemplate:'${content}<div class="bottom-triangle"></div>',Init:function(){if("NOT_MAPINFO"!=$DATA_MAP.errorCode){if(slark.get("map").startLoading(),"undefined"==typeof BMap||null==BMap)return slark.get("map").stopLoading(),void a.alert("地图加载失败，请刷新页面重试。");C._range=3e3,C._isload=!1,C._defaultzoom=15,C._istransit="True",C._isopenzoom="False",C._tranfficinfo={keyword:"交通",Lh:[]},C._tranfficinfo.length=0,C._rresult="",C._sresult="",C._tranff="",C._tranfficinfo.Lh.push({title:"南苑机场",point:{lng:116.3951,lat:39.80254}}),C._tranfficinfo.Lh.push({title:"北京南站（火车站）",point:{lng:116.379,lat:39.86522}}),C._tranfficinfo.Lh.push({title:"北京北站",point:{lng:116.3538,lat:39.94276}}),C._tranfficinfo.Lh.push({title:"首都国际机场3号航站楼",point:{lng:116.6147,lat:40.05623}}),C._tranfficinfo.Lh.push({title:"首都国际机场",point:{lng:116.5921,lat:40.0754}}),C._tranfficinfo.Lh.push({title:"北京西站（火车站）",point:{lng:116.322,lat:39.89541}}),C._tranfficinfo.Lh.push({title:"北京站（火车站）",point:{lng:116.427,lat:39.9024}}),C._tranfficinfo.Lh.push({title:"首都机场",point:{lng:116.592,lat:40.07538}}),C._map=new BMap.Map("map"),this.InitHotel(),$(e).on("click",".myid",function(){C.FixedPosition()}),$(e).on("click",".pupop li",function(){$(this).hasClass("myid")||$(this).hasClass("on")||($(".pupop li").removeClass("on"),$(this).addClass("on"))}),$(e).on("click","#restaurant",function(){C.SearchRestaurant()}),$(e).on("click","#scenic",function(){C.SearchScenic()}),$(e).on("click","#transport",function(){C.SearchTransport()}),p&&C._map.addEventListener("click",function(){C._iw&&C._iw.close()})}},InitHotel:function(e){"undefined"!=typeof e&&null!=e||(e=C._defaultzoom);var t,i;return t=$DATA_MAP.longitude,i=$DATA_MAP.latitude,"NOT_MAPINFO"==$DATA_MAP.errorCode?void a.log("酒店地图经纬度错误。"):i>=3&&i<=54&&t>=73&&t<=136?(null!=t&&0!=t&&null!=i&&0!=i||(t=116.3972282409668,i=39.90960456049752),C._ghotelpoint=new BMap.Point(t,i),void this.G2BPoint(C._ghotelpoint,function(t){t.lng=C._ghotelpoint.lng,t.lat=C._ghotelpoint.lat,C._bhotelpoint=t,C._map.enablePinchToZoom(),C._map.centerAndZoom(C._bhotelpoint,e);C.AddHotelMarker(C._bhotelpoint);C._isload=!0,slark.get("map").stopLoading(),C._local=new BMap.LocalSearch(C._map,{onSearchComplete:function(e){C.InitMarker(e),slark.get("map").stopLoading()}})})):void a.log("酒店地图经纬度错误。")},InitMarker:function(e){if("undifined"!=typeof e&&null!=e){var t=null,i=null,n=null,s=null,o="",r="未找到结果",t="//m.elongstatic.com/static/webapp/hotel/2016/03/v2/img/position.png";if(i=new BMap.Size(32,32),"餐饮"==e.keyword)t=p?t:"//m.elongstatic.com/static/webapp/hotel/2015/06/v2/img/eat.png",r="未找到匹配的美食位置",_rresult=e;else if("景点"==e.keyword)t=p?t:"//m.elongstatic.com/static/webapp/hotel/2015/06/v2/img/view.png",r="未找到匹配的景点位置",_sresult=e;else{if("undefined"==e.length)return;t=p?t:"//m.elongstatic.com/static/webapp/hotel/2015/06/v2/img/bus.png",r="未找到匹配的交通枢纽",_tranff=e}var l=[];if(void 0!=e.length)for(var c=0;c<6;c++)for(var d=e[c],h=0;h<d.getCurrentNumPois();h++)l.push(d.getPoi(h));else for(var l=[],h=0;h<e.getCurrentNumPois();h++)l.push(e.getPoi(h));e.Lh=l,("undefined"==typeof e||null==e||null==e.Lh||e.Lh.length<=0)&&(a.alert(r),slark.get("map").stopLoading()),n=e.Lh;for(var u=0,h=0;h<n.length;h++)s=C._map.getDistance(C._bhotelpoint,n[h].point),0==h?u=s:u>s&&(u=s),n[h].distance=s;for(var h=0;h<n.length;h++)s=n[h].distance,o="<div style='line-height:20px;font-size:12px;overflow:hidden;'><b>"+n[h].title+"</b>",o=this.ConcatString(o,Math.round(s),"<br><b>距离:</b>"+Math.round(s/1e3*10)/10+"公里</div>"),s==u?this.AddIcon(t,i,n[h].point,o,!0):this.AddIcon(t,i,n[h].point,o)}},FixedPosition:function(){slark.get("map").startLoading(),C._map.centerAndZoom(C._ghotelpoint,15);var e=new BMap.Geolocation;e.getCurrentPosition(function(e){if(this.getStatus()==BMAP_STATUS_SUCCESS){var t=new BMap.Marker(e.point);C._map.addOverlay(t),C._map.panTo(e.point),slark.get("map").stopLoading(),C._mylng=e.point.lng,C._mylat=e.point.lat,C.ShortestRoute()}else switch(slark.get("map").stopLoading(),this.getStatus()){case 2:a.alert("手机未能成功定位，可能是信号问题或手机未启用GPS 。请开启GPS并到户外重试。");break;case 3:a.alert("导航结果未知，请刷新页面并重试");break;case 4:a.alert("非法密钥，请刷新页面并重试");break;case 5:a.alert("非法请求，请刷新页面并重试");break;case 6:var i="手机未能成功定位，可能您曾拒绝过m.elong.com使用您的地理位置信息。";i+="android"==I?"请在“系统设置”中开启“位置服务”后刷新页面并重试。":"请在系统“设置>隐私”中开启浏览器“定位服务”或“设置>通用”中“还原位置与隐私”并重试。",a.alert(i);break;case 7:a.alert("该设备或者浏览器不支持定位功能");break;case 8:a.alert("请求超时，请刷新页面并重试")}},{enableHighAccuracy:!0,timeout:1e4})},ShortestRoute:function(){C._map.centerAndZoom(C._ghotelpoint,15);var e=new BMap.Point(C._mylng,C._mylat),t=new BMap.Point(C._bhotelpoint.lng,C._bhotelpoint.lat),i=new BMap.DrivingRoute(C._map,{renderOptions:{map:C._map,autoViewport:!0}});i.search(e,t)},SearchRestaurant:function(){slark.get("map").startLoading(),this.Clear(C._defaultzoom),C._map.centerAndZoom(C._bhotelpoint,C._defaultzoom),""!=C._rresult?(C.InitMarker(C._rresult),slark.get("map").stopLoading()):C._local.searchNearby("餐饮",C._bhotelpoint,C._range)},SearchScenic:function(){slark.get("map").startLoading(),this.Clear(C._defaultzoom),C._map.centerAndZoom(C._bhotelpoint,C._defaultzoom),""!=C._sresult?(C.InitMarker(C._sresult),slark.get("map").stopLoading()):C._local.searchNearby("景点",C._bhotelpoint,C._range)},SearchTransport:function(){if(slark.get("map").startLoading(),this.Clear(C._defaultzoom),C._map.centerAndZoom(C._bhotelpoint,C._defaultzoom),""!=C._tranff)C.InitMarker(C._tranff),slark.get("map").stopLoading();else{var e=["公交","汽车站","火车站","港口","机场","交通枢纽"];C._local.searchNearby(e,C._bhotelpoint,C._range)}},AddHotelMarker:function(e){var t,i=new BMap.Marker(e);if(t="<div style='line-height:20px;font-size:12px;overflow:hidden;'><h1>"+$DATA_MAP.hotelname+"</h1><p>"+$DATA_MAP.address+"</p>","undefined"!=typeof t&&null!=t){var a=new BMap.Label("hotelname",{offset:new BMap.Size(20,(-10))});i.setLabel(a);var n=p?"//m.elongstatic.com/static/webapp/hotel/2016/03/v2/img/weixin_hotel_map.png":"//m.elongstatic.com/static/webapp/hotel/2015/06/v2/img/map_hotel.png";$DATA_MAP.customization&&$DATA_MAP.customization.mapIcon&&(n="//m.elongstatic.com/static/webapp/hotel/2016/02/v1_test/img/zdhotel.png"),C._isload?this.AddIcon(n,new BMap.Size(32,32),e,t):this.AddIcon(n,new BMap.Size(32,32),e,t,!0)}return i},AddIcon:function(e,t,i,a,n){var s=new BMap.Icon(e,t),o=new BMap.Marker(i,{icon:s});C._map.addOverlay(o);var r=this.CreateInfoWindow(a);o.addEventListener("click",function(){C.ShowInfoWindow(r,this)}),o.addEventListener("infowindowopen",function(){var e=$("[src='//api.map.baidu.com/images/iw_close1d3.gif']");e.attr("src","//m.elongstatic.com/static/webapp/hotel/2015/06/v2/img/iconClose.png"),e.attr("style","position: absolute; top: 2px; width: 30px; height: 30px; cursor: pointer; z-index: 10; left: 219px !important;")}),n&&setTimeout(function(){C._map.centerAndZoom(i,C._defaultzoom),C.ShowInfoWindow(r,o)},200)},ShowInfoWindow:function(e,t){p?(C._iw&&C._iw.close(),C._iw=e,e.addEventListener("open",function(e){$(".hotel-overlay img").remove()}),setTimeout(function(){e.open(t)},50)):t.openInfoWindow(e)},CreateInfoWindow:function(e){var t;return p?t=new BMapLib.InfoBox(C._map,C._infoWindowTemplate.replace("${content}",e),{boxClass:"hotel-overlay",closeIconUrl:"//m.elongstatic.com/static/webapp/hotel/2015/06/v2/img/iconClose.png",closeIconMargin:"1px 1px 0 0",enableAutoPan:!0,align:INFOBOX_AT_TOP}):(t=new BMap.InfoWindow(e),t.setWidth(220)),t},G2BPoint:function(e,t){BMap.Convertor.translate(e,2,t)},Clear:function(e){C._map.clearOverlays(),this.InitHotel(e)},Reset:function(e){C._isload=!1,this.Clear(e)},ConcatString:function(e,t,i){return"undefined"!=typeof t&&null!=t&&""!=t&&(e+=i),e}},x=$DATA_MAP.hotelname,A=$DATA_MAP.address,_=$DATA_MAP.longitude,S=$DATA_MAP.phone,k=$DATA_MAP.latitude,D={_hotelname:x,_hoteladdress:A,_hotellng:_,_phone:S,_hotellat:k,init:function(){function e(){var e=[];e.push('<div><div><img style="float:left;" src=" //webapi.amap.com/images/autonavi.png "/></div> '),e.push('<div style="padding:0px 0px 0px 4px;"><b>'+D._hotelname+"</b>"),e.push("电话 : "+D._phone),e.push("地址 : "+D._hoteladdress+"</div></div>"),infoWindow=new AMap.InfoWindow({content:e.join("<br/>")}),infoWindow.open(t,new AMap.LngLat(116.480983,39.989628))}if("undefined"==typeof AMap||null==AMap)return void $.dialog("地图加载失败，请刷新页面重试。",null,null);console.log(typeof AMap);var t=new AMap.Map("mapContainer",{resizeEnable:!0,view:new AMap.View2D({center:new AMap.LngLat(116.397428,39.90923),zoom:13})}),i=new AMap.Marker({icon:new AMap.Icon({size:new AMap.Size(28,37),image:"//webapi.amap.com/images/0.png",imageOffset:new AMap.Pixel(0,0)}),position:new AMap.LngLat(116.480983,39.989628)});i.setMap(t),e(),AMap.event.addListener(i,"click",function(){infoWindow.open(t,i.getPosition())})}};if("baidumap"==$DATA_MAP.mapType){window.init=function(){if(p){var e=document.createElement("script");e.type="text/javascript",e.src="//api.map.baidu.com/library/InfoBox/1.2/src/InfoBox_min.js",document.body.appendChild(e),e.onload=e.onreadystatechange=function(){C.Init()}}else C.Init()};var L=document.createElement("script");L.type="text/javascript",L.src="//api.map.baidu.com/api?v=1.4&callback=init",document.body.appendChild(L)}else x=D._hotelname,"NOT_MAPINFO"!=$DATA_MAP.errorCode&&D.init()})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(22),i(30),i(34),i(35),i(36),i(37),i(43),i(33),i(40),i(62),i(63),i(64)],n=function(e,t,a,n,s,o,r,l,c,d,p){var h=i(58);t.onrender("comments",function(e){function i(){}function n(){var e=window.innerHeight,t=$(this).scrollTop(),i=window.scrollY;t>2*e||i>2*e?y.show():y.hide(),navigator.userAgent.indexOf("UCBrowser")>-1&&html.hasClass("ios")&&window.scrollTo(0,1)}function r(){var e=window.scrollY;e>=66&&!this.tagShow?(g.show(),this.tagShow=!0):e<66&&this.tagShow&&(g.hide(),this.tagShow=!1)}function c(){var e=$(this).scrollTop();e>=66&&!w.tagShow?(g.show(),w.tagShow=!0):e<66&&w.tagShow&&(g.hide(),w.tagShow=!1)}function u(){if("comments"!=t.getActiveId())return!1;var e=$(this),i=e.height(),a=document.body.clientHeight,n=v.scrollHeight,s=e.scrollTop(),o=window.scrollY;s+i>n-10&&1==b.AjaxState?b.InitComments():o+a>n-10&&1==b.AjaxState&&b.InitComments()}h.init();var f=$DATA_COMMENTS;f.customization.gCommentRateColor;f.customization=JSON.parse($DATA_COMMENTS.customization),f.customization&&f.customization.replacelocalstorage&&a.replaceStorage(f.customization.replacelocalstorage),main=t.getActiveLayer();var m=main.find(".page-content"),g=$(".page-on-center > div.comment_topbar"),v=m.get(0),y=$(".backtop",e),w={tagShow:!1};i.prototype.isSupportSticky=function(){for(var e=["","-webkit-","-ms-","-moz-","-o-"],t="",i=0;i<e.length;i++)t+="position:"+e[i]+"sticky;";var a=document.createElement("div"),n=document.body;a.style.cssText="display:none;"+t,n.appendChild(a);var s=/sticky/i.test(window.getComputedStyle(a).position);n.removeChild(a),a=null,this.isSupport=s},i.prototype.init=function(t){this.$ele=$(t,e);this.isSupport?(this.$ele.parent().css("overflow","visible"),this.$ele.addClass("comments_sticky")):m.off("scroll",c).on("scroll",c)};var T=new i;T.isSupportSticky();var b={AjaxState:!0,AjaxMvtState:!0,commenttype:1,pageindex:2,urlSet:[],urlNub:0,mainId:0,isFaile:0,api:"api/morereviewnew",filter_hasMore:!1,filter_open:!1,filter_maxh:0,Init:function(){this.tagResize(),this.bindEvents()},tagResize:function(){var t=$(".com_tag .com_tag_h a:last-child",e),i=$(".com_tag .com_tag_h",e),a=$(".com_tag",e),n=0,s=a.find(".com_tag_more");a.removeClass("s_bdb"),[].forEach.call(t,function(e){n=e.offsetTop||n}),this.filter_maxh=n+21,n>=111?(s.show(),a.removeClass("show"),T.isSupport&&a.css("height","101px"),b.filter_hasMore=!0):(a.addClass("show"),s.hide(),b.filter_hasMore=!1),b.filter_hasMore&&!b.filter_open?(T.isSupport?i.css("max-height","64px"):a.removeClass("show"),s.removeClass("com_tag_show")):b.filter_hasMore&&b.filter_open&&(T.isSupport?i.css("max-height",b.filter_maxh):a.addClass("show"),s.addClass("com_tag_show"))},bindEvents:function(){$(e).on("click",".more",function(){"点击加载更多评论"==$(".more",e).html()&&(b.AjaxState=!1,$("body").scrollTop(),b.InitComments())}),$(e).on("click",".com-title .bad",function(){b.AjaxState=!1,$(".more",e).html("点击加载更多评论"),$(this).hasClass("no")||$(".com-title .line",e).hasClass("left")||($(".com-list .wrap",e).parent().remove(),b.commenttype=2,b.pageindex=1,$(".com-title .line",e).addClass("left"),b.InitComments(),$(".com-title li",e).removeClass("on"),$(this).addClass("on"))}),$(e).on("click",".com-title .good",function(){b.AjaxState=!1,$(".more",e).html("点击加载更多评论"),!$(this).hasClass("no")&&$(".com-title .line",e).hasClass("left")&&($(".com-list .wrap",e).parent().remove(),b.commenttype=1,b.pageindex=1,$(".com-title .line",e).removeClass("left"),b.InitComments(),$(".com-title li",e).removeClass("on"),$(this).addClass("on"))}),$(e).off("click",".pic img").on("click",".pic img",b.showPlay);var t=$(".com_tag .com_tag_h a",e);$(".com-list",e).off("click",this.showHotelComment.bind(this)).on("click",this.showHotelComment.bind(this)),this.mainId=$(".com_tag .com_tag_h a.on",e).data("mainid")||0,t.on("click",function(){var i=$(this),a=i.data("mainid");!isNaN(a)&&a!=b.mainId&&b.AjaxMvtState&&(b.AjaxMvtState=!1,b.mainId=a,b.pageindex=1,$(".com-wrap .com-list li:not(:last-child)",e).remove(),g.hide(),t.removeClass("on"),$('.com_tag .com_tag_h a[data-mainid="'+a+'"]',e).addClass("on"),$("body").scrollTop(0),b.InitComments())});var i=$(".com_tag"),a=i.find(".com_tag_more"),n=$(".com_tag .com_tag_h",e);a.click(function(){T.isSupport?b.filter_open?n.css("max-height","64px"):n.css("max-height",b.filter_maxh):i.toggleClass("show"),b.filter_open=!b.filter_open,a.toggleClass("com_tag_show")})},showHotelComment:function(e){var t=$(e.target),i=".s_bdt .wrap .dt .comments_more",a=t.parent(i);if(t=(t.is(i)?t:void 0)||(a.length?a:void 0)){var n=t.parent(".dt").next(".comments_txt");t.hasClass("comments_more_show")?(t.find("span.more_txt").text("收起酒店回复"),n.show()):(t.find("span.more_txt").text("查看酒店回复"),n.hide()),t.toggleClass("comments_more_show")}},showPlay:function(){b.urlNub=0,b.urlSet=[],b.urlNub=$(this).parent().find("img").index($(this))+1;for(var e=0;e<$(this).parent().find("img").length;e++){var t=$(this).parent().find("img").eq(e).attr("src"),i=p.getHDTypeByDevice();
url=p.replaceUrl(t,i),b.urlSet.push(url)}b.ImgShow()},InitComments:function(){b.AjaxState=!1,slark.get("comments").startLoading();var e={hotelid:$DATA_COMMENTS.hotelId,commenttype:b.commenttype,pagesize:"20",pageindex:b.pageindex,mainId:b.mainId};$DATA_COMMENTS.shieldData&&$DATA_COMMENTS.shieldData.shieldSwitch&&(e.logId=h.data&&h.data.shieldData&&h.data.shieldData.logId?h.data.shieldData.logId:"",e.sdId=h.data&&h.data.shieldData&&h.data.shieldData.tsdScript?h.check(h.data.shieldData.tsdScript):""),b.ajaxData(e)},_getCode:function(e){},_getScript:function(e){$.ajax({timeout:1e4,type:"POST",data:{hotelId:$DATA_COMMENTS.hotelId,methodName:pageInfo.methodName?pageInfo.methodName:"getHotelComments"},url:window.pageInfo.subPath+"api/requestscript",success:function(t){sdId=b._getCode(t.tsdScript),e.logId=t.logId,sdId&&(e.sdId=sdId),b.ajaxData(e)},error:function(t,i){b.ajaxData(e)}})},ajaxData:function(t){$.ajax({timeout:1e4,url:window.pageInfo.subPath+b.api,data:t,type:"GET",success:function(i){if(i.shieldData&&($DATA_COMMENTS.shieldData.shieldSwitch=i.shieldData.shieldSwitch),i.shieldData&&!i.shieldData.validated)h.getCodeCall(i,b.InitComments,t);else if(h.isFaile=0,i.comments&&0!=i.comments.length){b.pageindex=b.pageindex+1;for(var a=0;a<i.comments.length;a++){var n,s='<li class="s_bdt"><div class="wrap">';switch(i.comments[a].userRank){case 1:n="点评新人";break;case 2:n="点评达人";break;case 3:n="点评专家"}if(s+='<div class="tit">',"number"==typeof i.comments[a].commentScoreTotal&&i.comments[a].commentScoreTotal>0&&(i.comments[a].commentScoreTotal.toString().indexOf(".")>-1||(i.comments[a].commentScoreTotal+=".0"),s+='<span class="com_nmb">'+i.comments[a].commentScoreTotal+'分</span><span class="s_bdl"></span>'),s+='<span class="name">'+i.comments[a].userName+'</span><span class="level'+i.comments[a].userRank+'">'+n+"</span>",1==i.comments[a].isMarrow&&(s+='<span class="jh"><i></i></span>'),s+='<span class="date">'+i.comments[a].commentDateTime+"</span>",s+='</div><div class="con">'+i.comments[a].content+"</div>",i.comments[a].largeImagePath.length>0){s+='<div class="pic">';for(var o=0;o<i.comments[a].largeImagePath.length;o++)s+='<img src="'+i.comments[a].largeImagePath[o]+'">';s+="</div>"}i.comments[a].commentFrom&&""!=i.comments[a].commentFrom&&(s+='<div class="con_source">'+i.comments[a].commentFrom+"</div>"),s+='<div class="dt"><span class="type">'+i.comments[a].roomTypeName+"</span>";var r="";switch(i.comments[a].travelType){case 0:r="其他";break;case 1:r="带小孩";break;case 2:r="情侣出行";break;case 3:r="团体出行";break;case 4:r="商务出差";break;case 5:r="独自出行"}s+='<span class="user_type">'+r+"</span>",s+="object"==typeof i.comments[a].replys&&i.comments[a].replys&&i.comments[a].replys.length?'<div class="comments_more comments_more_show"><span class="more_txt">查看酒店回复</span><span class="more_icons"></span></div></div><div class="comments_txt" style="display:none"><p><span class="user_name">酒店回复：</span>'+i.comments[a].replys[0].content+"</p></div></div></li>":"</div></div></li>",$(".more",e).parent().before(s)}b.AjaxState=!0,i.comments.length<20?($(".more",e).html("没有更多评论了"),b.AjaxState=!1):b.AjaxMvtState||$(".more",e).html("点击加载更多评论")}else $(".more",e).html("没有更多评论了"),b.AjaxState=!1;b.AjaxMvtState||m.scrollTop(0),b.AjaxMvtState=!0,slark.get("comments").stopLoading()},error:function(e,t,i){b.AjaxState=!0,b.ajaxError(e,t,i,function(){}),b.AjaxMvtState=!0,slark.get("comments").stopLoading()}})},ajaxError:function(e,t,i,a){s.alert("网络繁忙，请您稍后重试。",a)},ImgShow:function(){I.show(b.urlSet,b.urlNub)}},I=new d;o.add("picSwipper",I),b.Init(),$(e).on("click",".backtop",function(){$("html").hasClass("ios")?($(v).scrollTop(0),$(v).removeClass("comments-content").addClass("comments-hidden"),setTimeout(function(){$(v).removeClass("comments-hidden").addClass("comments-content")},400)):$("body").scrollTop(0)}),$("html").hasClass("android")?(m.removeClass("comments-content"),$(document).off("scroll",u).on("scroll",u),$(document).off("scroll",r.bind(w)).on("scroll",r.bind(w)).bind("scroll",n)):(T.init(".comment_con .com_tag"),m.off("scroll",u).on("scroll",u).bind("scroll",n));var C="onorientationchange"in window,x=C?"orientationchange":"resize";$("html").hasClass("android")&&(x="resize"),window.addEventListener(x,function(){setTimeout(function(){b.tagResize()},50)},!1);var A={HistoryList:function(){if(void 0!=localStorage.historydata){var t=JSON.parse(localStorage.historydata);t.historyInfo.length>5&&(t.historyInfo.length=5),$(".look .list dt",e).after(l("history",t))}}};A.HistoryList()})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(4),i(37),i(45)],n=function(e,t){function i(){this.mySwiper=null,this.items=[],this.picProcess=null,this.swiperContainer=null,this.progressCount=0}return i.prototype={TEMPLATE:{BODY:'<div class="detail_singlepic"><section id="close_image" class="detail-hotelpic"><dl class="shpictop"><dt class="picTitle"></dt><dd class="pic-process">1/1</dd><dd class="shpic_closed"></dd></dl><div class="spic_img swiper-container"><ul class="swiper-wrapper"></ul></div><div style="display:none" class="spic_bottom"><p>查看酒店VR</p></div></section></div>',ITEM:'<li class="swiper-slide"><span></span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="" ${title} ${src} class="swiper-lazy ${loaded}"></li>',LOADINGCIRCLE:'<div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div>'},init:function(){this.page=$(this.TEMPLATE.BODY),this.picProcess=this.page.find(".pic-process"),this.swiperContainer=this.page.find(".swiper-wrapper"),this.picTitle=this.page.find(".picTitle"),this._bindEvent()},beforeShow:function(t,i){var a=this;a.swiperContainer.html(""),this.page.on(e.animationEnd,function(){var e="",n="",s="";i=i?i:1,a.mySwiper?a.mySwiper.destroy(!0):null;for(var o=0;o<t.length;o++)"string"==typeof t[o]?(n=t[o],s="&nbsp;"):(n=t[o].url,s=t[o].title),e+=a.TEMPLATE.ITEM.replace("${loaded}","").replace("${src}",'data-src="'+n+'"').replace("${loading-circle}",a.TEMPLATE.LOADINGCIRCLE).replace("${title}",'title="'+s+'"');a.swiperContainer.attr("style",""),a.swiperContainer.html(e),a.mySwiper=new Swiper($(".swiper-container",a.page)[0],{mode:"horizontal",initialSlide:i-1,loop:t.length>1,lazyLoading:!0,lazyLoadingInPrevNext:!0,onProgress:function(e,t){a.progressCount>5&&(a.updateProgress(e),a.progressCount=0),a.progressCount++},onSlideChangeEnd:function(e){a.updateProgress(e)}}),i=i?i:1,a.items=t,a.picProcess.text(i+"/"+t.length)})},updateProgress:function(t){var i=t.activeIndex,a=this.items.length;i=i==a||0==i?a:i%a,this.picProcess.text(i+"/"+this.items.length),this.swiperContainer.off(e.transitionEnd),this.picTitle.text($(".swiper-slide-active img").attr("title"))},_bindEvent:function(){var e=this;$("#close_image",this.page).on("touchstart mousedown",function(t){e.oScreenX=(t.touches?t.touches[0]:t).screenX,e.oScreenY=(t.touches?t.touches[0]:t).screenY}).on("click",function(t){Math.abs(e.oScreenX-t.screenX)<10&&Math.abs(e.oScreenY-t.screenY)<10&&e.hide()})}},i}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(30)],n=function(e){var t={type:["mobp480_1500","mobp540_1500","mobp720_1500","mobp1080_1500","mobp640_1500","mobp750_1500","mobp1242_1500"],getHDTypeByDevice:function(){var t="undefined"!=typeof devicePixelRatio?devicePixelRatio:1;return e.isPad?2==t?this.type[3]:this.type[1]:t>=3?this.type[6]:2==t?this.type[5]:this.type[1]},replaceUrl:function(e,t){var i=e.lastIndexOf("/"),a=e.substring(i+1,i.length),n=e.substring(0,i).lastIndexOf("/"),s=e.substring(0,n+1);return s+t+"/"+a}};return t}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(4),i(37)],n=function(e,t){$.extend($.fn,{slideSelector:function(i){var a={TEMPLATE:{ITEM:'<li class="radio-item ${class}" value="${value}"><label class="label-radio clearfix"><div class="radio-icon"><span class="radio"></span></div><div class="radio-text">${text}</div><div class="check"></div></label></li>',CONTAINERHEAD:'<div class="slide-selector"><header class="bar-nav"><div class="radio-title"><span class="title">${title}</span><span class="cancel">取消</span></div></header><ul class="page-content">',CONTAINERFOOT:'</ul><div class="arrow up left"></div><div class="describe">${describe}</div></div>'},option:{showType:"transition",transitionClass:"selector-active",showTransition:!0},page:null,targetElement:null,disableIndex:null,config:i,callback:function(){},init:function(){var t=this.config,i=this;if(t.data&&0!==t.data.length){t.targetElement&&(this.targetElement=t.targetElement),t.callback&&(this.callback=t.callback),t.disableIndex&&(this.disableIndex=t.disableIndex),this.data={};for(var a=this.TEMPLATE.CONTAINERHEAD.replace("${title}",t.title),n=0;n<t.data.length;n++){var s=this.TEMPLATE.ITEM,o=t.data[n];s=s.replace("${value}",o.value),s=s.replace("${text}",o.text),s=s.replace("${class}",this.disableIndex&&this.disableIndex==n?"disabled-item":""),this.data[(""==o.value?0:o.value)+o.text.trim()]=o,a+=s}a+=this.TEMPLATE.CONTAINERFOOT.replace("${describe}",t.describe?t.describe:"");var r=$(a),l=this.setValue(this);e.getActiveLayer()?r.appendTo(e.getActiveLayer()):r.appendTo("body"),t.initValue&&(r.find('li[value="'+t.initValue.value+'"]').addClass("selected").find(".radio").addClass("selected"),this.callback&&this.callback(t.initValue)),t.describe||r.find(".describe").hide(),this.page=r,$(r).on("click","ul li",l),$("header .cancel",r).on("click",function(){i.hide()})}},beforeShow:function(i){var a=this;if($(e.getActiveLayer()).off("click",".advanced-mask-layer").on("click",".advanced-mask-layer",function(){a.hide()}),e.isPad){if(this.page.hasClass("selector-active"))return this.hide(),!0;var n=(e.getActiveLayer().find(".page-content"),e.getActiveLayer().width()),s=e.getActiveLayer().height(),a=this,o=e.getElementVisibleTop(this.targetElement[0]),r=e.getElementVisibleLeft(this.targetElement[0]);o+this.targetElement.height();(o+this.targetElement.height()/2)/s>.5?(this.page.find(".arrow").removeClass("up").addClass("down"),this.page.css("top","auto"),this.page.css("bottom",s-o+15+"px")):(this.page.find(".arrow").removeClass("down").addClass("up"),this.page.css("top",o+this.targetElement.height()+15+"px"),this.page.css("bottom","auto")),r+this.targetElement.width()/2/n>.5?(this.page.find(".arrow").removeClass("left").addClass("right"),this.page.css("left","auto"),this.page.css("right",n-(r+this.targetElement.width()/2)-38+"px")):(this.page.find(".arrow").removeClass("right").addClass("left"),this.page.css("right","auto"),this.page.css("left",r-38+"px"))}t.showAdvancedLoad()},afterShow:function(){var t=this.page.find("ul.page-content");e.isPad?t.css("margin-bottom",this.page.find(".describe").height()+"px"):t.css("margin-top",this.page.find(".describe").height()+1+"px")},afterHide:function(){$(e.getActiveLayer()).off("click",".advanced-mask-layer"),t.removeAdvancedLoad(),e.isPad&&(this.page.removeClass("page-transitioning"),this.page.off(e.transitionEnd))},setData:function(e){for(var t="",i=0;i<e.length;i++){var a=this.TEMPLATE.ITEM,n=e[i];a=a.replace("${value}",n.value),a=a.replace("${text}",n.text),a=a.replace("${class}",this.disableIndex&&this.disableIndex==i?"disabled-item":""),this.disableIndex&&this.disableIndex==i&&(a=a.replace("${class}","disabled-item")),this.data[(""==n.value?0:n.value)+n.text.trim()]=n,t+=a}this.page.find("ul").html(t)},selectValue:function(e){this.page.find("li").removeClass("selected").find(".radio").removeClass("selected"),this.page.find("li[value='"+e+"']").addClass("selected").find(".radio").addClass("selected")},setValue:function(e){return function(){var t=$(this);if(!e.disableIndex||e.config.data[e.disableIndex].value!=t.attr("value")){var i=e.data[t.attr("value")+t.text().trim()];t.siblings().removeClass("selected").find(".radio").removeClass("selected"),t.addClass("selected").find(".radio").addClass("selected"),e.hide(),e.callback&&e.callback(i)}}},changeDisable:function(e){e?this.disableIndex=e:this.disableIndex=null,this.setData(this.config.data)}};return a.elem=$(this),a.targetElement||(a.targetElement=a.elem),a.elem.on("click",function(e){a.show(e),a.elem.blur()}),a}})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(30),i(36)],n=function(e,t){e.onrender("createComment",function(e){function i(){var e=document.referrer;if("string"==typeof e&&e.length){var t=Date.parse(new Date)/1e3,i=e.split("?");i.length>1?i[1]+="&t="+t:i[1]="t="+t,i[0]+="?",location.href=i.join("")}else history.go(-2)}var a=function(e){this.digest={},this.data=e||{},this.updates={}};a.prototype.watch=function(e,t){this.digest.hasOwnProperty(e)||(this.digest[e]=[]),this.digest[e].push(t)},a.prototype.trigger=function(){var e=this;if(arguments.length){var t=[].shift.call(arguments),i=arguments;e.digest.hasOwnProperty(t)&&e.digest[t]!=[]&&[].forEach.call(e.digest[t],function(t){t.apply(e,i)})}};var n=new a({nickname:"",content:"",orderid:window.$DATA_CREATECOMMENTS.orderId,score_cmt:!1});n.watch("nickname",function(e){this.data.nickname=this.nickname_disabled?"":e}),n.watch("traveltype",function(e){this.data.traveltype=e||""}),n.watch("star",function(e,t){this.score_cmt||(this.score_cmt=!0),this.data[e]=t}),n.watch("content",function(e){this.data.content=e||""}),n.checkData=function(){var e=!0;return this.data.content=this.data.content||"",this.data.orderid?isNaN(this.data.traveltype)?(t.alert("请选择出行身份"),e=!1):this.score_cmt?this.data.nickname||this.nickname_disabled?this.data.content?this.data.content.length<10&&(t.alert("请至少填写10个字"),e=!1):(t.alert("请填写点评"),e=!1):(t.alert("请填写昵称"),e=!1):(t.alert("请给酒店评分"),e=!1):(t.alert("无效订单"),e=!1),e},n.$form_checked=$(".submit_comments .com_form .form_checked",e),n.$nick_input=$(".f_ipt input.form_input",e),n.$identities=$(".com_user .user_pic ul.user_lst li",e),n.$textarea=$(".com_tte textarea",e),n.$textarea_p=$(".com_tte .tte_tips",e),$("header .icon-back",e).click(function(){i()}),n.data.nickname=n.$nick_input.val()||"",n.data.nickname&&(n.nick_default=n.data.nickname),n.$nick_input.attr("readonly",!0),n.$identities.click(function(){var e=$(this).attr("value");e&&e!=n.data.traveltype&&(n.$identities.removeClass("user_on"),$(this).addClass("user_on"),n.trigger("traveltype",parseInt(e)))}),n.$form_checked.click(function(){var e=n.$nick_input,t=e.length?e.val():"";n.$form_checked.toggleClass("form_checked-b"),n.$form_checked.not(".form_checked.form_checked-b").length?(n.nickname_disabled=!1,n.nick_default?n.trigger("nickname",n.nick_default):(e.removeAttr("readonly"),n.trigger("nickname",t))):(n.nickname_disabled=!0,e.attr("readonly",!0),n.trigger("nickname",""))});var s=function(t,i,a){this.ele=$(t,e),this.ele.length&&i&&this.bind(i,a)};s.prototype.bind=function(e,t){t&&"number"==typeof t&&(n.data[e]=t),this.ele.click(function(t){var i=$(this).offset().left,a=$(this).width(),s=t.pageX,o=$(this).find(".score"),r=Math.ceil(100*(s-i)/a/20);n.updates[e]&&r==n.data[e]&&r>1&&r--,n.updates[e]||(n.updates[e]=!0),o.width(20*r+"%"),n.trigger("star",e,r)})};var o=(new s(".submit_comments .com_star li:nth-child(1) .star_con","facilityscore",4),new s(".submit_comments .com_star li:nth-child(2) .star_con","servicescore",4),new s(".submit_comments .com_star li:nth-child(3) .star_con","sanitationscore",4),new s(".submit_comments .com_star li:nth-child(4) .star_con","positionscore",4),new s(".submit_comments .com_star li:nth-child(5) .star_con","costscore",4),500),r=0;n.$textarea_p.text("最少输入10个字，还可以输入"+o+"字"),n.$textarea.on("input",function(){var e=$(this).val(),t=function(e){var t=0;return e.replace(/\n/g,function(){t+=1}),t}(e);r<=o&&(!!n.textarea_disabled!=!!(o-e.length<=10)&&(o-e.length<=10?n.$textarea_p.addClass("warning"):n.$textarea_p.removeClass("warning")),n.textarea_disabled=o-e.length<=10,last_length=o-e.length-t,n.$textarea_p.text("最少输入10个字，还可以输入"+(last_length>0?last_length:0)+"字"),n.trigger("content",e)),r=e.length-t});var l={init:void 0,bAccess:!0,count:10,timer:null,$mobilesubmit:$("#mobilesubmit"),$mobilesubmit_span:$("#mobilesubmit span"),delayCreateComment:function(){l.count=10,l.$mobilesubmit.attr("style","opacity:0.7"),l.bAccess=!1,l.timer=setInterval(function(){l.$mobilesubmit_span.text("重新提交("+l.count+"s)"),l.count<0&&(l.bAccess=!0,l.$mobilesubmit.attr("style",""),l.$mobilesubmit_span.text("提交评价"),clearInterval(l.timer)),l.count--},1e3)},clearDelayCreateComment:function(){clearInterval(l.timer),l.bAccess=!0,l.$mobilesubmit.attr("style",""),l.$mobilesubmit_span.text("提交评价")},createCommentPost:function(){l.bAccess&&(l.delayCreateComment(),$.ajax({timeout:4e4,type:"POST",url:window.pageInfo.subPath+"api/postcomments",dataType:"json",data:n.data,success:function(e){if(""==e.ErrorCode)t.newAlert({msg:"点评成功",btnText:"确定",callback:function(){return i(),!1}});else{switch(e.errorCode){default:t.alert(e.ErrorMessage)}l.clearDelayCreateComment()}},error:function(){t.alert("提交失败，请稍后重试")},beforeSend:function(){slark.get("createComment").startLoading()},complete:function(){slark.get("createComment").stopLoading()}}))}};$(".submit_bar .comments_btn").on("click",function(){n.checkData()&&l.createCommentPost()})})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,i){var a,n;a=[i(22),i(30),i(36),i(37),i(62),i(63)],n=function(e,t,i,a,n,s){t.onrender("photo",function(e){var t=$DATA_PHOTO,o=new n;a.add("picSwipper",o);var r={template:"",template4nav:"",urlSet:[],urlIndex:0,imageData:null,target:null,ajaxState:!1,init:function(){r.ajaxImages(),$(e).off("click","#images li div").on("click","#images li div",function(){r.photoShow($(this).parent().parent().find("li"),$(this).parent().index()+1)}),$(e).off("click","#navs li").on("click","#navs li",r.imageRender)},imageRender:function(){$("#images").css("overflow","hidden");var t=$(this).data("id");0==$("#image_"+t,e).length&&(r.template=r.buildImageTemp(r.imageData[t],"image_"+t,1,"vr"==t),$("#images",e).append(r.template)),l=[],$("#image_"+t+" img",e).imglazyload(),$(this).addClass("on").siblings().removeClass("on"),$("#image_"+t,e).siblings().hide(),$.fn.imglazyload.detect(),$("#image_"+t,e).show(),$("#images").css("overflow","auto"),$("#images").scrollTop(0)},initImages:function(t){t.all.length<=0||r.ajaxState&&(r.imageData=t,r.imageRender.call($("#navs li.on",e)))},buildImageTemp:function(e,t,i,a){var n=["<ul id='"+t+"' "+(i?"":"style='display:none'")+">"];return[].forEach.call(e,function(e){n.push("<li>"),n.push("<img data-src='"+e.imagePath+"' data-title='"+e.imageNameCn+"' />"),n.push("<div "+(a?"class='vcr'":"")+"><span>"+e.imageNameCn+"</span></div></li>")}),n.push("</ul>"),n.join("")},initNav:function(t){t.all.length<=0||r.ajaxState&&(r.template4nav="<ul>",r.template4nav+="<li class='on' data-id='all'><span>全部</span><span>"+t.all.length+"</span></li>",t.outside.length>0&&(r.template4nav+="<li data-id='outside'><span>外观</span><span>"+t.outside.length+"</span></li>"),t.room.length>0&&(r.template4nav+="<li data-id='room'><span>客房</span><span>"+t.room.length+"</span></li>"),t.rest.length>0&&(r.template4nav+="<li data-id='rest'><span>餐厅/会议室</span><span>"+t.rest.length+"</span></li>"),t.pub.length>0&&(r.template4nav+="<li data-id='pub'><span>公共区域</span><span>"+t.pub.length+"</span></li>"),t.vr.length>0&&(r.template4nav+="<li data-id='vr'><span>酒店VR全景</span><span>"+t.vr.length+"</span></li>"),t.arround.length>0&&(r.template4nav+="<li data-id='arround'><span>周边景点</span><span>"+t.arround.length+"</span></li>"),t.user.length>0&&(r.template4nav+="<li data-id='user'><span>网友上传</span><span>"+t.user.length+"</span></li>"),t.other.length>0&&(r.template4nav+="<li data-id='other'><span>其他</span><span>"+t.other.length+"</span></li>"),r.template4nav+="</ul>",$("#navs",e).append(r.template4nav))},ajaxImages:function(){r.ajaxState=!1,slark.get("photo").startLoading(),$.ajax({timeout:1e4,url:window.pageInfo.subPath+"api/photo/?hotelid="+t.hotelId+"&type="+t.type+"&size="+t.size,type:"get",success:function(t){if(slark.get("photo").stopLoading(),r.ajaxState=!0,null==t.errorCode)t.images&&t.images.all.length>0?(r.initNav(t.images),r.initImages(t.images)):(r.template="<ul><li>该酒店暂无图片</li></ul>",$(".hotel-picshow",e).append(r.template));else{if("API_ERROR"==t.errorCode)return void i.alert("数据获取失败，请刷新后重试");if("NET_TIMEOUT"==t.errorCode)return void i.alert("数据获取失败，请刷新后重试")}},error:function(e,t,a){slark.get("photo").stopLoading(),i.alert("数据获取失败，请刷新后重试")}})},photoListFill:function(e){0!==e.length&&(r.urlSet=[],e.each(function(){var e=$(this).find("img"),t=s.getHDTypeByDevice(),i=e.attr("src")||e.data("src"),a=s.replaceUrl(i,t),n=e.data("title");r.urlSet.push({url:a,title:n})}))},photoShow:function(e,t){r.photoListFill(e),r.urlSet.length>0&&(r.urlIndex=t,o.show(r.urlSet,r.urlIndex))}},l=[];$.fn.imglazyload=function(e){function t(t){var i=c?window:o.offset(),a=i[d.win[0]],n=i[d.win[1]];return a>=t[d.img[0]]-e.threshold-n&&a<=t[d.img[0]]+t[d.img[1]]}function i(t){var i=$(t),a={},n=i;h||($.each(i.get(0).attributes,function(){~this.name.indexOf("data-")&&(a[this.name]=this.value)}),n=$("<img />").attr(a)),i.trigger("startload"),n.on("load",function(){!h&&i.replaceWith(n),i.trigger("loadcomplete"),n.off("load")}).on("error",function(){var e=$.Event("error");i.trigger(e),e.defaultPrevented||l.push(t),n.off("error").remove()}).attr("src",i.attr(e.urlName))}function a(){var e,a,n,o;for(e=l.length;e--;)a=$(o=l[e]),n=a.offset(),t(n)&&(s.call(l,e,1),i(o))}function n(){!h&&p&&$(l).append(p)}var s=Array.prototype.splice,e=$.extend({threshold:0,container:window,urlName:"data-src",placeHolder:"",eventName:"scrollStop",innerScroll:!1,isVertical:!0},e),o=$(e.container),r=e.isVertical,c=$.isWindow(o.get(0)),d={win:[r?"scrollY":"scrollX",r?"innerHeight":"innerWidth"],img:[r?"top":"left",r?"height":"width"]},p=$(e.placeHolder).length?$(e.placeHolder):null,h=$(this).is("img");return!c&&(d.win=d.img),l=Array.prototype.slice.call($(l.reverse()).add(this),0).reverse(),$.isFunction($.fn.imglazyload.detect)?(n(),this):($(document).ready(function(){n()}),!e.innerScroll&&$(window).on(e.eventName+" ortchange",function(){a()}),$.fn.imglazyload.detect=a,this)},r.init(),$("#images",e).on("scroll",function(){$.fn.imglazyload.detect()})})}.apply(t,a),!(void 0!==n&&(e.exports=n))},function(e,t,a){var n=(a(22),a(30)),s=a(34),o=a(53),r=a(35),l=a(36),c=a(37),d=(a(43),a(33)),p=a(40),h=a(62),u=a(63),f=a(55),m=a(54),g=a(57),v=a(58);a(64),a(46),n.onrender("h5_detail",function(e){function t(){var e=n.getActiveLayer().children("header").find("a[data-rel]"),t=$DATA_DETAIL.backUrl,i=t.indexOf("?"),a="indate="+n.getHash("indate"),s="outdate="+n.getHash("outdate"),r=window.pageInfo.subPath+$DATA_DETAIL.hotelid+"/#indate="+n.getHash("indate")+"&outdate="+n.getHash("outdate");if($DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult&&fastChoice.choosedItem.length>0&&(r+="&selectUniqueIDArr="+n.getHash("selectUniqueIDArr")),slark.get("h5_detail").url=r,i>0){for(var l=t.substring(i+1,t.length),c=l.split("&"),d=!1,p=!1,h=0;h<c.length;h++){var u=c[h];0==u.indexOf("indate")?(c[h]=a,d=!0):0==u.indexOf("outdate")&&(c[h]=s,p=!0)}0==d&&c.push(a),0==p&&c.push(s),t=t.substring(0,i+1)+c.join("&")}else t+="#"+a+"&"+s;$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult&&fastChoice.choosedItem.length>0&&(t+="&selectUniqueIDArr="+n.getHash("selectUniqueIDArr")),e.attr("data-href",t),o.setFoundUrl(window.pageInfo.pt)}function a(e){var t,i,a=x.hotelDetailInfo||{},n={hotelName:a.hotelName,hotelAddress:a.hotelAddress,hotelTel:e.hotelTel,generalAmenities:a.generalAmenities,featureInfo:"string"==typeof a.featureInfo?a.featureInfo.replace(/(\r\n|\n|\r|\\\\n)/gm,"<br/>").split("<br/>"):"",openDate:"string"==typeof a.openDate?a.openDate.replace(/[\u4E00-\u9FA5\uF900-\uFA2D]/g,"-").substring(0,10):"",decorateDate:"string"==typeof a.decorateDate?a.decorateDate.replace(/[\u4E00-\u9FA5\uF900-\uFA2D]/g,"-").substring(0,10):"",hotelPolicies:"object"==typeof a.hotelPolicies?a.hotelPolicies:[],hotelPayCard:a.hotelPayCard,traffics:[],facilityList:[]},s=a.positionTrafficInfoListMap,o=a.facilityList,r=[4,2,1,3,6,7,5],l=[1,2,4,5,6,7,8,10],c={},d=0,p={1:"停车",2:"wifi",4:"餐厅",5:"健身房",6:"游泳池",7:"接机服务",8:"会议室",10:"行李寄存"},h={1:1,2:2,4:3,5:7,6:5,7:4,8:6,10:8};for(i=0;i<r.length;i++)t={},"object"==typeof s[r[i]]&&s[r[i]].length&&(t.type=r[i],t.positions=s[r[i]],n.traffics.push(t));for(i=0;i<o.length;i++)c[o[i].type]={hasFree:o[i].hasFree,hasSupport:o[i].hasSupport,type:o[i].type,name:p[o[i].type],icon:h[o[i].type]};for(i=0;i<l.length;i++)c[l[i]]?(n.facilityList.push(c[l[i]]),c[l[i]].hasSupport||(d+=1)):(d+=1,n.facilityList.push({type:l[i],name:p[l[i]],icon:h[l[i]]}));for(i=0;i<n.hotelPolicies.length;i++)n.hotelPolicies[i].value&&"string"==typeof n.hotelPolicies[i].value&&(n.hotelPolicies[i].value=n.hotelPolicies[i].value.replace(/(\r\n|\n|\r|\\\\n)/gm,"<br/>").split("<br/>"));return n.has_faclity=d!=l.length,n}function y(){iosTop=$(".new_detailst").scrollTop(),androidTop=window.scrollY,iosTop>100||androidTop>100?$("header.detail-header").removeClass("none_backg"):(androidTop<=100||iosTop<=100)&&$("header.detail-header").addClass("none_backg");var t=$(".stickys.bar",e),i=$(".detail-hotel").length>0?n.getElementTop($(".detail-hotel")[0]):0,a=z.hasClass("android")?androidTop:iosTop;if(!B){if(0==i)return;$DATA_DETAIL.customization&&$DATA_DETAIL.customization.detail&&$DATA_DETAIL.customization.detail.noHeader?t.css("top","-1px"):t.css("top","43px"),a>=i?t.css("display","block"):a<i&&!fastChoice.displayFlag&&t.css("display","none")}}v.init();var w="//m.elongstatic.com/static/webapp/hotelwxqb/2016/08/v2/",T=JSON.parse($DATA_DETAIL.customization),b=(!!T.detail&&T.detail.gCommentRateColor,$("html").hasClass("android"));document.body.scrollTop=0,$("body").off("onshow").on("onshow",function(e){"comments"===e.detail&&(document.body.scrollTop=0)}),sessionStorage.getItem("HotelDistance"),$DATA_DETAIL.hotelWeiXinPro=JSON.parse($DATA_DETAIL.hotelWeiXinPro),$DATA_DETAIL.customization&&($DATA_DETAIL.customization=JSON.parse($DATA_DETAIL.customization));var I,C,x=$DATA_DETAIL,A=location.hash,_=location.pathname;$DATA_DETAIL.customization&&$DATA_DETAIL.customization.detail&&$DATA_DETAIL.customization.detail.replacelocalstorage&&s.replaceStorage($DATA_DETAIL.customization.detail.replacelocalstorage),o.setFoundUrl(window.pageInfo.pt);var S={init:function(){var e={};"1"===$DATA_DETAIL.h5useapp&&(e.type=$DATA_DETAIL.pageid,e.hotelid=$DATA_DETAIL.hotelid,e.indate=n.getHash("indate"),e.outdate=n.getHash("outdate"),e.channel=$DATA_DETAIL.channel,f.launchApp(e,window,document))}};S.init();var k={isHaveActiveCompoment:!1,activeCompoment:["0","0"],pluginCreate:function(t){$(e).append(t)},pluginShow:function(t,i){$("."+t,e).length?($("."+t,e).css("display","block"),setTimeout(function(){$("."+t,e).removeClass("weixin-hide"),$(e).off("webkitTransitionEnd","."+t)},0)):$(e).append(i),$("html").css("overflow","hidden"),$("body, .new_detailst").addClass("weixin-overflowhidden"),k.maskState(!0),k.isHaveActiveCompoment=!0,b&&(fastChoice.displayFlag=!0),$(".choice").addClass("tjclick")},pluginHide:function(t){$("."+t,e).addClass("weixin-hide"),$(e).off("webkitTransitionEnd","."+t).on("webkitTransitionEnd","."+t,function(){[].forEach.call($("."+t),function(i){"none"!=$(i).css("display")&&$("."+t,e).hide()}),$(e).off("webkitTransitionEnd","."+t)}),k.maskState(),$("html").css("overflow","auto"),$("body, .new_detailst").removeClass("weixin-overflowhidden"),k.isHaveActiveCompoment=!1,b&&fastChoice.displayFlag&&$(".bar.stickys").hide(),fastChoice.displayFlag&&($(".bar.stickys",e).css("display","none"),fastChoice.displayFlag=!1),$(".choice").removeClass("tjclick");var i=$(".new_detailst .detail-date",e),a=n.getElementTop(i[0]);$("body").scrollTop(a)},maskState:function(t){t?$(".weixin-custom-mask",e).length?$(".weixin-custom-mask",e).show():$(e).append('<div class="weixin-custom-mask"></div>'):$(".weixin-custom-mask",e).hide()},doCleanCompoment:function(){if(k.activeCompoment[0]!=k.activeCompoment[1]){$(".list-weixin-component",e).hide().addClass("weixin-hide"),$("html").css("overflow","auto"),$("body, .new_detailst").removeClass("weixin-overflowhidden"),k.maskState(),$(".bar.stickys").hide();var t=$(".new_detailst .detail-date",e),i=n.getElementTop(t[0]);$("body").scrollTop(i),fastChoice.displayFlag=!1}},pluginToggle:function(e,t){k.isHaveActiveCompoment?k.activeCompoment[0]==k.activeCompoment[1]?(k.pluginHide(e),k.isHaveActiveCompoment=!1):(k.pluginShow(e),k.isHaveActiveCompoment=!0,k.arrowToggle($("."+k.activeCompoment[0]))):(k.pluginShow(e,t),k.isHaveActiveCompoment=!0)},arrowToggle:function(e,t,i){function a(e,t,i){for(var a=e.className||e.getAttribute("class"),n=a.split(" "),s=[],o=0,r=n.length;o<r;o++)n[o]!=t&&n[o]!=i&&s.push(n[o]);i?s.push(i):"";var l=s.join(" ");(e.className=l)||e.setAttribute&&e.setAttribute("class",l)}for(var n=0;n<e.length;n++){var s=e[n].className;void 0!=t?e[n].className=s.split(" ")[0]+" "+t:s.match(/\son/)?a(e[n],"on","unon"):s.match(/\sarrowon/)?a(e[n],"arrowon",""):s.match(/\sunon/)?a(e[n],"unon","on"):a(e[n],"","arrowon")}},customMaskEvent:function(){$(e).off("click",".weixin-custom-mask").on("click",".weixin-custom-mask",function(t){k.pluginHide("list-weixin-component"),fastChoice.choosedItem.length>0?k.arrowToggle($(".choice",e),"unon"):k.arrowToggle($(".choice",e),""),fastChoice.highlightChoice(),k.activeCompoment=[0,0]})}};DateComponents={calendar:null,target:$(".detail-date",e),inDate:$(".detail-date .indate",e),outDate:$(".detail-date .outdate",e),total:$(".detail-date .ol_night",e),isDeepNight:x.deepNightFlag>0,startweek:$(".detail-date .startweek",e),endweek:$(".detail-date .endweek",e),init:function(){var t=new Date,i=x.deepNightFlag,a=[{name:"indate",value:DateComponents.getCookieValue("indate")},{name:"outdate",value:DateComponents.getCookieValue("outdate")}],s=DateComponents.getCookieValue("selectUniqueIDArr4Detail");n.getHash("selectUniqueIDArr")?a.push({name:"selectUniqueIDArr",value:n.getHash("selectUniqueIDArr")}):s&&'""'!=s&&a.push({name:"selectUniqueIDArr",value:s.replace(/"/g,"")}),n.setHash(a),this.calendar=$("").calendar({mindate:i?t.add(-1,3):t,maxdate:t.add(179,3),startText:"入住",endText:"离店",text:"选择",isDouble:!0,isDeepNight:i,selectDate:function(){return[DateComponents.inDate.attr("data"),DateComponents.outDate.attr("data")]},eventCallBack:function(t,i){var a=new Date(t),s=new Date(i),o={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",0:"日"};t==x.today?DateComponents.startweek.html("今天"):t==x.yesterday?DateComponents.startweek.html("昨天"):t==x.tomorrow?DateComponents.startweek.html("明天"):DateComponents.startweek.html("周"+o[a.getDay()]),1==x.deepNightFlag&&t==x.yesterday?$(".detail-date .deepNightFlag",e).show():$(".detail-date .deepNightFlag",e).hide(),i==x.today?DateComponents.endweek.html("今天"):i==x.yesterday?DateComponents.endweek.html("昨天"):i==x.tomorrow?DateComponents.endweek.html("明天"):DateComponents.endweek.html("周"+o[s.getDay()]),DateComponents.inDate.attr("data",t),DateComponents.inDate.html(a.format("MM-dd")),DateComponents.outDate.attr("data",i),DateComponents.outDate.html(s.format("MM-dd")),DateComponents.total.html("共"+s.diff(a,3)+"晚"),b&&$(".flight-order-head",e).addClass("none_backg"),setTimeout(function(){n.setHash([{name:"indate",value:t},{name:"outdate",value:i}])},500),window.DATETIME={indate:t,outdate:i},$(".new_detailst").scrollTop(n.getElementTop($(".type",e)[0])-$(".new_detailst .stickys").height()+8)},beforeSelected:function(e,t,i){return!(i&&new Date(t)>new Date(e).add(20,3))||(l.alert("如果您需要在酒店入住20天以上，请拨打客服热线400-666-1166，或修改入住时间。"),!1)}}),c.add("calendar",this.calendar),DateComponents.target.off("click").on("click",function(){DateComponents.calendar.show(),$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult&&(fastChoice.choosedItem.length>0?k.arrowToggle($(".choice",e),"unon"):k.arrowToggle($(".choice",e),""),
$(".detail-filter").css("display","none"),k.activeCompoment.shift(),k.activeCompoment.push("0"),k.doCleanCompoment())})},getCookieValue:function(e){var t=document.cookie,i=t.indexOf(""+e+"=");return i==-1&&(i=t.indexOf(e+"=")),i==-1?t=null:(i=t.indexOf("=",i)+1,cookieEndAt=t.indexOf(";",i),cookieEndAt==-1&&(cookieEndAt=t.length),t=unescape(t.substring(i,cookieEndAt))),t}},DateComponents.init();var D=localStorage.getItem("isWXNewUser_HB")&&JSON.parse(localStorage.getItem("isWXNewUser_HB"))||"";if(navigator.userAgent.search(/MicroMessenger/i)>-1&&"wxqbh5"==TJObject.chid&&D&&D.isShowTip&&!D.disabled){var L=new g({tpl:"tipTpl",formatPlaceholder:{text:D.text||"",btnStyle:"<i></i>"},after:$(".info ul .info-map",e)});L.bindClick($(".close_hb",e),function(){L.close()})}$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult?(n.getActiveLayer().addClass("individ"),k.customMaskEvent()):n.getActiveLayer().removeClass("individ"),fastChoice={TEMPLATE:{BODY:'<div class="detail-filter filter-sp newfilter-sp list-weixin-component filter-fastchoose"><span class="arrow"></span><div class="sp-content"><div class="price breakfast"><div class="sp-tit">早餐</div><ul class="price-list room-list"></ul></div><div class="price pay-type"><div class="sp-tit">支付方式</div><ul class="price-list room-list"></ul></div><div class="price second service"><div class="sp-tit">服务（可多选）</div><ul class="price-list room-list"></ul></div></div><div class="bot-btn bar"><ul><li id="filter-reset" class="tjclick" data-tj={"cspot":"emptyRoomtypeFilter"}>重置</li><li class="on tjclick" id="starprice-submit" data-tj={"cspot":"submitRoomtypeFilter"}>确定</li></ul></div></div>',fastChoiceItem:'<li class="${checked}" kw=${kw} data-id=${uniqueID}>${keywords}</li>'},choosedItem:[],fastFilterInfo:{},fastChoiceItem:null,fastChoice:null,filterObj:null,displayFlag:!1,fastFilterObj:null,init:function(){this.page=$(this.TEMPLATE.BODY),k.pluginCreate(this.page),this.fastChoiceItem=$(".fastchoose ul",e),this.fastChoice=$(".detail-filter .sp-content",this.page),this.renderData(),this.bindEvent()},filterArray:function(){if(null===$DATA_DETAIL.fastFilterInfo)return void $(".fastchoose").hide();this.fastFilterInfo=$DATA_DETAIL.fastFilterInfo[0].subFastFilterIns;var e={breakfast:"",payType:"",service:"",fastChoice:[]};for(var t in this.fastFilterInfo){var i=this.fastFilterInfo[t];switch(i.KeyWord_cn||i.keyWord_cn){case"早餐":e.breakfast=i;break;case"支付方式":e.payType=i;break;case"服务(可多选)":e.service=i}}if(e.payType)for(var t in e.payType.subFastFilterIns){var a=e.payType.subFastFilterIns[t];if("到店付"===a.KeyWord_cn||"到店付"===a.keyWord_cn){e.fastChoice.push(a);break}}if(e.service)for(var n in e.service.subFastFilterIns){var t=e.service.subFastFilterIns[n],s=t.KeyWord_cn||t.keyWord_cn;"免费取消"!==s&&"立即确认"!==s||e.fastChoice.push(t)}this.fastFilterInfo=e,$DATA_DETAIL.fastFilterInfos=e},renderData:function(){function e(e,t){var i="";if(e)for(var a in e)if(e[a].KeyWord_cn||e[a].keyWord_cn){var n=e[a].checked?"on":"";i+=fastChoice.TEMPLATE.fastChoiceItem.replace("${checked}",n).replace("${kw}",t).replace("${uniqueID}",e[a].uniqueID).replace("${keywords}",e[a].KeyWord_cn||e[a].keyWord_cn)}return i}if(this.filterArray(),!$.isEmptyObject(this.fastFilterInfo)){var t=this.fastFilterInfo.fastChoice,i=this.fastFilterInfo.service.subFastFilterIns,a=this.fastFilterInfo.breakfast.subFastFilterIns,s=this.fastFilterInfo.payType.subFastFilterIns;this.fastChoiceItem.html(""),$(".detail-filter .sp-content>div",this.page).removeClass("hide"),this.fastChoice.find("ul").html(""),t&&this.fastChoiceItem.html(e(t,"kw0")),a?this.fastChoice.find(".breakfast ul").html(e(a,"kw1")):this.fastChoice.find(".breakfast").addClass("hide"),s?this.fastChoice.find(".pay-type ul").html(e(s,"kw2")):this.fastChoice.find(".pay-type").addClass("hide"),i?this.fastChoice.find(".service ul").html(e(i,"kw3")):this.fastChoice.find(".service").addClass("hide");var o=n.getHash("selectUniqueIDArr");o?this.getChoicedItems(o.split(",")):this.getChoicedItems(),$(".fastchoose > ul li").each(function(){var e=$(this);e.hasClass("on")?e.removeClass("tjclick"):"到店付"==e.text()?e.addClass("tjclick").attr("data-tj",'{"cspot":"paymentInHotel"}'):"免费取消"==e.text()?e.addClass("tjclick").attr("data-tj",'{"cspot":"freeCancellation"}'):"立即确认"==e.text()&&e.addClass("tjclick").attr("data-tj",'{"cspot":"instantConfirm"}')})}},bindEvent:function(){var t=this;$(e).off("click",".choice").on("click",".choice",function(){var i=$(".new_detailst .detail-date",e),a=n.getElementTop(i[0]);$(".new_detailst .detail-hotel",e).parent().hasClass("sticky")?($(".bar.stickys",e).addClass("sticky").css("display","block"),fastChoice.displayFlag=!0):$(".bar.stickys",e).hasClass("fixedToTop")?($(".bar.stickys",e).css("display","block"),fastChoice.displayFlag=!0):fastChoice.displayFlag=!1,$(this).parent().parent().hasClass("bar")||b||$(".new_detailst").scrollTop(a),t.highlightChoice(),k.activeCompoment.shift(),k.activeCompoment.push("detail-filter"),k.pluginToggle("detail-filter",t.page),k.arrowToggle($(".choice",e))}),$(e).off("click",".detail-filter .sp-content ul li").on("click",".detail-filter .sp-content ul li",function(e){var t=$(this);t.toggleClass("on"),"kw3"!==t.attr("kw")&&t.siblings().removeClass("on"),e.stopPropagation()}),$(e).off("click",".fastchoose > ul li").on("click",".fastchoose > ul li",function(){var e=$(this),i=parseInt(e.attr("data-id")),a=$.inArray(i,t.choosedItem),n=$('li[data-id="'+i+'"]',t.page);e.toggleClass("on"),k.pluginHide("detail-filter"),n&&n.each(function(){var e=$(this).siblings(),i=$.inArray(parseInt(e.attr("data-id")),t.choosedItem);"kw2"===e.attr("kw")&&i!==-1&&t.choosedItem.splice(i,1)}),a===-1?t.choosedItem.push(i):t.choosedItem.splice(a,1),t.handleChoice()}),$(e).off("click",".detail-filter #starprice-submit").on("click",".detail-filter #starprice-submit",function(){t.getChoicedItems(),t.handleChoice(),k.pluginHide("filter-fastchoose")}),$(e).off("click",".detail-filter #filter-reset").on("click",".detail-filter #filter-reset",function(){t.clearChoice()})},getChoicedItems:function(t){var i=this;t?i.choosedItem=t:(i.choosedItem=[],[].forEach.call($(".detail-filter .sp-content ul li",this.page),function(e){var t=parseInt($(e).attr("data-id")),a=$.inArray(t,i.choosedItem);$(e).hasClass("on")&&a<0&&i.choosedItem.push(t)})),i.choosedItem=i.arrParseInt(i.choosedItem),i.highlightChoice(),i.choosedItem.length>0?k.arrowToggle($(".choice",e),"unon"):k.arrowToggle($(".choice",e),"")},arrParseInt:function(e){for(var t=[],i=0;i<e.length;i++)e[i]&&t.push(+e[i]);return t},handleChoice:function(){var t="#indate="+n.getHash("indate")+"&outdate="+n.getHash("outdate");fastChoice.choosedItem.length>0?t+="&selectUniqueIDArr="+fastChoice.choosedItem.toString():t="?_t="+(new Date).getTime()+t,History.replaceState(n.getActiveId(),document.title,location.pathname+t),$(".new_detailst").scrollTop(n.getElementTop($(".type",e)[0])-$(".new_detailst .stickys").height()+9)},highlightChoice:function(){var t=$(".detail-filter .sp-content ul li",this.page),i=$(".fastchoose ul li",e);t.removeClass("on"),i.removeClass("on"),[].forEach.call(this.choosedItem,function(e){[].forEach.call(t,function(t){$(t).attr("data-id")==e&&$(t).addClass("on")}),[].forEach.call(i,function(t){$(t).attr("data-id")==e&&$(t).addClass("on")})})},clearChoice:function(){$(".detail-filter .sp-content ul li",this.page).removeClass("on")}},$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult&&fastChoice.init(),n.getActiveLayer().off("onhide").on("onhide",function(){$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult&&(fastChoice.choosedItem.length>0?k.arrowToggle($(".choice",e),"unon"):k.arrowToggle($(".choice",e),""),$(".detail-filter").css("display","none"),$(".bar.stickys").css("display","none"),k.activeCompoment.shift(),k.activeCompoment.push("0"),k.doCleanCompoment())}),n.getActiveLayer().off("beforeshow").on("beforeshow",function(){document.body.scrollTop=0}),$(e).off("click",".choose .tabcomment").on("click",".choose .tabcomment",function(){"IMG"!=event.srcElement.tagName&&0!=$DATA_DETAIL.totalCommentNumber&&n.addPager({url:n.router.getUrlFromTpl("comments")+x.hotelid+"/review/",active:!0})}),$(e).off("click",".pic-wrap > a").on("click",".pic-wrap > a",function(){"IMG"!=event.srcElement.tagName&&n.addPager({url:n.router.getUrlFromTpl("photo")+x.hotelid+"/photo",active:!0})}),$(e).off("click",".info .info-map").on("click",".info .info-map",function(){$DATA_DETAIL&&$DATA_DETAIL.routePlanUrl?location.href="map/?routePlanUrl="+encodeURIComponent($DATA_DETAIL.routePlanUrl):location.href="map/"}),RerenderDataDriver={roomList:{TEMPLATE:{SHOWMORE:'<li class="more"><a>查看更多报价<i class="icon-left icon-bottom"></i></a></li>',NOROOM:'<li class="noroom"><span>抱歉，该酒店暂不可订</span><div class="refresh_btn">重新查询</div></li>',TIMEOUT:'<li class="timeout"><i></i><span>抱歉，加载失败</span><div class="refresh_btn">重新加载</div></li>',FILTERNORESULT:'<li class="filter-noresult errorc"><div class="noconntent"><i></i><p>未找到合适的房型，请修改条件重新查询</p></div></li>'},container:$(".detail-main .type ul",e),imgList:{},init:function(){$(e).off("click",".rooms .more").on("click",".rooms .more",function(){var e=$(this);e.parent().find(".hide").removeClass("hide"),e.remove()}),$(e).off("click",".refresh_btn").on("click",".refresh_btn",function(){var e=$(this).attr("return-url");e?n.addPager({url:e,active:!0}):RerenderDataDriver.roomList.load()}),$(e).off("click",".roomdetail .book").on("click",".roomdetail .book",function(){var e=$(this).children().first(),t=$(this).closest(".roomdetail").index(),i=$(this).closest(".rooms").index(),a={},n=$DATA_DETAIL.roomInfo[i].rpList[t].canCancelInsurance,s=$DATA_DETAIL.roomInfo[i].rpList[t].cancelType;sessionStorage.setItem("insurancesParams",JSON.stringify({newCancelType:s,canCancelInsurance:n})),a.hotelName=$DATA_DETAIL.hotelDetailInfo.hotelName,a.hotelAddr=$DATA_DETAIL.hotelDetailInfo.hotelAddress,a.hotelCity=$DATA_DETAIL.cityName,a.insuranceId="1",sessionStorage.setItem("posterorderParams",JSON.stringify(a)),localStorage.setItem("elongordervisited",!0),e.hasClass("btn3")||(e.attr("app-url")?location.href=e.attr("app-url"):location.href=e.attr("url"))});var t=n.getHash("indate"),i=n.getHash("outdate"),a=DateComponents.inDate.attr("data"),s=DateComponents.outDate.attr("data");t&&i&&(a!=t||s!=i)&&this.loadDataByHash()},loadDataByHash:function(){var e=n.getHash("indate"),i=n.getHash("outdate"),a=new Date(e),s=new Date(i),o=new Date,r=DateComponents.isDeepNight?o.add(-1,3):o;if(e&&i){if(a>=s)return void l.alert("您选择的入住日期晚于离店日期，请修改入住时间。");if(a.dayOfYear()<r.dayOfYear()&&a.getFullYear()<=r.getFullYear())return void setTimeout(function(){l.alert("抱歉，您的入住日早于可预订时间，无法预订，已帮您修改为默认时间。",function(){setTimeout(function(){var e=[{name:"indate",value:DateComponents.inDate.attr("data")},{name:"outdate",value:DateComponents.outDate.attr("data")}];$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult&&fastChoice.choosedItem.length>0&&e.push({name:"selectUniqueIDArr",value:fastChoice.choosedItem.toString()}),n.setHash(e)},400)})},10);if(s>a.add(20,3))return void l.alert("如果您需要在酒店入住20天以上，请拨打客服热线400-666-1166，或修改入住时间。");if(s>o.add(180,3))return void l.alert("抱歉，目前暂不支持入住时间在180天以后的预订，请重新选择时间。");DateComponents.inDate.attr("data",e),DateComponents.inDate.html(a.format("MM-dd")),DateComponents.outDate.attr("data",i),DateComponents.outDate.html(s.format("MM-dd")),DateComponents.total.html("共"+s.diff(a,3)+"晚"),t(),this.load()}},initImgList:function(){var t=0,i=RerenderDataDriver.roomList.imgList,a=u.getHDTypeByDevice();$(".rooms",e).each(function(){var e=$(this),n=e.find(".pic img"),s=[],o=0;e.attr("room_no","no_"+t),n.each(function(){var e=""==this.src?this.getAttribute("srcset"):this.src,i=u.replaceUrl(e,a);s.push(i),this.setAttribute("img_index",o),this.setAttribute("room_no","no_"+t),o++}),i["no_"+t]=s,t++})},map:{showPayType:{0:'<div class="btn2 btn2_center" url="${url}"><span>订</span><p>到店付</p></div>',1:'<div class="btn2" url="${url}"><span>订</span><p>到店付</p><div class="pret">担保</div></div>',2:'<div class="btn2 btn2_center" url="${url}"><span>订</span><p class="btn2_yf">预付</p></div>',3:'<div class="btn3 btn2_center">满</div>',4:'<div class="btn2 btn2_center" app-url="${url}"><span>订</span><p>APP</p></div>'}},getValueFromMap:function(e){var t=RerenderDataDriver.roomList.map;for(i in e)"showPayType"!=i&&t[i]&&(e[i]=t[i][e[i]])},load:function(){var e={indate:n.getHash("indate"),outdate:n.getHash("outdate"),hotelid:$DATA_DETAIL.hotelid};n.getHash("selectUniqueIDArr")&&(e.selectUniqueIDArr=n.getHash("selectUniqueIDArr")),$DATA_DETAIL.shieldData&&$DATA_DETAIL.shieldData.shieldSwitch&&(e.logId=v.data&&v.data.shieldData&&v.data.shieldData.logId?v.data.shieldData.logId:"",e.sdId=v.data&&v.data.shieldData&&v.data.shieldData.tsdScript?v.check(v.data.shieldData.tsdScript):""),RerenderDataDriver.getData(window.pageInfo.subPath+"api/hoteldetailroomlist",e,function(t){var i=RerenderDataDriver.roomList;if(
//!!!!***cpt 。。暂不做处理
t.shieldData&&($DATA_DETAIL.shieldData.shieldSwitch=t.shieldData.shieldSwitch),t.shieldData&&!t.shieldData.validated)return v.isFaile+=1,1==v.isFaile&&(v.data.shieldData.tsdScript=t.shieldData.tsdScript,v.data.shieldData.logId=t.shieldData.logId,e.sdId=v.check(v.data.shieldData.tsdScript),e.logId=t.logId,RerenderDataDriver.getData(url,e,success,errorCallback)),v.isFaile>1&&(n.get("h5_detail").stopLoading(),i.container.html(i.TEMPLATE.TIMEOUT),v.isFaile=0),!1;switch(v.isFaile=0,t.errorCode){case"NET_TIMEOUT":i.loadError({type:"NET_TIMEOUT"});break;case"HOTEL_PRODUCTS_NOT_FOUND":i.loadError({type:"HOTEL_PRODUCTS_NOT_FOUND",url:t.returnUrl,filter:t.fastFilterInfo});break;case"":i.loadSuccess(t)}},function(e,t,i){RerenderDataDriver.roomList.container.loadError()})},loadSuccess:function(e){var t=RerenderDataDriver.roomList;if($DATA_DETAIL.roomInfo=e.roomInfoList,$DATA_DETAIL.roomInfoDisplay=n.clone(e.roomInfoList),$DATA_DETAIL.roomInfoDisplay.rpNameMvt="0"===m("77").val,$DATA_DETAIL.roomInfoDisplay.customDetailReturn=$DATA_DETAIL.customization&&$DATA_DETAIL.customization.detail&&$DATA_DETAIL.customization.detail.detailReturn||"",$DATA_DETAIL.fastFilterInfo=e.fastFilterInfo,""!=$DATA_DETAIL.roomInfoDisplay.customDetailReturn)for(var i=0,a=$DATA_DETAIL.roomInfoDisplay.length;i<a;i++)for(var s=$DATA_DETAIL.roomInfoDisplay[i],o=0,r=s.rpList.length;o<r;o++){var l=s.rpList[o];(!s.minCouponVal||l.couponVal>0&&s.minCouponVal>l.couponVal)&&(s.minCouponVal=l.couponVal)}t.adapter($DATA_DETAIL.roomInfoDisplay),t.render($DATA_DETAIL)},loadError:function(e){var t=RerenderDataDriver.roomList;t.container.find(".rooms, .noroom, .timeout, .filter-noresult").remove(),"NET_TIMEOUT"==e.type?t.container.html(t.TEMPLATE.TIMEOUT):$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult?(t.container.html(t.TEMPLATE.FILTERNORESULT),e.filter&&($DATA_DETAIL.fastFilterInfo=e.filter,fastChoice.renderData())):t.container.html(t.TEMPLATE.NOROOM),e.url&&t.container.find(".noroom .refresh_btn").attr("return-url",e.url)},adapter:function(e){for(var t=0;t<e.length;t++){var i=e[t],a=!1;this.getValueFromMap(i),i.h5fx_hotel_detail=$DATA_DETAIL.mvtResultModelMap.h5fx_hotel_detail;for(var n=0;n<i.rpList.length;n++){var s=i.rpList[n];a=a||!!s.available,s.availableClass="",s.appPromotionFlag&&s.available?s.showPayBtnType=this.map.showPayType[4].replace("${url}",s.appPromotionUrl):s.available?s.showPayBtnType=this.map.showPayType[s.showPayType].replace("${url}",s.bookUrl):(s.showPayBtnType=this.map.showPayType[3],s.availableClass="no")}i.availableClass=a?"":"no"}},render:function(e){if(this.container.find(".rooms, .noroom").remove(),e.title="附近酒店",!e.roomInfoDisplay||0==e.roomInfoDisplay.length)return this.container.children(".first").after('<li class="noroom">暂无可预订房型</li>'),void l.newAlert();this.container.html(d("roomList",e)),p.handleLazy();var t=this.container.children(".rooms"),i=this,a=m("96").val,n=0;switch(parseInt(a)){case 0:n=6;break;case 1:n=8;break;case 2:n=4;break;default:n=4}t.each(function(){var e=$(this),t=e.find(".roomdetail"),a=e.find(".pic_wrap");0==a.children().length&&a.parent().hide(),t.length>n+1&&(t.filter(".roomdetail:nth-child(n + "+(n+1)+")").addClass("hide"),$(t.get(n-1)).after(i.TEMPLATE.SHOWMORE))}),p.handleLazy(),$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_filter_feature.mvtResult&&fastChoice.renderData()}},comment:{imgList:{},init:function(){RerenderDataDriver.getData(window.pageInfo.subPath+"api/otherdetail",{hotelid:$DATA_DETAIL.hotelid},function(t){return t.comments&&t.comments.length?(RerenderDataDriver.comment.adapter(t),RerenderDataDriver.comment.render(t),RerenderDataDriver.comment.initImgList(),$(".comment-h5, .comment",e).find(".pic img").off("click").on("click",function(){var e=$(this),t=e.attr("img_index"),i=e.attr("comment_no");O.show(RerenderDataDriver.comment.imgList[i],Number(t)+1)}),void(t.orderNumber>0&&RerenderDataDriver.comment.recordTextLayer("48小时内有"+t.orderNumber+"人预订"))):(RerenderDataDriver.comment.adapter(t),void RerenderDataDriver.comment.render(t))},function(e,t,i){})},map:{userRank:{1:'<span class="level3">点评新人</span>',2:'<span class="level2">点评达人</span>',3:'<span class="level1">点评专家</span>'}},initImgList:function(){var t=0,i=RerenderDataDriver.comment.imgList,a=u.getHDTypeByDevice();$(".comment .com-list li",e).each(function(){var e=$(this),n=e.find(".pic img"),s=[],o=0;e.attr("comment_no","no_"+t),n.each(function(){var e=""==this.src?this.getAttribute("srcset"):this.src,i=u.replaceUrl(e,a);s.push(i),this.setAttribute("img_index",o),this.setAttribute("comment_no","no_"+t),o++}),i["no_"+t]=s,t++});var n=$(".comment-h5 .pic img",e);if(n.length>0){var s=0,o=[];n.each(function(){var e=""==this.src?this.getAttribute("srcset"):this.src,t=u.replaceUrl(e,a);o.push(t),this.setAttribute("img_index",s),this.setAttribute("comment_no","h5CommentPic"),s++}),i.h5CommentPic=o}},adapter:function(e){if(e.totalCommentNumber=e.totalCount,e.goodCommentNumber=e.goodCount,$DATA_DETAIL.totalCommentNumber=e.totalCount,$DATA_DETAIL.goodCommentNumber=e.goodCount,e.comments&&e.comments.length)for(var t=0;t<e.comments.length;t++){var i=e.comments[t];i.userRank=RerenderDataDriver.comment.map.userRank[i.userRank]}},render:function(t){$(".choose .text1 .right_c").remove(),t.totalCommentNumber=parseInt(t.totalCommentNumber),t.goodCommentNumber=parseInt(t.goodCommentNumber),$(".choose .tabcomment",e).append(d("comment",t)),p.handleLazy()},recordTextLayer:function(t){var i=$(".record-text",e);i.removeClass("record-active").hide(),i.text(t),i.appendTo(n.getActiveLayer()),i.show(),i.addClass("record-active"),clearTimeout(I),I=setTimeout(function(){i.removeClass("record-active").hide()},2500)}},HistoryList:function(){if(void 0!=localStorage.getItem("historydata")){var t=JSON.parse(localStorage.getItem("historydata"));t.historyInfo.length>5&&(t.historyInfo.length=5),t.subPath=pageInfo.subPath,$(".look .list dt",e).after(d("history",t));for(var i={HotelId:x.hotelid,HotelName:$(".pic-wrap .name").html(),HotelPrice:x.hotelMinAveragePrice},a=0;a<t.historyInfo.length;a++)t.historyInfo[a].HotelId==x.hotelid&&t.historyInfo.splice(a,1);t.historyInfo.unshift(i),localStorage.setItem("historydata",JSON.stringify(t))}else{var n={historyInfo:[{HotelId:x.hotelid,HotelName:$(".pic-wrap .name").html(),HotelPrice:x.hotelMinAveragePrice}]};localStorage.setItem("historydata",JSON.stringify(n))}},getData:function(e,t,i,a){$.ajax({timeout:15e3,type:"GET",url:e,dataType:"json",data:t,success:function(e){i(e)},error:function(e,t,i){a(e,t,i)},beforeSend:function(){n.get("h5_detail").startLoading()},complete:function(){n.get("h5_detail").stopLoading()}})},nearList:function(){var e={startlat:$DATA_DETAIL.baiduLatitude,startlng:$DATA_DETAIL.baiduLongitude,radius:5,pagesize:6,isnear:1,lbstype:2,hotelid:$DATA_DETAIL.hotelid};switch($DATA_DETAIL.starLevel){case 12:case 2:case 12:case-12:case 13:case-13:e.starlevels=12;break;case 3:case-3:e.starlevels=3;break;case 4:case-4:case 14:case-14:e.starlevels=4;break;case 5:case-5:case 15:case-15:e.starlevels=5}}},RerenderDataDriver.roomList.init(),RerenderDataDriver.comment.init(),RerenderDataDriver.HistoryList(),RerenderDataDriver.roomList.load();var E=function(e){location.hash!=A&&(setTimeout(function(){return A=location.hash,_=location.pathname,!1},0),"h5_detail"==n.router.getidFromUrl(location.pathname)&&"h5_detail"==n.getActiveId()&&_==location.pathname&&RerenderDataDriver&&RerenderDataDriver.roomList&&RerenderDataDriver.roomList.loadDataByHash())};$(window).off("statechange",E),History.Adapter.bind(window,"statechange",E);var M={init:function(){},mapSetBg:function(){var t=$(".info .map span",e);t.css("background",'url("'+t.attr("src-url")+'") no-repeat'),t.after('<i class="icon" style="top:10px; left:10px;"></i>')},load:function(t){for(var i=$(".focuspic",e),a=null,s=0;s<t.length;s++)a=$("<div>").addClass("swiper-slide").appendTo(i),$("<img>").attr("src",M.adapter(t[s])).appendTo(a);M.swiper=new Swiper(".pic-wrap",M.swiperConfig),$(window).on("onshow",function(e){"h5_detail"==e.detail&&(M.swiper=new Swiper(".pic-wrap",M.swiperConfig))}),n.isPad&&this.mapSetBg()},swiper:null,swiperConfig:{autoplay:3e3,autoplayDisableOnInteraction:!1},adapter:function(e){return e&&(e=e.replace(/mobile220_220|Hotel70_70/i,"hotel750_360")),e}};M.load($DATA_DETAIL.bannerPicUrls),Collect={LoginType:x.loginFlag,CollectType:x.fav,Init:function(){$(e).off("click",".flight-order-head .collect,.tool .xq").on("click",".flight-order-head .collect,.tool .xq",function(){slark.get("h5_detail").startLoading(),0==Collect.LoginType?Collect.LoginConfirm():0==Collect.CollectType?Collect.AddCollect():1==Collect.CollectType&&Collect.RemoveCollect()})},LoginConfirm:function(){if(slark.get("h5_detail").stopLoading(),$DATA_DETAIL.customization&&$DATA_DETAIL.customization.detail&&$DATA_DETAIL.customization.detail.silentLogin){var e=$DATA_DETAIL.customization.detail.silentLogin;e.loginStatus||(window.location.href=e.refreshUrl)}else window.location.href=x.favBackUrl},AddCollect:function(){slark.get("h5_detail").stopLoading(),$.ajax({timeout:1e4,url:window.pageInfo.subPath+"api/addhotelfavorite",data:{hotelid:x.hotelid},type:"POST",success:function(t){slark.get("h5_detail").stopLoading(),Collect.CollectType=1,$(".flight-order-head .collect,.tool .xq i",e).removeClass("icon-collect"),$(".flight-order-head .collect,.tool .xq i",e).addClass("icon-hascollect"),RerenderDataDriver.comment.recordTextLayer("收藏成功")},error:function(){slark.get("h5_detail").stopLoading(),l.alert("收藏失败，请重试")}})},RemoveCollect:function(){slark.get("h5_detail").stopLoading(),b&&$(".flight-order-head",e).addClass("none_backg"),l.confirm({text:["放弃","确定"],content:"确定要取消收藏该酒店？",success:function(){},cancel:function(){$.ajax({timeout:1e4,url:window.pageInfo.subPath+"api/deletehotelfavorite",data:{hotelid:x.hotelid},type:"POST",success:function(t){slark.get("h5_detail").stopLoading(),Collect.CollectType=0,$(".flight-order-head .collect,.tool .xq i",e).addClass("icon-collect"),$(".flight-order-head .collect,.tool .xq i",e).removeClass("icon-hascollect")},error:function(){slark.get("h5_detail").stopLoading(),l.alert("收藏失败，请重试")}})}})}},Collect.Init(),x.companyTel="0551-65299391",""==x.companyTel?$(".tool .ht",e).attr("href","tel:"+x.hotelTel):""==x.hotelTel?$(".tool .ht",e).attr("href","tel:"+x.companyTel):""!=x.companyTel&&""!=x.hotelTel&&(C=$(".tool .ht",e).slideSelector({title:"客服电话",data:[{value:"0",text:"65656565"},{value:"1",text:"4005555555"}],callback:function(e){this.page.find(".label-radio .check").hide()}}),c.add("iconphone",C),$(".radio-text",e).eq(0).html('<a href="tel:'+x.companyTel+'">艺龙电话：'+x.companyTel+"</a>"),$(".radio-text",e).eq(1).html('<a href="tel:'+x.hotelTel+'">酒店电话：'+x.hotelTel+"</a>")),$(e).off("click",".rooms .wrap").on("click",".rooms .wrap",function(){var e=$(this).parent();e.hasClass("on")?e.find(".rigit_activebg").attr("data-tj",'{"cspot":"rateplanlistoff"}'):e.find(".rigit_activebg").attr("data-tj",'{"cspot":"rateplanlist1"}'),e.toggleClass("on")});var P={TEMPLATE:'<div class="type-pop-box roomTypeInfo newdetailhsize"><div class="toptitle"><p><span class="htitle"></span></p><div class="htclose"><i class="cancel-icon"></i></div></div><div class="wrap page-content" ><div class="swiper-container hpic_show"><div class="swiper-wrapper"></div><div class="swiper-pagination"></div></div><div class="type-list"><p class="faclist"></p><p class="tip"></p></div><div class="discount u-bt discountRoomInfo"></div></div><div class="bottom_btn tjclick" data-tj={"cspot":"rateplanlist2"}><span>查看房型报价</span></div></div>',option:{showType:"transition",transitionClass:"box-active",showTransition:$("html").hasClass("ios")},swiperConfig:{pagination:".swiper-pagination",paginationClickable:!0},roomTypeSwiper:null,pic:null,preLoader:null,content:null,beforeShow:function(){c.showLoad(),$(".mask-layer",e).off("click").on("click",function(){P.hide()});var t=$("html");t.hasClass("android")&&t.css("overflow","hidden")},afterShow:function(){},init:function(){this.page=$(this.TEMPLATE),this.page.appendTo(n.getActiveLayer()),$(".type").off("click").on("click",".rpDetail",P._renderRoomTypeInfo),this.page.off("click",".toptitle div").on("click",".toptitle div",function(){P.hide()}),P.roomTypeSwiper=new Swiper(".swiper-container",this.swiperConfig)},afterHide:function(){c.removeLoad(),$(".mask-layer",e).off("click");var t=$("html");t.hasClass("android")&&t.css("overflow","")},_renderRoomTypeInfo:function(t){var i=$(this).parent().parent(),a=$(".type .rooms").index(i),n=x.roomInfo[a],s=n.roomInfoName,o=n.newImgList,r=n.newTipsList,l=n.rpList[0],c=(l.additionInfoList,l.windowFlag),d=$(".roomTypeInfo .type-list .faclist",e),p=$(".roomTypeInfo .discountRoomInfo",e),h=$(".roomTypeInfo .htitle",e),u={1:"有窗",0:"无窗","-1":"未知"},f=" ",m=new Array;m[0]=u[c],m[1]=l.additionInfoList[3].content,m[2]=l.additionInfoList[0].content,m[3]=l.additionInfoList[1].content,m[4]=l.additionInfoList[4].content,m[5]=l.additionInfoList[2].content;for(var g=0;g<m.length;g++)m[g]&&"未知"!=m[g]&&(f+='<span><i class="detail_fac_v'+(g+1)+'"></i>'+m[g]+"</span>");d.html(f);var v="";$.each(r,function(e,t){(t.TipContent&&"未知"!==t.TipContent||t.tipContent&&"未知"!==t.tipContent)&&(v+='<p class="clearfix"><span class="dct_tit">'+(t.TipName||t.tipName)+'：</span><span class="dct_txt">'+(t.TipContent||t.tipContent)+"</span></p>")}),p.html(v),h.text(s),0==v.length?$(".roomTypeInfo .discountRoomInfo",e).addClass("hide"):$(".roomTypeInfo .discountRoomInfo",e).removeClass("hide");var y=[],T="",b=w+"img/room_type_default.png";0===o.length&&o.push(b),$.each(o,function(e,t){T='<div class="swiper-slide"><img src="'+t+'"></div></div>',y.push(T)}),P.roomTypeSwiper.removeAllSlides(),P.roomTypeSwiper.appendSlide(y),$(".bottom_btn",e).off("click").on("click",function(){i.hasClass("on")||i.addClass("on"),P.hide()}),P.show(),TJObject.cspot="roomdetail",TJObject.et="click",tjMVT.setData(TJObject),t.stopPropagation()}};$DATA_DETAIL.mvtResultModelMap&&$DATA_DETAIL.mvtResultModelMap.h5fx_hotel_detail&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_hotel_detail.mvtResult&&c.add("roomTypeInfo",P);var N={TEMPLATE:'<div class="type-pop-box roomDetailInfo newdetailhsize"><div class="head"><span><i class="icon-cross"></i></span></div><div class="toptitle"><p><span class="htitle"></span><span class="rpName"></span></p><div class="htclose"><i></i></div></div><div class="wrap page-content more"><div class="pic"><img src=""><div class="swiper-lazy-preloader"></div></div><div class="info"><p class="name"></p><p class="brackfast"></p><p class="canceltype"></p></div><div class="type-list"><p class="faclist faclistOrigin"></p><p class="tip"></p></div><div class="discount bookNotes"><div class="titletips">预订须知</div><div class="tips"></div></div><div class="discount u-bt reservationBooking"><div class="titletips">预订专享</div><div class="tags"></div></div><div class="new_box"></div></div><div class="bd bottom_price"><div class="left"><div class="table-cell"><div class="price"><span class="ce65">￥<span></span><span class="hour"></span></span></div><div class="back"><span class="ce65 coupon"></span> <span class="ce65 hongbao"><span></span></span><span class="c999 officehours"></span></div></div></div><div class="right book tjclick" data-tj={"cspot":"rateplanbooking"}>立即预订</div></div></div>',option:{showType:"transition",transitionClass:"box-active",showTransition:$("html").hasClass("ios")},pic:null,preLoader:null,content:null,beforeShow:function(){c.showLoad(),$(".mask-layer",e).off("click").on("click",function(){N.hide(),$(".roomDetailInfo .price b",e).remove()});var t=$("html");t.hasClass("android")&&t.css("overflow","hidden")},afterShow:function(){},init:function(){var t=this;this.page=$(this.TEMPLATE),this.page.appendTo(n.getActiveLayer()),this.pic=$(".roomDetailInfo .pic img",e),this.preLoader=$(".roomDetailInfo .swiper-lazy-preloader",e),this.content=this.page.find(".page-content > .pic"),$(e).off("click",".info-list .roomdetail").on("click",".info-list .roomdetail",N._renderDetail),$(this.page).off("click",".pic img").on("click",".pic img",function(){if(!this.getAttribute("defuat-pic")){var e=u.getHDTypeByDevice(),t=u.replaceUrl(this.src,e);O.show([t])}}),$(".roomDetailInfo .pic img",e).off("load").on("load",function(){N.preLoader.hide()}),this.page.off("click",".head, .toptitle div").on("click",".head, .toptitle div",function(){N.hide(),$(".roomDetailInfo .price b",e).remove()}),$(e).off("click",".roomDetailInfo .book").on("click",".roomDetailInfo .book",function(){var e=$(this);if(!e.hasClass("full")){localStorage.setItem("elongordervisited",!0);var i={};sessionStorage.setItem("insurancesParams",JSON.stringify({newCancelType:t.DATA_rpList.cancelType,canCancelInsurance:t.DATA_rpList.canCancelInsurance})),i.hotelName=$DATA_DETAIL.hotelDetailInfo.hotelName,i.hotelAddr=$DATA_DETAIL.hotelDetailInfo.hotelAddress,i.hotelCity=$DATA_DETAIL.cityName,i.insuranceId="1",sessionStorage.setItem("posterorderParams",JSON.stringify(i)),location.href=e.attr("book-url")}})},afterHide:function(){c.removeLoad(),$(".mask-layer",e).off("click");var t=$("html");t.hasClass("android")&&t.css("overflow","")},_isBookBtn:function(e){if(e.hasClass("book")||e.hasClass("btn1")||e.hasClass("btn2")||e.hasClass("btn3"))return!0},_renderDetail:function(){var t=$(event.srcElement);if(!N._isBookBtn(t)&&!N._isBookBtn(t.parent())){var i=$(".info-list").index($(this).parent().parent()),a=$(".info-list").eq(i).find(".roomdetail").index(this),n=x.roomInfo[i].rpList[a];N.DATA_rpList=n;var s=$(".roomDetailInfo .wrap .reservationBooking",e);$(".roomDetailInfo .bookNotes .tips",e).html(""),s.find(".tips").html(""),$(".roomDetailInfo .toptitle .htitle").text(x.roomInfo[i].roomInfoName),n.productSubName?$(".roomDetailInfo .toptitle .rpName").html(n.productName+"<b>|</b>"+n.productSubName):$(".roomDetailInfo .toptitle .rpName").text(n.productName);var o=window.pageInfo&&"weixin_lbs"==window.pageInfo.chid?"dct_pubtxt":"",r='<p class="clearfix ${canceltype}"><span class="dct_tit '+o+'"><i>${title}</i></span><span class="dct_txt dct_pubtxt">${text}</span></p>',l="",c={0:r.replace("${canceltype}","").replace("${title}","到店付：").replace("${text}","到达酒店后，向酒店支付房费，无需在线预付房费。"),1:r.replace("${canceltype}","").replace("${title}","到店付（担保）：").replace("${text}","预订酒店后需支付定金，成功入住后三日内返还定金，未如约入住，定金将被扣除。"),2:r.replace("${canceltype}","").replace("${title}","预付：").replace("${text}","预订酒店后立即向艺龙在线支付房费。")};if(l=c[n.showPayType],$(".roomDetailInfo .bookNotes .tips",e).append(l),n.imgList&&n.imgList.length>0){var d=u.getHDTypeByDevice(),p=u.replaceUrl(n.imgList[0],d);p!=N.pic.attr("src")&&(N.preLoader.show(),N.pic.attr("src",""),N.pic.attr("src",p))}else $(".roomDetailInfo .pic",e).find("img").attr("src",w+"img/defuat_room_pic.png").attr("defuat-pic","true");var h="",f={1:"有窗",0:"无窗","-1":"未知"};if(h=f[n.windowFlag],1==n.roomType||2==n.roomType){var m=n.windowFlag==-1?n.specialRoomName:n.specialRoomName+"("+h+")";$(".roomDetailInfo .info .name",e).html(m),$(".roomDetailInfo .info .brackfast",e).html(n.specialRateplanName)}else $(".roomDetailInfo .info .name",e).html(x.roomInfo[i].roomInfoName+(n.windowFlag==-1?"":"("+h+")")),$(".roomDetailInfo .info .brackfast",e).html(n.productName);2==n.roomType&&n.nRoom>0?$(".roomDetailInfo .info .canceltype",e).html(n.nRoom+"间起订&nbsp;&nbsp;"+n.cancelTag):$(".roomDetailInfo .info .canceltype",e).html(n.cancelTag);var m=" ",g=new Array;g[0]=n.additionInfoList[6].content,g[1]=h,g[2]=n.additionInfoList[3].content,g[3]=n.additionInfoList[0].content,g[4]=n.additionInfoList[1].content,g[5]=n.additionInfoList[4].content,g[6]=n.additionInfoList[2].content;for(var v=0;v<g.length;v++)g[v]&&"未知"!=g[v]&&(m+='<span><i class="detail_fac_v'+v+'"></i>'+g[v]+"</span>");var y=$(".roomDetailInfo .type-list .faclistOrigin",e);y.html(m);var T=[];n.channelTags&&[].forEach.call(n.channelTags,function(e){var t=e;(t.available||t.Available)&&(channelTags.description||channelTags.Description)&&T.push(r.replace("${canceltype}","").replace("${title}",t.name||t.Name).replace("${text}",channelTags.description||channelTags.Description))}),n.showTags&&[].forEach.call(n.showTags,function(e){var t=e;(t.available||t.Available)&&T.push(r.replace("${canceltype}","").replace("${title}",t.name||t.Name).replace("${text}",t.description||t.Description))}),s.find(".tags").html(T.join("")),0===T.length&&"0"===$DATA_DETAIL.mvtResultModelMap.h5fx_hotel_detail.mvtResult?s.addClass("hide"):s.removeClass("hide");var I="";n.cancelTag&&n.cancelMsg&&(I=r.replace("${canceltype}","canceltype").replace("${title}",n.cancelTag+"：").replace("${text}",n.cancelMsg)),0!==x.roomInfo[i].roomType||"1"===$DATA_DETAIL.mvtResultModelMap.h5fx_hotel_detail.mvtResult?($(".roomDetailInfo").addClass("olddetailhsize"),s.find(".tags").append(I.replace("：",""))):($(".roomDetailInfo").removeClass("olddetailhsize"),$(".roomDetailInfo .bookNotes .tips",e).append(I)),n.extraBedInfo&&$(".roomDetailInfo .bookNotes .tips",e).append(r.replace("${canceltype}","").replace("${title}","加床：").replace("${text}",n.extraBedInfo));var C="",A={1:"",2:r.replace("${canceltype}","").replace("${title}","内宾：").replace("${text}","须持大陆身份证入住。"),3:r.replace("${canceltype}","").replace("${title}","外宾：").replace("${text}","国际（含港澳台）客人专供。"),4:r.replace("${canceltype}","").replace("${title}","港澳台：").replace("${text}","港澳台客人专供。"),5:r.replace("${canceltype}","").replace("${title}","日本：").replace("${text}","日本客人专。")};C=A[n.guestType],C&&($(".roomDetailInfo .type-list .tip",e).html(C),$(".roomDetailInfo .bookNotes .tips",e).append(C)),n.describe&&$(".roomDetailInfo .bookNotes .tips",e).append(r.replace("${canceltype}","").replace("${title}","提示：").replace("${text}",n.describe));var _="";1==n.roomType?($(".roomDetailInfo .price .ce65 span",e).html(n.averagePriceSubTotal),$(".roomDetailInfo .price .ce65 .hour",e).html("/"+n.stayTime+"小时"),$(".roomDetailInfo .price .ce65 .hour",e).show()):($(".roomDetailInfo .price .ce65 span",e).html(n.averagePrice),$(".roomDetailInfo .price .ce65 .hour",e).hide()),2==n.showAvourableType?(3==n.productType||5==n.productType?_="优惠 ￥"+n.couponVal:4==n.productType?_="满减 ￥"+n.couponVal:2!=n.productType&&6!=n.productType||(_="返 ￥"+n.couponVal),4!=n.productType&&5!=n.productType||$(".roomDetailInfo .price .ce65 span",e).html(n.originalPriceRmb)):1==n.showAvourableType?_="立减 ￥"+n.couponVal:3==n.showAvourableType?_="返 ￥"+n.couponVal:0==n.showAvourableType&&(_=""),n.couponVal>0&&1!=n.roomType?($(".roomDetailInfo .back .coupon",e).html(_),$(".roomDetailInfo .back .coupon",e).show()):($(".roomDetailInfo .back .coupon",e).hide(),$(".roomDetailInfo .back .coupon",e).html("")),1==n.hongbaoFlag&&1!=n.roomType?($(".roomDetailInfo .back .hongbao",e).html("红包 ￥"+n.hongBaoVal),$(".roomDetailInfo .back .hongbao",e).show()):($(".roomDetailInfo .back .hongbao",e).hide(),$(".roomDetailInfo .back .hongbao",e).html("")),1==n.roomType?($(".roomDetailInfo .back .officehours",e).html(n.officeHours),$(".roomDetailInfo .back .officehours",e).show()):($(".roomDetailInfo .back .officehours",e).html(""),$(".roomDetailInfo .back .officehours",e).hide());var S="";if(0==n.available)S="满房",$(".roomDetailInfo .book",e).addClass("full"),$(".roomDetailInfo .pay",e).html("");else if(1==n.appPromotionFlag){S="APP预订";var k=$(".type-pop-box .book",e);$(".roomDetailInfo .book",e).removeClass("full"),k.attr("book-url",n.appPromotionUrl),$(".roomDetailInfo .pay",e).html("")}else{S="立即预订";var k=$(".roomDetailInfo .book",e);k.removeClass("full"),k.attr("book-url",n.bookUrl);var D="",L={1:"担保",2:"预付"};D=L[n.showPayType],$(".roomDetailInfo .pay",e).html(D)}$(".roomDetailInfo .book",e).html(S);var E="",M={0:"",1:'<p class="box_warning"><i class="icon-ok5"></i><span class="box_w_text">该房型价格为铂涛新会员（身份证/手机号码均未注册过）专享价格，限订一间夜，预订即代表同意注册成为铂涛会员，请您如实填写身份证号码，以便核实新会员资格。如订单取消，再次预订不享受新会员专享价格。</span></p>',2:'<p class="box_warning"><i class="icon-ok5"></i><span class="box_w_text">该房型价格为华住新会员（身份证/手机号码均未注册过）专享价格，限订一间夜，预订即代表同意注册成为华住会员，请您如实填写身份证号码，以便核实新会员资格。如订单取消，再次预订不享受新会员专享价格。</span></p>'};E=M[n.hbtag],$(".roomDetailInfo .new_box",e).html(E),N.show(),N.page.find(".page-content").scrollTop(0),b&&$(".flight-order-head",e).addClass("none_backg")}}};c.add("roomDetail",N);var O=new h;c.add("picSwipper",O);var R={TEMPLATE:d("hotelInfoDetail",a(x)),facText:null,init:function(){this.page=$(this.TEMPLATE),this.facText=this.page.find(".hotel-info-fac .intro .text"),$(".choose .tabdetails",e).off("click").on("click",function(){R.show()}),$(".hotel_info_facbox .info-pop-box .btn",this.page).off("click").on("click",function(){R.hide()}),$("header .icon-back",this.page).click(function(){R.hide()})},afterShow:function(){R.facText.find("span").height()>120&&R.facText.addClass("text-show"),$(".na .na_rt",this.page).off("click").on("click",function(){C.show()}),this.toggle_more(".fac_txt .fac_txtc",[".fac_txtc_h p"],".fac_txt .fac_more"),this.toggle_more(".intro .intro_con .text_con_h",[".text",".ht_dct"],".intro .fac_more",{line_height:21,lines:6})},toggle_more:function(e,t,i,a){var n,s=$(e,this.page),o=$(i,this.page),r=0,l=[],c=function(e){var t=parseInt(e.css("padding-top").replace("px","")),i=parseInt(e.css("padding-bottom").replace("px",""));return t+i};if(s.length&&i.length){[].forEach.call(t,function(e){n=s.find(e),n.length&&(r+=n.height(),l.push(n))});var d=s.height(),p=!1,h=!1;if(void 0!=a&&"object"==typeof a){var u,f=0,m=0,g=0;if(a.line_height&&a.lines){for(var v=0;v<l.length;v++){if(u=l[v],g=c(u),f+=u.height()-g,f>a.line_height*a.lines){var y=a.line_height*a.lines+m;s.css("max-height",y);break}m+=g}h=f<=a.line_height*a.lines}}d&&d<r&&!h?o.text("查看更多").off("click").on("click",function(){s.toggleClass("show"),o.toggleClass("fac_more_hide"),p=!p,p?o.text("收起"):o.text("查看更多")}):(s.toggleClass("show"),o.off("click").hide())}}};c.add("hotelInfo",R),r.promotionDownload.init({hasPproDownload:$DATA_DETAIL.hasPproDownload,proDownloadUrl:$DATA_DETAIL.proDownloadUrl,hotelWeiXinPro:$DATA_DETAIL.hotelWeiXinPro}),r.wxPromotion.init({hotelWeiXinPro:$DATA_DETAIL.hotelWeiXinPro});var j={Init:function(){$(e).on("click",".choose .titles li",function(){$(".choose .titles li").removeClass("active"),$(this).addClass("active"),$(".choose .text1",e).hide(),$(this).hasClass("hoteldetail")?($(".choose .titles .line",e).addClass("left"),$(".choose .text1",e).eq(1).show()):($(".choose .titles .line",e).removeClass("left"),$(".choose .text1",e).eq(0).show())})}};j.Init();var z=$("html"),F=null,U=null;F=n.getActiveLayer(),U=F.children(".page-content"),z.hasClass("android")?$(document).off("scroll",y).on("scroll",y):U.off("scroll",y).on("scroll",y);var H=function(){for(var e=["","-webkit-","-ms-","-moz-","-o-"],t="",i=0;i<e.length;i++)t+="position:"+e[i]+"sticky;";var a=document.createElement("div"),n=document.body;a.style.cssText="display:none;"+t,n.appendChild(a);var s=/sticky/i.test(window.getComputedStyle(a).position);return n.removeChild(a),a=null,s},B=H();if(B){var q=$(".new_detailst .detail-hotel",e).parent();$(".detail-main").css("overflow","visible"),q.addClass("sticky"),$DATA_DETAIL.customization&&$DATA_DETAIL.customization.detail&&$DATA_DETAIL.customization.detail.noHeader?q.css("top","-1px"):q.css("top","43px")}else $(".stickys.bar",e).addClass("fixedToTop")})}]);